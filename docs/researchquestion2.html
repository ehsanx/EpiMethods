<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>OER: Advanced Epidemiological Methods - NHANES data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./researchquestionF.html" rel="next">
<link href="./researchquestion1.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<meta name="twitter:title" content="OER: Advanced Epidemiological Methods - NHANES data">
<meta name="twitter:description" content="We are interested in exploring the relationship between diabetes (binary exposure variable defined as whether the doctor ever told the participant has diabetes) and cholesterol (binary outcome…">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar docked slimcontent">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">NHANES data</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">OER: Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">Functions for wrangling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz on wrangling</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Data accessing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">Functions for data accessing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz on accessing</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research question</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">RHC data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2.html" class="sidebar-item-text sidebar-link active">NHANES data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">R for research question</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz on research question</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#working-with-a-causal-question" id="toc-working-with-a-causal-question" class="nav-link active" data-scroll-target="#working-with-a-causal-question">Working with a causal question</a></li>
  <li><a href="#steps-for-creating-analytic-dataset" id="toc-steps-for-creating-analytic-dataset" class="nav-link" data-scroll-target="#steps-for-creating-analytic-dataset">Steps for creating analytic dataset</a></li>
  <li><a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression">Regression</a></li>
  <li><a href="#se-calculation" id="toc-se-calculation" class="nav-link" data-scroll-target="#se-calculation">SE calculation</a></li>
  <li><a href="#residual-df-psus-count---strata-count" id="toc-residual-df-psus-count---strata-count" class="nav-link" data-scroll-target="#residual-df-psus-count---strata-count">Residual df = PSUs count - strata count</a></li>
  <li><a href="#saving-data" id="toc-saving-data" class="nav-link" data-scroll-target="#saving-data">Saving data</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">NHANES data</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="working-with-a-causal-question" class="level3">
<h3 class="anchored" data-anchor-id="working-with-a-causal-question">Working with a causal question</h3>
<p>We are interested in exploring the relationship between diabetes (binary exposure variable defined as whether the doctor ever told the participant has diabetes) and cholesterol (binary outcome variable defined as whether total cholesterol is more than 200 mg/dL). Below is the PICOT:</p>
<table class="table">
<thead>
<tr class="header">
<th>PICOT element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>P</td>
<td>US adults</td>
</tr>
<tr class="even">
<td>I</td>
<td>Diabetes</td>
</tr>
<tr class="odd">
<td>C</td>
<td>No diabetes</td>
</tr>
<tr class="even">
<td>O</td>
<td>Total cholesterol &gt; 200 mg/dL</td>
</tr>
<tr class="odd">
<td>T</td>
<td>2017–2018</td>
</tr>
</tbody>
</table>
<p>First, we will prepare the analytic dataset from NHANES 2017–2018.</p>
<p>Second, we will work with subset of data to assess the association between diabetes and cholesterol, and to get proper SE and 95% CI for the estimate. We emphasize the correct usage of the survey’s design features (correct handling of survey design elements, such as stratification, clustering, and weighting) to obtain accurate population-level estimates.</p>
<div class="cell" data-hash="researchquestion2_cache/html/setup_97097d104c3b6c21b0f22bb5e4299344">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(SASxport)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DiagrammeR)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DiagrammeRsvg)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rsvg)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(svglite)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(nhanesA)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(survey)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(Publish)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(jtools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="steps-for-creating-analytic-dataset" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="steps-for-creating-analytic-dataset">Steps for creating analytic dataset</h3>
<p>We will combine multiple components (e.g., demographic, blood pressure) using the unique identifier to create our analytic dataset.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Within NHANES datasets in a given cycle, each sampled person has an unique identifier sequence number (variable SEQN).</p>
</div></div><div class="cell" data-hash="researchquestion2_cache/html/graph1ttt_f5f6014508084854e3e9241922d59f8d">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/overallnhanesplan.png" class="img-fluid" style="width:75.0%"></p>
</div>
</div>
<section id="download-and-subsetting-to-retain-only-the-useful-variables" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="download-and-subsetting-to-retain-only-the-useful-variables">Download and Subsetting to retain only the useful variables</h4>
<p>Search literature for the relevant variables, e.g., <span class="citation" data-cites="peters2014combined">Peters, Fabian, and Levy (<a href="#ref-peters2014combined" role="doc-biblioref">2014</a>)</span>, and then see if some of them are available in the NHANES data.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="citation" data-cites="peters2014combined">Peters, Fabian, and Levy (<a href="#ref-peters2014combined" role="doc-biblioref">2014</a>)</span></p>
</div></div><div class="cell" data-hash="researchquestion2_cache/html/search4_dcf063170012503339e421852ccb46c0">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>demo <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DEMO_J'</span>) <span class="co"># Both males and females 0 YEARS - 150 YEARS</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>demo <span class="ot">&lt;-</span> demo[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"RIAGENDR"</span>, <span class="co"># gender</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"RIDAGEYR"</span>, <span class="co"># Age in years at screening</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDBORN4"</span>, <span class="co"># Country of birth</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"RIDRETH3"</span>, <span class="co"># Race/Hispanic origin w/ NH Asian</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDEDUC3"</span>, <span class="co"># Education level - Children/Youth 6-19</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDEDUC2"</span>, <span class="co"># Education level - Adults 20+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDMARTL"</span>, <span class="co"># Marital status: 20 YEARS - 150 YEARS</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"INDHHIN2"</span>, <span class="co"># Total household income</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"WTMEC2YR"</span>, <span class="st">"SDMVPSU"</span>, <span class="st">"SDMVSTRA"</span>)]</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>demo_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(demo) <span class="co"># nhanesTableVars('DEMO', 'DEMO_J', namesonly=TRUE)</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>demo1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'DEMO_J'</span>, demo_vars, <span class="at">data=</span>demo)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Translated columns: RIAGENDR DMDBORN4 RIDRETH3 DMDEDUC3 DMDEDUC2 DMDMARTL INDHHIN2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5_ca99de1043e92104227c16a80aebdf3e">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>bpx <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BPX_J'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>bpx <span class="ot">&lt;-</span> bpx[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">"BPXDI1"</span>, <span class="co">#Diastolic: Blood pres (1st rdg) mm Hg</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"BPXSY1"</span> <span class="co"># Systolic: Blood pres (1st rdg) mm Hg</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>             )]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>bpx_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(bpx) </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>bpx1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BPX_J'</span>, bpx_vars, <span class="at">data=</span>bpx)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in nhanesTranslate("BPX_J", bpx_vars, data = bpx): No columns were</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; translated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5a_6fc1ed7dab7b9e5249be738efc425128">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>bmi <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BMX_J'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>bmi <span class="ot">&lt;-</span> bmi[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXWT"</span>, <span class="co"># Weight (kg) </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXHT"</span>, <span class="co"># Standing Height (cm)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXBMI"</span>, <span class="co"># Body Mass Index (kg/m**2): 2 YEARS - 150 YEARS</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>               <span class="co">#"BMDBMIC", # BMI Category - Children/Youth # 2 YEARS - 19 YEARS</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXWAIST"</span> <span class="co"># Waist Circumference (cm): 2 YEARS - 150 YEARS</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>bmi_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(bmi) </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>bmi1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BMX_J'</span>, bmi_vars, <span class="at">data=</span>bmi)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in nhanesTranslate("BMX_J", bmi_vars, data = bmi): No columns were</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; translated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5b_bb00434458bb4b62acaccfac19ed2222">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>smq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'SMQ_J'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>smq <span class="ot">&lt;-</span> smq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"SMQ040"</span> <span class="co"># Do you now smoke cigarettes?: 18 YEARS - 150 YEARS</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>smq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(smq) </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>smq1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'SMQ_J'</span>, smq_vars, <span class="at">data=</span>smq)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Translated columns: SMQ040</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5c_d07713355d7702fb10430e6d7188d42a">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># alq &lt;- nhanes('ALQ_J')</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># alq &lt;- alq[c("SEQN", # Respondent sequence number</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#                "ALQ130" # Avg # alcoholic drinks/day - past 12 mos</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#                # 18 YEARS - 150 YEARS</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#                )]</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># alq_vars &lt;- names(alq) </span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># alq1 &lt;- nhanesTranslate('ALQ_J', alq_vars, data=alq)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5d_9ad676e3264b4bc3ce3a831e3c311939">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>chl <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'TCHOL_J'</span>) <span class="co"># 6 YEARS - 150 YEARS</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>chl <span class="ot">&lt;-</span> chl[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXTC"</span>, <span class="co"># Total Cholesterol (mg/dL)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBDTCSI"</span> <span class="co"># Total Cholesterol (mmol/L)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>chl_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(chl) </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>chl1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'TCHOL_J'</span>, chl_vars, <span class="at">data=</span>chl)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in nhanesTranslate("TCHOL_J", chl_vars, data = chl): No columns were</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; translated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5e_3b02b9dbf9b501fa7e2ebe13479817b3">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>tri <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BIOPRO_J'</span>) <span class="co"># 12 YEARS - 150 YEARS</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>tri <span class="ot">&lt;-</span> tri[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSTR"</span>, <span class="co"># Triglycerides, refrig serum (mg/dL)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSUA"</span>, <span class="co"># Uric acid</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSTP"</span>, <span class="co"># total Protein (g/dL)</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSTB"</span>, <span class="co"># Total Bilirubin (mg/dL)</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSPH"</span>, <span class="co"># Phosphorus (mg/dL)</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSNASI"</span>, <span class="co"># Sodium (mmol/L)</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSKSI"</span>, <span class="co"># Potassium (mmol/L)</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSGB"</span>, <span class="co"># Globulin (g/dL)</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSCA"</span> <span class="co"># Total Calcium (mg/dL)</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>tri_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(tri) </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>tri1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BIOPRO_J'</span>, tri_vars, <span class="at">data=</span>tri)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in nhanesTranslate("BIOPRO_J", tri_vars, data = tri): No columns were</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; translated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5f_9942244d92d284efcaac60b6d0a8d915">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>paq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'PAQ_J'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>paq <span class="ot">&lt;-</span> paq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"PAQ605"</span>, <span class="co"># Vigorous work activity </span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"PAQ650"</span> <span class="co"># Vigorous recreational activities</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>paq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(paq) </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>paq1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'PAQ_J'</span>, paq_vars, <span class="at">data=</span>paq)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Translated columns: PAQ605 PAQ650</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search5g_b0c08ad2b00115376f82b9e79f33eee7">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>diq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DIQ_J'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>diq <span class="ot">&lt;-</span> diq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"DIQ010"</span> <span class="co"># Doctor told you have diabetes</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>diq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(diq) </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>diq1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'DIQ_J'</span>, diq_vars, <span class="at">data=</span>diq)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Translated columns: DIQ010</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="merging-all-the-datasets" class="level4">
<h4 class="anchored" data-anchor-id="merging-all-the-datasets">Merging all the datasets</h4>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>We can use the <code>merge</code> or <code>Reduce</code> function to combine the datasets</p>
</div>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search8_5bc41c547056ba9ef4e2142a54dd2491">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>analytic.data7 <span class="ot">&lt;-</span> <span class="fu">Reduce</span>(<span class="cf">function</span>(x,y) <span class="fu">merge</span>(x,y,<span class="at">by=</span><span class="st">"SEQN"</span>,<span class="at">all=</span><span class="cn">TRUE</span>) ,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(demo1,bpx1,bmi1,smq1,chl1,tri1,paq1,diq1))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data7)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   33</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/search8b4g_83ee2ecbd03058c9224e2eca8fbe1c64">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merging one by one</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data0 &lt;- merge(demo1, bpx1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data1 &lt;- merge(analytic.data0, bmi1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data2 &lt;- merge(analytic.data1, smq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data3 &lt;- merge(analytic.data2, alq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data4 &lt;- merge(analytic.data3, chl1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data5 &lt;- merge(analytic.data4, tri1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data6 &lt;- merge(analytic.data5, paq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data7 &lt;- merge(analytic.data6, diq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(analytic.data7)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="check-target-population-and-avoid-zero-cell-cross-tabulation" class="level4">
<h4 class="anchored" data-anchor-id="check-target-population-and-avoid-zero-cell-cross-tabulation">Check Target population and avoid zero-cell cross-tabulation</h4>
<p>See that marital status variable was restricted to 20 YEARS - 150 YEARS.</p>
<div class="cell" data-hash="researchquestion2_cache/html/see1_25cecf05392e63ea902c6a3d522163fe">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(analytic.data7)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 'data.frame':    9254 obs. of  33 variables:</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ SEQN    : num  93703 93704 93705 93706 93707 ...</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ RIAGENDR: Factor w/ 2 levels "Male","Female": 2 1 2 1 1 2 2 2 1 1 ...</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ RIDAGEYR: num  2 2 66 18 13 66 75 0 56 18 ...</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ DMDBORN4: Factor w/ 4 levels "Born in 50 US states or Washingt",..: 1 1 1 1 1 2 1 1 2 2 ...</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ RIDRETH3: Factor w/ 6 levels "Mexican American",..: 5 3 4 5 6 5 4 3 5 1 ...</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ DMDEDUC3: Factor w/ 17 levels "Never attended / kindergarten on",..: NA NA NA 16 7 NA NA NA NA 13 ...</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ DMDEDUC2: Factor w/ 7 levels "Less than 9th grade",..: NA NA 2 NA NA 1 4 NA 5 NA ...</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ DMDMARTL: Factor w/ 7 levels "Married","Widowed",..: NA NA 3 NA NA 1 2 NA 1 NA ...</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ INDHHIN2: Factor w/ 16 levels "$ 0 to $ 4,999",..: 14 14 3 NA 10 6 2 14 14 4 ...</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ WTMEC2YR: num  8540 42567 8338 8723 7065 ...</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ SDMVPSU : num  2 1 2 2 1 2 1 1 2 2 ...</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ SDMVSTRA: num  145 143 145 134 138 138 136 134 134 147 ...</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ BPXDI1  : num  NA NA NA 74 38 NA 66 NA 68 68 ...</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ BPXSY1  : num  NA NA NA 112 128 NA 120 NA 108 112 ...</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ BMXWT   : num  13.7 13.9 79.5 66.3 45.4 53.5 88.8 10.2 62.1 58.9 ...</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ BMXHT   : num  88.6 94.2 158.3 175.7 158.4 ...</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ BMXBMI  : num  17.5 15.7 31.7 21.5 18.1 23.7 38.9 NA 21.3 19.7 ...</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ BMXWAIST: num  48.2 50 101.8 79.3 64.1 ...</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ SMQ040  : Factor w/ 3 levels "Every day","Some days",..: NA NA 3 NA NA NA 1 NA NA 2 ...</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXTC   : num  NA NA 157 148 189 209 176 NA 238 182 ...</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBDTCSI : num  NA NA 4.06 3.83 4.89 5.4 4.55 NA 6.15 4.71 ...</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSTR  : num  NA NA 95 92 110 72 132 NA 59 124 ...</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSUA  : num  NA NA 5.8 8 5.5 4.5 6.2 NA 4.2 5.8 ...</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSTP  : num  NA NA 7.3 7.1 8 7.1 7 NA 7.1 8.1 ...</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSTB  : num  NA NA 0.6 0.7 0.7 0.5 0.3 NA 0.3 0.8 ...</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSPH  : num  NA NA 4 4 4.3 3.3 3.5 NA 3.4 5.1 ...</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSNASI: num  NA NA 141 144 137 144 141 NA 140 141 ...</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSKSI : num  NA NA 4 4.4 3.3 4.4 4.1 NA 4.9 4.3 ...</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSGB  : num  NA NA 2.9 2.7 2.8 3.2 3.3 NA 3.1 3.3 ...</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ LBXSCA  : num  NA NA 9.2 9.6 10.1 9.5 9.9 NA 9.4 9.6 ...</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ PAQ605  : Factor w/ 3 levels "Yes","No","Don't know": NA NA 2 2 NA 2 2 NA 2 1 ...</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ PAQ650  : Factor w/ 2 levels "Yes","No": NA NA 2 2 NA 2 2 NA 1 1 ...</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ DIQ010  : Factor w/ 4 levels "Yes","No","Borderline",..: 2 2 2 2 2 3 2 NA 2 2 ...</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(analytic.data7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["SEQN"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["RIAGENDR"],"name":[2],"type":["fct"],"align":["left"]},{"label":["RIDAGEYR"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["DMDBORN4"],"name":[4],"type":["fct"],"align":["left"]},{"label":["RIDRETH3"],"name":[5],"type":["fct"],"align":["left"]},{"label":["DMDEDUC3"],"name":[6],"type":["fct"],"align":["left"]},{"label":["DMDEDUC2"],"name":[7],"type":["fct"],"align":["left"]},{"label":["DMDMARTL"],"name":[8],"type":["fct"],"align":["left"]},{"label":["INDHHIN2"],"name":[9],"type":["fct"],"align":["left"]},{"label":["WTMEC2YR"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["SDMVPSU"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["SDMVSTRA"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["BPXDI1"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["BPXSY1"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["BMXWT"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["BMXHT"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["BMXBMI"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["BMXWAIST"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["SMQ040"],"name":[19],"type":["fct"],"align":["left"]},{"label":["LBXTC"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["LBDTCSI"],"name":[21],"type":["dbl"],"align":["right"]},{"label":["LBXSTR"],"name":[22],"type":["dbl"],"align":["right"]},{"label":["LBXSUA"],"name":[23],"type":["dbl"],"align":["right"]},{"label":["LBXSTP"],"name":[24],"type":["dbl"],"align":["right"]},{"label":["LBXSTB"],"name":[25],"type":["dbl"],"align":["right"]},{"label":["LBXSPH"],"name":[26],"type":["dbl"],"align":["right"]},{"label":["LBXSNASI"],"name":[27],"type":["dbl"],"align":["right"]},{"label":["LBXSKSI"],"name":[28],"type":["dbl"],"align":["right"]},{"label":["LBXSGB"],"name":[29],"type":["dbl"],"align":["right"]},{"label":["LBXSCA"],"name":[30],"type":["dbl"],"align":["right"]},{"label":["PAQ605"],"name":[31],"type":["fct"],"align":["left"]},{"label":["PAQ650"],"name":[32],"type":["fct"],"align":["left"]},{"label":["DIQ010"],"name":[33],"type":["fct"],"align":["left"]}],"data":[{"1":"93703","2":"Female","3":"2","4":"Born in 50 US states or Washingt","5":"Non-Hispanic Asian","6":"NA","7":"NA","8":"NA","9":"$100,000 and Over","10":"8539.731","11":"2","12":"145","13":"NA","14":"NA","15":"13.7","16":"88.6","17":"17.5","18":"48.2","19":"NA","20":"NA","21":"NA","22":"NA","23":"NA","24":"NA","25":"NA","26":"NA","27":"NA","28":"NA","29":"NA","30":"NA","31":"NA","32":"NA","33":"No","_rn_":"1"},{"1":"93704","2":"Male","3":"2","4":"Born in 50 US states or Washingt","5":"Non-Hispanic White","6":"NA","7":"NA","8":"NA","9":"$100,000 and Over","10":"42566.615","11":"1","12":"143","13":"NA","14":"NA","15":"13.9","16":"94.2","17":"15.7","18":"50.0","19":"NA","20":"NA","21":"NA","22":"NA","23":"NA","24":"NA","25":"NA","26":"NA","27":"NA","28":"NA","29":"NA","30":"NA","31":"NA","32":"NA","33":"No","_rn_":"2"},{"1":"93705","2":"Female","3":"66","4":"Born in 50 US states or Washingt","5":"Non-Hispanic Black","6":"NA","7":"9-11th grade (Includes 12th grad","8":"Divorced","9":"$10,000 to $14,999","10":"8338.420","11":"2","12":"145","13":"NA","14":"NA","15":"79.5","16":"158.3","17":"31.7","18":"101.8","19":"Not at all","20":"157","21":"4.06","22":"95","23":"5.8","24":"7.3","25":"0.6","26":"4.0","27":"141","28":"4.0","29":"2.9","30":"9.2","31":"No","32":"No","33":"No","_rn_":"3"},{"1":"93706","2":"Male","3":"18","4":"Born in 50 US states or Washingt","5":"Non-Hispanic Asian","6":"More than high school","7":"NA","8":"NA","9":"NA","10":"8723.440","11":"2","12":"134","13":"74","14":"112","15":"66.3","16":"175.7","17":"21.5","18":"79.3","19":"NA","20":"148","21":"3.83","22":"92","23":"8.0","24":"7.1","25":"0.7","26":"4.0","27":"144","28":"4.4","29":"2.7","30":"9.6","31":"No","32":"No","33":"No","_rn_":"4"},{"1":"93707","2":"Male","3":"13","4":"Born in 50 US states or Washingt","5":"Other Race - Including Multi-Rac","6":"6th grade","7":"NA","8":"NA","9":"$65,000 to $74,999","10":"7064.610","11":"1","12":"138","13":"38","14":"128","15":"45.4","16":"158.4","17":"18.1","18":"64.1","19":"NA","20":"189","21":"4.89","22":"110","23":"5.5","24":"8.0","25":"0.7","26":"4.3","27":"137","28":"3.3","29":"2.8","30":"10.1","31":"NA","32":"NA","33":"No","_rn_":"5"},{"1":"93708","2":"Female","3":"66","4":"Others","5":"Non-Hispanic Asian","6":"NA","7":"Less than 9th grade","8":"Married","9":"$25,000 to $34,999","10":"14372.489","11":"2","12":"138","13":"NA","14":"NA","15":"53.5","16":"150.2","17":"23.7","18":"88.2","19":"NA","20":"209","21":"5.40","22":"72","23":"4.5","24":"7.1","25":"0.5","26":"3.3","27":"144","28":"4.4","29":"3.2","30":"9.5","31":"No","32":"No","33":"Borderline","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(analytic.data7<span class="sc">$</span>RIDAGEYR)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0.00   11.00   31.00   34.33   58.00   80.00</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/subset1_8761d5adad68b081fc7165e2a5ea3272">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data7)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   33</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>analytic.data8 <span class="ot">&lt;-</span> analytic.data7</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>analytic.data8<span class="sc">$</span>RIDAGEYR[analytic.data8<span class="sc">$</span>RIDAGEYR <span class="sc">&lt;</span> <span class="dv">20</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data8 &lt;- subset(analytic.data7, RIDAGEYR &gt;= 20)</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data8)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   33</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Get rid of variables where target was less than 20 years of age accordingly.</p>
<div class="cell" data-hash="researchquestion2_cache/html/subset2_62a15790a7f9ace22f96da5c026a7a70">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>analytic.data8<span class="sc">$</span>DMDEDUC3 <span class="ot">&lt;-</span> <span class="cn">NULL</span> <span class="co"># not relevant for adults</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data8$BMDBMIC &lt;- NULL # not relevant for adults</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="get-rid-of-invalid-responses" class="level4">
<h4 class="anchored" data-anchor-id="get-rid-of-invalid-responses">Get rid of invalid responses</h4>
<div class="cell" data-hash="researchquestion2_cache/html/subset3_4bfa6a208c34beb67c7467f926b5ecba">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>factor.names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"RIAGENDR"</span>,<span class="st">"DMDBORN4"</span>,<span class="st">"RIDRETH3"</span>,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"DMDEDUC2"</span>,<span class="st">"DMDMARTL"</span>,<span class="st">"INDHHIN2"</span>, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"SMQ040"</span>, <span class="st">"PAQ605"</span>, <span class="st">"PAQ650"</span>, <span class="st">"DIQ010"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>numeric.names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"SEQN"</span>,<span class="st">"RIDAGEYR"</span>,<span class="st">"WTMEC2YR"</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"SDMVPSU"</span>, <span class="st">"SDMVSTRA"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"BPXDI1"</span>, <span class="st">"BPXSY1"</span>, <span class="st">"BMXWT"</span>, <span class="st">"BMXHT"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"BMXBMI"</span>, <span class="st">"BMXWAIST"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"ALQ130"</span>, <span class="st">"LBXTC"</span>, <span class="st">"LBDTCSI"</span>, </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"LBXSTR"</span>, <span class="st">"LBXSUA"</span>, <span class="st">"LBXSTP"</span>, <span class="st">"LBXSTB"</span>, </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"LBXSPH"</span>, <span class="st">"LBXSNASI"</span>, <span class="st">"LBXSKSI"</span>,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"LBXSGB"</span>,<span class="st">"LBXSCA"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>analytic.data8[factor.names] <span class="ot">&lt;-</span> <span class="fu">apply</span>(<span class="at">X =</span> analytic.data8[factor.names], </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> as.factor)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data8[numeric.names] &lt;- apply(X = analytic.data8[numeric.names], </span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co">#                                        MARGIN = 2, FUN = </span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">#                                          function (x) as.numeric(as.character(x)))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/subset3x_046d8224eaf625435ac6fe2d81ecaef0">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>analytic.data9 <span class="ot">&lt;-</span> analytic.data8</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>analytic.data9<span class="sc">$</span>DMDBORN4[analytic.data9<span class="sc">$</span>DMDBORN4 <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data9 &lt;- subset(analytic.data8, DMDBORN4 != "Don't Know")</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data9)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   32</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>analytic.data10 <span class="ot">&lt;-</span> analytic.data9</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>analytic.data10<span class="sc">$</span>DMDEDUC2[analytic.data10<span class="sc">$</span>DMDEDUC2 <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data10 &lt;- subset(analytic.data9, DMDEDUC2 != "Don't Know")</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data10)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   32</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>analytic.data11 <span class="ot">&lt;-</span> analytic.data10</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>analytic.data11<span class="sc">$</span>DMDMARTL[analytic.data11<span class="sc">$</span>DMDMARTL <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>analytic.data11<span class="sc">$</span>DMDMARTL[analytic.data11<span class="sc">$</span>DMDMARTL <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data11 &lt;- subset(analytic.data10, DMDMARTL != "Don't Know" &amp; DMDMARTL != "Refused")</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data11)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   32</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>analytic.data12 <span class="ot">&lt;-</span> analytic.data11</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"Under $20,000"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"$20,000 and Over"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data12 &lt;- subset(analytic.data11, INDHHIN2 != "Don't know" &amp; INDHHIN2 !=  "Refused" &amp; INDHHIN2 != "Under $20,000" &amp; INDHHIN2 != "$20,000 and Over" )</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data12)</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   32</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data11 &lt;- subset(analytic.data10, ALQ130 != 777 &amp; ALQ130 != 999 )</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a><span class="co">#dim(analytic.data11) # this are listed as NA anyway</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>analytic.data13 <span class="ot">&lt;-</span> analytic.data12</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>analytic.data13<span class="sc">$</span>PAQ605[analytic.data13<span class="sc">$</span>PAQ605 <span class="sc">==</span> <span class="st">"Don't know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>analytic.data13<span class="sc">$</span>PAQ605[analytic.data13<span class="sc">$</span>PAQ605 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data13 &lt;- subset(analytic.data12, PAQ605 != "Don't know" &amp; PAQ605 != "Refused")</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data13)</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   32</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>analytic.data14 <span class="ot">&lt;-</span> analytic.data13</span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>analytic.data14<span class="sc">$</span>PAQ650[analytic.data14<span class="sc">$</span>PAQ650 <span class="sc">==</span> <span class="st">"Don't know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>analytic.data14<span class="sc">$</span>PAQ650[analytic.data14<span class="sc">$</span>PAQ650 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data14 &lt;- subset(analytic.data13, PAQ650 != "Don't Know" &amp; PAQ650 != "Refused")</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data14)</span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   32</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>analytic.data15 <span class="ot">&lt;-</span> analytic.data14</span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DIQ010[analytic.data15<span class="sc">$</span>DIQ010 <span class="sc">==</span> <span class="st">"Don't know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DIQ010[analytic.data15<span class="sc">$</span>DIQ010 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15 &lt;- subset(analytic.data14, DIQ010 != "Don't Know" &amp; DIQ010 != "Refused")</span></span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data15)</span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9254   32</span></span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15$ALQ130[analytic.data15$ALQ130 &gt; 100] &lt;- NA</span></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(analytic.data15$ALQ130)</span></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>SMQ040,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Every day Not at all  Some days       &lt;NA&gt; </span></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        805       1338        216       6895</span></span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>PAQ605,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   No  Yes &lt;NA&gt; </span></span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4461 1389 3404</span></span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>PAQ650,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   No  Yes &lt;NA&gt; </span></span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4422 1434 3398</span></span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>PAQ650,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   No  Yes &lt;NA&gt; </span></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4422 1434 3398</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="recode-values" class="level4">
<h4 class="anchored" data-anchor-id="recode-values">Recode values</h4>
<p>Let us recode the variables using the <code>recode</code> function:</p>
<div class="cell" data-hash="researchquestion2_cache/html/subset4_daf79fe981a46abf6f8a0e2d469545fb">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(car)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Loading required package: car</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Loading required package: carData</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>RIDRETH3 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>RIDRETH3, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('Mexican American','Other Hispanic')='Hispanic'; </span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Non-Hispanic White'='White'; </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Non-Hispanic Black'='Black';</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('Non-Hispanic Asian',</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="st">                               'Other Race - Including Multi-Rac')='Other';</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DMDEDUC2 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>DMDEDUC2, </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('Some college or AA degree',</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="st">                             'College graduate or above')='College'; </span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('9-11th grade (Includes 12th grad', </span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="st">                              'High school graduate/GED or equi')</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="st">                               ='High.School'; </span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Less than 9th grade'='School';</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DMDMARTL <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>DMDMARTL, </span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('Divorced','Separated','Widowed')</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="st">                                ='Previously.married'; </span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('Living with partner', 'Married')</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="st">                                ='Married'; </span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Never married'='Never.married';</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>INDHHIN2 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>INDHHIN2, </span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('$ 0 to $ 4,999', '$ 5,000 to $ 9,999', </span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$10,000 to $14,999', '$15,000 to $19,999', </span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$20,000 to $24,999')='&lt;25k';</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('$25,000 to $34,999', '$35,000 to $44,999', </span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$45,000 to $54,999') = 'Between.25kto54k';</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('$55,000 to $64,999', '$65,000 to $74,999',</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$75,000 to $99,999')='Between.55kto99k';</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="st">                            '$100,000 and Over'= 'Over100k';</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>SMQ040 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>SMQ040, </span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"'Every day'='Every.day';</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Not at all'='Not.at.all';</span></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Some days'='Some.days';</span></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DIQ010 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>DIQ010, </span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"'No'='No';</span></span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('Yes', 'Borderline')='Yes';</span></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="check-missingness" class="level4">
<h4 class="anchored" data-anchor-id="check-missingness">Check missingness</h4>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>We can use the <code>plot_missing</code> function to plot the profile of missing values, e.g., the percentage of missing per variable</p>
</div>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/missing1_3fccf267608ae5bcc6a900ddacb1b18d">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DataExplorer)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Loading required package: DataExplorer</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: package 'DataExplorer' was built under R version 4.3.1</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(analytic.data15)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="researchquestion2_files/figure-html/missing1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="check-data-summaries" class="level4">
<h4 class="anchored" data-anchor-id="check-data-summaries">Check data summaries</h4>
<div class="cell" data-hash="researchquestion2_cache/html/analytic0_89f45fa3d05640ebd2dd3f213249420f">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(analytic.data15)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "SEQN"     "RIAGENDR" "RIDAGEYR" "DMDBORN4" "RIDRETH3" "DMDEDUC2"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] "DMDMARTL" "INDHHIN2" "WTMEC2YR" "SDMVPSU"  "SDMVSTRA" "BPXDI1"  </span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] "BPXSY1"   "BMXWT"    "BMXHT"    "BMXBMI"   "BMXWAIST" "SMQ040"  </span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] "LBXTC"    "LBDTCSI"  "LBXSTR"   "LBXSUA"   "LBXSTP"   "LBXSTB"  </span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25] "LBXSPH"   "LBXSNASI" "LBXSKSI"  "LBXSGB"   "LBXSCA"   "PAQ605"  </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] "PAQ650"   "DIQ010"</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(analytic.data15) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ID"</span>, <span class="st">"gender"</span>, <span class="st">"age"</span>, <span class="st">"born"</span>, <span class="st">"race"</span>, <span class="st">"education"</span>, </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="st">"married"</span>, <span class="st">"income"</span>, <span class="st">"weight"</span>, <span class="st">"psu"</span>, <span class="st">"strata"</span>, <span class="st">"diastolicBP"</span>, </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="st">"systolicBP"</span>, <span class="st">"bodyweight"</span>, <span class="st">"bodyheight"</span>, <span class="st">"bmi"</span>, <span class="st">"waist"</span>, <span class="st">"smoke"</span>, </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="st">"cholesterol"</span>, <span class="st">"cholesterolM2"</span>, <span class="st">"triglycerides"</span>, </span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="st">"uric.acid"</span>, <span class="st">"protein"</span>, <span class="st">"bilirubin"</span>, <span class="st">"phosphorus"</span>, <span class="st">"sodium"</span>, </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="st">"potassium"</span>, <span class="st">"globulin"</span>, <span class="st">"calcium"</span>, <span class="st">"physical.work"</span>, </span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="st">"physical.recreational"</span>,<span class="st">"diabetes"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(<span class="st">"tableone"</span>)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Loading required package: tableone</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data15, <span class="at">includeNA =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                      </span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                       Overall            </span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   n                                       9254           </span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ID (mean (SD))                      98329.50 (2671.54) </span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   gender = Male (%)                       4557 (49.2)    </span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   age (mean (SD))                        51.50 (17.81)   </span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   born (%)                                               </span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Born in 50 US states or Washingt     7303 (78.9)    </span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Others                               1948 (21.1)    </span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Refused                                 2 ( 0.0)    </span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                      1 ( 0.0)    </span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   race (%)                                               </span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Black                                2115 (22.9)    </span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Hispanic                             2187 (23.6)    </span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Other                                1802 (19.5)    </span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      White                                3150 (34.0)    </span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   education (%)                                          </span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      College                              3114 (33.7)    </span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      High.School                          1963 (21.2)    </span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      School                                479 ( 5.2)    </span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                   3698 (40.0)    </span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   married (%)                                            </span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Married                              3252 (35.1)    </span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Never.married                        1006 (10.9)    </span></span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Previously.married                   1305 (14.1)    </span></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                   3691 (39.9)    </span></span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   income (%)                                             </span></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      &lt;25k                                 1998 (21.6)    </span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Between.25kto54k                     2460 (26.6)    </span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Between.55kto99k                     1843 (19.9)    </span></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Over100k                             1624 (17.5)    </span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                   1329 (14.4)    </span></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   weight (mean (SD))                  34670.71 (43344.00)</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   psu (mean (SD))                         1.52 (0.50)    </span></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   strata (mean (SD))                    140.97 (4.20)    </span></span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   diastolicBP (mean (SD))                67.84 (16.36)   </span></span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   systolicBP (mean (SD))                121.33 (19.98)   </span></span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bodyweight (mean (SD))                 65.14 (32.89)   </span></span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bodyheight (mean (SD))                156.59 (22.26)   </span></span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bmi (mean (SD))                        26.58 (8.26)    </span></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   waist (mean (SD))                      89.93 (22.81)   </span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   smoke (%)                                              </span></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Every.day                             805 ( 8.7)    </span></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Not.at.all                           1338 (14.5)    </span></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Some.days                             216 ( 2.3)    </span></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                   6895 (74.5)    </span></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   cholesterol (mean (SD))               179.89 (40.60)   </span></span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   cholesterolM2 (mean (SD))               4.65 (1.05)    </span></span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   triglycerides (mean (SD))             137.44 (109.13)  </span></span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   uric.acid (mean (SD))                   5.40 (1.48)    </span></span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   protein (mean (SD))                     7.17 (0.44)    </span></span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bilirubin (mean (SD))                   0.46 (0.28)    </span></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   phosphorus (mean (SD))                  3.66 (0.59)    </span></span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sodium (mean (SD))                    140.32 (2.75)    </span></span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   potassium (mean (SD))                   4.09 (0.36)    </span></span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   globulin (mean (SD))                    3.09 (0.43)    </span></span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   calcium (mean (SD))                     9.32 (0.37)    </span></span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   physical.work (%)                                      </span></span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      No                                   4461 (48.2)    </span></span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Yes                                  1389 (15.0)    </span></span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                   3404 (36.8)    </span></span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   physical.recreational (%)                              </span></span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      No                                   4422 (47.8)    </span></span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Yes                                  1434 (15.5)    </span></span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                   3398 (36.7)    </span></span>
<span id="cb21-83"><a href="#cb21-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   diabetes (%)                                           </span></span>
<span id="cb21-84"><a href="#cb21-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      No                                   7816 (84.5)    </span></span>
<span id="cb21-85"><a href="#cb21-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Yes                                  1077 (11.6)    </span></span>
<span id="cb21-86"><a href="#cb21-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      NA                                    361 ( 3.9)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-fictitious-data-missing-no" class="level4">
<h4 class="anchored" data-anchor-id="create-fictitious-data-missing-no">Create fictitious data (missing = ‘No’)</h4>
<div class="cell" data-hash="researchquestion2_cache/html/analytic191_93b4c1c6433ef3c73f71180aa704e954">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>fictitious.data <span class="ot">&lt;-</span> analytic.data15</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the following is the worst possible solution!</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>fictitious.data<span class="sc">$</span>smoke[<span class="fu">is.na</span>(fictitious.data<span class="sc">$</span>smoke)] <span class="ot">&lt;-</span> <span class="st">"Not.at.all"</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#fictitious.data$alcohol[is.na(fictitious.data$alcohol)] &lt;- 0</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(fictitious.data<span class="sc">$</span>smoke)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Every.day Not.at.all  Some.days </span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        805       8233        216</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(fictitious.data$alcohol)</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>fictitious.data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">na.omit</span>(fictitious.data))</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(fictitious.data)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3617   32</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-complete-case-data-for-now" class="level4">
<h4 class="anchored" data-anchor-id="create-complete-case-data-for-now">Create complete case data (for now)</h4>
<div class="cell" data-hash="researchquestion2_cache/html/analytic1_1149465a2a596fcad2b1074ff564b590">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>analytic.with.miss <span class="ot">&lt;-</span> analytic.data15</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>cholesterol.bin <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(analytic.with.miss<span class="sc">$</span>cholesterol <span class="sc">&lt;</span><span class="dv">200</span>, <span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>analytic <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">na.omit</span>(analytic.with.miss))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1562   33</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removing values with excessive missing values</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15$ALQ130 &lt;- NULL</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic1 &lt;- as.data.frame(na.omit(analytic.data15))</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(analytic1)</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15$smoke &lt;- NULL</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic2 &lt;- as.data.frame(na.omit(analytic.data15))</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(analytic2)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/analytic3_461d3f26063a3c7a67f2d5962d8235d4">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(<span class="st">"tableone"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic, <span class="at">includeNA =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                  </span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                   Overall            </span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   n                                   1562           </span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ID (mean (SD))                  98344.21 (2697.76) </span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   gender = Male (%)                    959 (61.4)    </span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   age (mean (SD))                    53.18 (17.18)   </span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   born = Others (%)                    299 (19.1)    </span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   race (%)                                           </span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Black                             324 (20.7)    </span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Hispanic                          284 (18.2)    </span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Other                             228 (14.6)    </span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      White                             726 (46.5)    </span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   education (%)                                      </span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      College                           806 (51.6)    </span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      High.School                       658 (42.1)    </span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      School                             98 ( 6.3)    </span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   married (%)                                        </span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Married                           921 (59.0)    </span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Never.married                     228 (14.6)    </span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Previously.married                413 (26.4)    </span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   income (%)                                         </span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      &lt;25k                              484 (31.0)    </span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Between.25kto54k                  520 (33.3)    </span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Between.55kto99k                  331 (21.2)    </span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Over100k                          227 (14.5)    </span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   weight (mean (SD))              48538.53 (54106.24)</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   psu (mean (SD))                     1.48 (0.50)    </span></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   strata (mean (SD))                141.18 (4.07)    </span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   diastolicBP (mean (SD))            72.06 (14.17)   </span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   systolicBP (mean (SD))            127.06 (19.11)   </span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bodyweight (mean (SD))             85.66 (22.41)   </span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bodyheight (mean (SD))            168.96 (9.30)    </span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bmi (mean (SD))                    29.96 (7.33)    </span></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   waist (mean (SD))                 102.98 (17.15)   </span></span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   smoke (%)                                          </span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Every.day                         530 (33.9)    </span></span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Not.at.all                        903 (57.8)    </span></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Some.days                         129 ( 8.3)    </span></span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   cholesterol (mean (SD))           188.77 (43.51)   </span></span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   cholesterolM2 (mean (SD))           4.88 (1.13)    </span></span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   triglycerides (mean (SD))         154.71 (123.00)  </span></span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   uric.acid (mean (SD))               5.62 (1.53)    </span></span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   protein (mean (SD))                 7.09 (0.43)    </span></span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bilirubin (mean (SD))               0.46 (0.27)    </span></span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   phosphorus (mean (SD))              3.53 (0.54)    </span></span>
<span id="cb25-48"><a href="#cb25-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sodium (mean (SD))                140.14 (2.83)    </span></span>
<span id="cb25-49"><a href="#cb25-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   potassium (mean (SD))               4.10 (0.38)    </span></span>
<span id="cb25-50"><a href="#cb25-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   globulin (mean (SD))                3.03 (0.44)    </span></span>
<span id="cb25-51"><a href="#cb25-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   calcium (mean (SD))                 9.29 (0.37)    </span></span>
<span id="cb25-52"><a href="#cb25-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   physical.work = Yes (%)              476 (30.5)    </span></span>
<span id="cb25-53"><a href="#cb25-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   physical.recreational = Yes (%)      290 (18.6)    </span></span>
<span id="cb25-54"><a href="#cb25-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   diabetes = Yes (%)                   330 (21.1)    </span></span>
<span id="cb25-55"><a href="#cb25-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   cholesterol.bin (mean (SD))         0.63 (0.48)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="regression" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="regression">Regression</h3>
<section id="wrong-way-to-define-design" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="wrong-way-to-define-design">Wrong way to define design</h4>

<div class="no-row-height column-margin column-container"><div class="">
<p>To get population-level estimate, we must appropriately utilize the survey features.</p>
</div></div><p>See the section on <a href="https://wwwn.cdc.gov/nchs/nhanes/tutorials/module4.aspx">Analyzing Subgroups in NHANES</a></p>
<div class="cell" data-hash="researchquestion2_cache/html/reg0_23c26ca8407c864acb7bd38082c98779">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>w.design.wrong <span class="ot">&lt;-</span> <span class="fu">svydesign</span>(<span class="at">id=</span><span class="sc">~</span>psu, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">strata=</span><span class="sc">~</span>strata, </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">weights=</span><span class="sc">~</span>weight, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data=</span>analytic, <span class="co"># already subsetted data</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">nest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">weights</span>(w.design.wrong))</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    4580   16038   29032   48539   55585  419763</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="wrong-analysis" class="level4">
<h4 class="anchored" data-anchor-id="wrong-analysis">Wrong analysis</h4>
<div class="cell" data-hash="researchquestion2_cache/html/reg1_a6d3c5bf0def30e22a5bbe0e4cbfb3ca">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>out.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(cholesterol.bin <span class="sc">~</span> diabetes <span class="sc">+</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>                            gender <span class="sc">+</span> race <span class="sc">+</span> education <span class="sc">+</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                            married <span class="sc">+</span> income <span class="sc">+</span> age <span class="sc">+</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>                            diastolicBP <span class="sc">+</span> systolicBP <span class="sc">+</span> bmi)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>fit.wrong <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(out.formula,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">design =</span> w.design.wrong, </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">family =</span> <span class="fu">binomial</span>(logit))</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in eval(family$initialize): non-integer #successes in a binomial glm!</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="fu">publish</span>(fit.wrong)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     Variable              Units OddsRatio       CI.95 p-value </span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     diabetes                 No       Ref                     </span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             Yes      1.97 [1.19;3.28]      NA </span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       gender             Female       Ref                     </span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                            Male      1.57 [1.15;2.16]      NA </span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         race              Black       Ref                     </span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Hispanic      0.77 [0.53;1.12]      NA </span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           Other      0.76 [0.51;1.14]      NA </span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           White      0.91 [0.59;1.41]      NA </span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    education            College       Ref                     </span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     High.School      1.12 [0.89;1.42]      NA </span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                          School      0.88 [0.48;1.64]      NA </span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      married            Married       Ref                     </span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                   Never.married      1.38 [0.83;2.31]      NA </span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Previously.married      1.17 [1.01;1.37]      NA </span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       income               &lt;25k       Ref                     </span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                Between.25kto54k      0.93 [0.65;1.34]      NA </span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                Between.55kto99k      0.91 [0.56;1.46]      NA </span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Over100k      0.58 [0.37;0.91]      NA </span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          age                         0.99 [0.98;1.00]      NA </span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  diastolicBP                         0.99 [0.97;1.00]      NA </span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   systolicBP                         0.99 [0.98;1.00]      NA </span></span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          bmi                         0.99 [0.97;1.01]      NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="define-design-and-subset" class="level4">
<h4 class="anchored" data-anchor-id="define-design-and-subset">Define design and subset</h4>
<ul>
<li>See the section on <a href="https://wwwn.cdc.gov/nchs/nhanes/tutorials/module4.aspx">How to Request Taylor Series Linearization to Calculate Variance in NHANES using R</a></li>
</ul>
<div class="cell" data-hash="researchquestion2_cache/html/design_ec791fe6ea184ee831eea090a980b269">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>analytic.data <span class="ot">&lt;-</span> analytic</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>miss <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>ID[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co"># full data</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 93703 93704 93705 93706 93707 93708 93709 93710 93711 93712</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>analytic.data<span class="sc">$</span>ID[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co"># complete case</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 93709 93713 93715 93716 93726 93729 93738 93742 93752 93755</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>ID[analytic.with.miss<span class="sc">$</span>ID <span class="sc">%in%</span> analytic.data<span class="sc">$</span>ID][<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 93709 93713 93715 93716 93726 93729 93738 93742 93752 93755</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>miss[analytic.with.miss<span class="sc">$</span>ID <span class="sc">%in%</span> analytic.data<span class="sc">$</span>ID] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.with.miss<span class="sc">$</span>miss)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0    1 </span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1562 7692</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/subdesign_b32aba5a428dfbccba591330a333755c">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>strata<span class="ot">&lt;-</span> <span class="fu">as.factor</span>(analytic.with.miss<span class="sc">$</span>strata)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>psu<span class="ot">&lt;-</span> <span class="fu">as.factor</span>(analytic.with.miss<span class="sc">$</span>psu)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>w.design0 <span class="ot">&lt;-</span> <span class="fu">svydesign</span>(<span class="at">id=</span><span class="sc">~</span>psu, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">strata=</span><span class="sc">~</span>strata, </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">weights=</span><span class="sc">~</span>weight, </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data=</span>analytic.with.miss,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">nest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">weights</span>(w.design0))</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       0   12347   21060   34671   37562  419763</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>w.designX <span class="ot">&lt;-</span> <span class="fu">subset</span>(w.design0, miss <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">weights</span>(w.designX))</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    4580   16038   29032   48539   55585  419763</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>w.designX<span class="sc">$</span>df.residual</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(w.designX)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "cluster"    "strata"     "has.strata" "prob"       "allprob"   </span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] "call"       "variables"  "fpc"        "pps"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="regression-analysis" class="level4">
<h4 class="anchored" data-anchor-id="regression-analysis">Regression analysis</h4>
<div class="cell" data-hash="researchquestion2_cache/html/reganalysis_0f49eb8c1e81438f3254fcdb9a3acc27">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>out.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(cholesterol.bin <span class="sc">~</span> diabetes <span class="sc">+</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>                            gender <span class="sc">+</span> race <span class="sc">+</span> education <span class="sc">+</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>                            married <span class="sc">+</span> income <span class="sc">+</span> age)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(out.formula,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">design =</span> w.designX, </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">family =</span> <span class="fu">binomial</span>(logit))</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co"># default = denominator degrees of freedom for Wald tests?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/regres_0470afe0506e132d97f13e8be5ac9490">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(Publish)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># notice that the conclusion from CI.95  p-value are contradictory</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For example: gender/Male OR 1.51 [95% CI: 1.10;2.07] but p-value is 0.1233</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">publish</span>(fit1)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Variable              Units OddsRatio       CI.95  p-value </span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   diabetes                 No       Ref                      </span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           Yes      1.93 [1.19;3.11]   0.1156 </span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     gender             Female       Ref                      </span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                          Male      1.51 [1.10;2.07]   0.1233 </span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       race              Black       Ref                      </span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                      Hispanic      0.81 [0.58;1.14]   0.3492 </span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         Other      0.84 [0.56;1.25]   0.4792 </span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         White      1.01 [0.65;1.57]   0.9626 </span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  education            College       Ref                      </span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                   High.School      1.08 [0.87;1.34]   0.5533 </span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        School      0.94 [0.51;1.71]   0.8524 </span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    married            Married       Ref                      </span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 Never.married      1.27 [0.74;2.17]   0.4759 </span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            Previously.married      1.22 [1.04;1.45]   0.1416 </span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     income               &lt;25k       Ref                      </span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Between.25kto54k      0.96 [0.69;1.35]   0.8523 </span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Between.55kto99k      0.96 [0.60;1.53]   0.8833 </span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                      Over100k      0.63 [0.42;0.94]   0.1534 </span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        age                         0.99 [0.98;1.00]   0.1430</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="regression-analysis-with-more-covariates" class="level4">
<h4 class="anchored" data-anchor-id="regression-analysis-with-more-covariates">Regression analysis with more covariates</h4>
<div class="cell" data-hash="researchquestion2_cache/html/regformula_731e1454260c854c93fd75449f692964">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>out.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(cholesterol.bin <span class="sc">~</span> diabetes <span class="sc">+</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>                            gender <span class="sc">+</span> race <span class="sc">+</span> education <span class="sc">+</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>                            married <span class="sc">+</span> income <span class="sc">+</span> age <span class="sc">+</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>                            diastolicBP <span class="sc">+</span> systolicBP <span class="sc">+</span> bmi)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(out.formula,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">design =</span> w.designX, </span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">family =</span> <span class="fu">binomial</span>(logit))</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co"># default = denominator degrees of freedom for Wald tests?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2_cache/html/se_e75de84272b294214662405c476964fa">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1)<span class="sc">$</span>coefficients</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                               Estimate  Std. Error    t value Pr(&gt;|t|)</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)                3.106465338 0.697974276  4.4506874      NaN</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diabetesYes                0.678604077 0.259437156  2.6156781      NaN</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; genderMale                 0.453611261 0.160323265  2.8293539      NaN</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceHispanic              -0.258611734 0.188973280 -1.3685095      NaN</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceOther                 -0.270817665 0.204596301 -1.3236684      NaN</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceWhite                 -0.090932728 0.222375697 -0.4089149      NaN</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationHigh.School       0.116945105 0.120722635  0.9687090      NaN</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationSchool           -0.122709225 0.314595121 -0.3900544      NaN</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedNever.married       0.324280209 0.261001765  1.2424445      NaN</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married  0.160482971 0.077029207  2.0834042      NaN</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.25kto54k    -0.071657706 0.186094076 -0.3850617      NaN</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.55kto99k    -0.095827891 0.243278646 -0.3939018      NaN</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeOver100k            -0.543216076 0.227983240 -2.3827018      NaN</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age                       -0.008356187 0.006120448 -1.3652901      NaN</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diastolicBP               -0.011117437 0.007638687 -1.4554121      NaN</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; systolicBP                -0.011209437 0.005535507 -2.0250065      NaN</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; bmi                       -0.007001220 0.010786766 -0.6490564      NaN</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(Publish)</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="fu">publish</span>(fit1)</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     Variable              Units OddsRatio       CI.95 p-value </span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     diabetes                 No       Ref                     </span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             Yes      1.97 [1.19;3.28]      NA </span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       gender             Female       Ref                     </span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                            Male      1.57 [1.15;2.16]      NA </span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         race              Black       Ref                     </span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Hispanic      0.77 [0.53;1.12]      NA </span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           Other      0.76 [0.51;1.14]      NA </span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           White      0.91 [0.59;1.41]      NA </span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    education            College       Ref                     </span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     High.School      1.12 [0.89;1.42]      NA </span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                          School      0.88 [0.48;1.64]      NA </span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      married            Married       Ref                     </span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                   Never.married      1.38 [0.83;2.31]      NA </span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Previously.married      1.17 [1.01;1.37]      NA </span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       income               &lt;25k       Ref                     </span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                Between.25kto54k      0.93 [0.65;1.34]      NA </span></span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                Between.55kto99k      0.91 [0.56;1.46]      NA </span></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                        Over100k      0.58 [0.37;0.91]      NA </span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          age                         0.99 [0.98;1.00]      NA </span></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  diastolicBP                         0.99 [0.97;1.00]      NA </span></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   systolicBP                         0.99 [0.98;1.00]      NA </span></span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          bmi                         0.99 [0.97;1.01]      NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="se-calculation" class="level3">
<h3 class="anchored" data-anchor-id="se-calculation">SE calculation</h3>
<section id="current-default-option" class="level4">
<h4 class="anchored" data-anchor-id="current-default-option">Current default option</h4>
<div class="cell" data-hash="researchquestion2_cache/html/se1_74b7487abe1dd74574ed77f0f74ff857">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1)<span class="sc">$</span>coefficients</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                               Estimate  Std. Error    t value Pr(&gt;|t|)</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)                3.106465338 0.697974276  4.4506874      NaN</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diabetesYes                0.678604077 0.259437156  2.6156781      NaN</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; genderMale                 0.453611261 0.160323265  2.8293539      NaN</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceHispanic              -0.258611734 0.188973280 -1.3685095      NaN</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceOther                 -0.270817665 0.204596301 -1.3236684      NaN</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceWhite                 -0.090932728 0.222375697 -0.4089149      NaN</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationHigh.School       0.116945105 0.120722635  0.9687090      NaN</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationSchool           -0.122709225 0.314595121 -0.3900544      NaN</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedNever.married       0.324280209 0.261001765  1.2424445      NaN</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married  0.160482971 0.077029207  2.0834042      NaN</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.25kto54k    -0.071657706 0.186094076 -0.3850617      NaN</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.55kto99k    -0.095827891 0.243278646 -0.3939018      NaN</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeOver100k            -0.543216076 0.227983240 -2.3827018      NaN</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age                       -0.008356187 0.006120448 -1.3652901      NaN</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diastolicBP               -0.011117437 0.007638687 -1.4554121      NaN</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; systolicBP                -0.011209437 0.005535507 -2.0250065      NaN</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; bmi                       -0.007001220 0.010786766 -0.6490564      NaN</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As we can see no p-values for the coefficients. Let us estimate the p-values based on the Normal distribution.</p>
</section>
<section id="tests-based-on-a-normal-distribution" class="level4">
<h4 class="anchored" data-anchor-id="tests-based-on-a-normal-distribution">Tests based on a Normal distribution</h4>
<div class="cell" data-hash="researchquestion2_cache/html/se2_47225a0ac2371119df62d09d2a4e9763">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1, <span class="at">df.resid =</span> <span class="cn">Inf</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; svyglm(formula = out.formula, design = w.designX, family = binomial(logit))</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Survey design:</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; subset(w.design0, miss == 0)</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                            Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)                3.106465   0.697974   4.451 8.56e-06 ***</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diabetesYes                0.678604   0.259437   2.616  0.00891 ** </span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; genderMale                 0.453611   0.160323   2.829  0.00466 ** </span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceHispanic              -0.258612   0.188973  -1.369  0.17115    </span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceOther                 -0.270818   0.204596  -1.324  0.18561    </span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceWhite                 -0.090933   0.222376  -0.409  0.68260    </span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationHigh.School       0.116945   0.120723   0.969  0.33269    </span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationSchool           -0.122709   0.314595  -0.390  0.69650    </span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedNever.married       0.324280   0.261002   1.242  0.21407    </span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married  0.160483   0.077029   2.083  0.03721 *  </span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.25kto54k    -0.071658   0.186094  -0.385  0.70019    </span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.55kto99k    -0.095828   0.243279  -0.394  0.69365    </span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeOver100k            -0.543216   0.227983  -2.383  0.01719 *  </span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age                       -0.008356   0.006120  -1.365  0.17216    </span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diastolicBP               -0.011117   0.007639  -1.455  0.14556    </span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; systolicBP                -0.011209   0.005536  -2.025  0.04287 *  </span></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; bmi                       -0.007001   0.010787  -0.649  0.51630    </span></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Zero or negative residual df; p-values not defined</span></span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1.000944)</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Number of Fisher Scoring iterations: 4</span></span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">summary</span>(fit1, <span class="at">df.resid =</span> <span class="cn">Inf</span>)<span class="sc">$</span>coefficients[,<span class="dv">4</span>] ,<span class="dv">3</span>)  </span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               (Intercept)               diabetesYes                genderMale </span></span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.000                     0.009                     0.005 </span></span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              raceHispanic                 raceOther                 raceWhite </span></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.171                     0.186                     0.683 </span></span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      educationHigh.School           educationSchool      marriedNever.married </span></span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.333                     0.696                     0.214 </span></span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married    incomeBetween.25kto54k    incomeBetween.55kto99k </span></span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.037                     0.700                     0.694 </span></span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            incomeOver100k                       age               diastolicBP </span></span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.017                     0.172                     0.146 </span></span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                systolicBP                       bmi </span></span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.043                     0.516</span></span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a><span class="co"># CI</span></span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">exp</span>(<span class="fu">confint</span>(fit1, <span class="at">ddf =</span> <span class="cn">Inf</span>)),<span class="dv">2</span>)</span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           2.5 % 97.5 %</span></span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)                5.69  87.75</span></span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diabetesYes                1.19   3.28</span></span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; genderMale                 1.15   2.16</span></span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceHispanic               0.53   1.12</span></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceOther                  0.51   1.14</span></span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceWhite                  0.59   1.41</span></span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationHigh.School       0.89   1.42</span></span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationSchool            0.48   1.64</span></span>
<span id="cb35-61"><a href="#cb35-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedNever.married       0.83   2.31</span></span>
<span id="cb35-62"><a href="#cb35-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married  1.01   1.37</span></span>
<span id="cb35-63"><a href="#cb35-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.25kto54k     0.65   1.34</span></span>
<span id="cb35-64"><a href="#cb35-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.55kto99k     0.56   1.46</span></span>
<span id="cb35-65"><a href="#cb35-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeOver100k             0.37   0.91</span></span>
<span id="cb35-66"><a href="#cb35-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age                        0.98   1.00</span></span>
<span id="cb35-67"><a href="#cb35-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diastolicBP                0.97   1.00</span></span>
<span id="cb35-68"><a href="#cb35-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; systolicBP                 0.98   1.00</span></span>
<span id="cb35-69"><a href="#cb35-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; bmi                        0.97   1.01</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="residual-df-psus-count---strata-count" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="residual-df-psus-count---strata-count">Residual df = PSUs count - strata count</h3>
<ul>
<li>See section 3.1 of <span class="citation" data-cites="lumley2017fitting">Lumley and Scott (<a href="#ref-lumley2017fitting" role="doc-biblioref">2017</a>)</span></li>
<li>See NHANES Linked Data Tutorial <span class="citation" data-cites="varest">(<a href="#ref-varest" role="doc-biblioref">CDC 2023</a>)</span></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="citation" data-cites="lumley2017fitting">Lumley and Scott (<a href="#ref-lumley2017fitting" role="doc-biblioref">2017</a>)</span></p>
</div><div class="">
<p><span class="citation" data-cites="varest">CDC (<a href="#ref-varest" role="doc-biblioref">2023</a>)</span></p>
</div></div>
<div class="cell" data-hash="researchquestion2_cache/html/se3_7c2aa0318805b56c8c88d05b61653381">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>ns <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>strata)) <span class="co"># number of strata</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>psu)) <span class="co"># number of clusters per strata</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>strata))<span class="sc">*</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>psu)) <span class="co"># number of clusters in total</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>nc <span class="sc">-</span> ns</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 15</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="fu">degf</span>(w.designX)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 15</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1, <span class="at">df.resid =</span> <span class="fu">degf</span>(w.designX))</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; svyglm(formula = out.formula, design = w.designX, family = binomial(logit))</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Survey design:</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; subset(w.design0, miss == 0)</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                            Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)                3.106465   0.697974   4.451 0.000467 ***</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diabetesYes                0.678604   0.259437   2.616 0.019481 *  </span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; genderMale                 0.453611   0.160323   2.829 0.012685 *  </span></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceHispanic              -0.258612   0.188973  -1.369 0.191301    </span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceOther                 -0.270818   0.204596  -1.324 0.205433    </span></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceWhite                 -0.090933   0.222376  -0.409 0.688381    </span></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationHigh.School       0.116945   0.120723   0.969 0.348052    </span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationSchool           -0.122709   0.314595  -0.390 0.701979    </span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedNever.married       0.324280   0.261002   1.242 0.233146    </span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married  0.160483   0.077029   2.083 0.054736 .  </span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.25kto54k    -0.071658   0.186094  -0.385 0.705597    </span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.55kto99k    -0.095828   0.243279  -0.394 0.699196    </span></span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeOver100k            -0.543216   0.227983  -2.383 0.030850 *  </span></span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age                       -0.008356   0.006120  -1.365 0.192289    </span></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diastolicBP               -0.011117   0.007639  -1.455 0.166164    </span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; systolicBP                -0.011209   0.005536  -2.025 0.061045 .  </span></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; bmi                       -0.007001   0.010787  -0.649 0.526116    </span></span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Zero or negative residual df; p-values not defined</span></span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1.000944)</span></span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Number of Fisher Scoring iterations: 4</span></span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">summary</span>(fit1, </span>
<span id="cb36-47"><a href="#cb36-47" aria-hidden="true" tabindex="-1"></a>              <span class="at">df.resid =</span> <span class="fu">degf</span>(w.designX))<span class="sc">$</span>coefficients[,<span class="dv">4</span>] ,<span class="dv">3</span>)  </span>
<span id="cb36-48"><a href="#cb36-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               (Intercept)               diabetesYes                genderMale </span></span>
<span id="cb36-49"><a href="#cb36-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.000                     0.019                     0.013 </span></span>
<span id="cb36-50"><a href="#cb36-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              raceHispanic                 raceOther                 raceWhite </span></span>
<span id="cb36-51"><a href="#cb36-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.191                     0.205                     0.688 </span></span>
<span id="cb36-52"><a href="#cb36-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      educationHigh.School           educationSchool      marriedNever.married </span></span>
<span id="cb36-53"><a href="#cb36-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.348                     0.702                     0.233 </span></span>
<span id="cb36-54"><a href="#cb36-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married    incomeBetween.25kto54k    incomeBetween.55kto99k </span></span>
<span id="cb36-55"><a href="#cb36-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.055                     0.706                     0.699 </span></span>
<span id="cb36-56"><a href="#cb36-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            incomeOver100k                       age               diastolicBP </span></span>
<span id="cb36-57"><a href="#cb36-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.031                     0.192                     0.166 </span></span>
<span id="cb36-58"><a href="#cb36-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                systolicBP                       bmi </span></span>
<span id="cb36-59"><a href="#cb36-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     0.061                     0.526</span></span>
<span id="cb36-60"><a href="#cb36-60" aria-hidden="true" tabindex="-1"></a><span class="co"># CI</span></span>
<span id="cb36-61"><a href="#cb36-61" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">exp</span>(<span class="fu">confint</span>(fit1, <span class="at">ddf =</span> <span class="fu">degf</span>(w.designX))),<span class="dv">2</span>)</span>
<span id="cb36-62"><a href="#cb36-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           2.5 % 97.5 %</span></span>
<span id="cb36-63"><a href="#cb36-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)                5.05  98.91</span></span>
<span id="cb36-64"><a href="#cb36-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diabetesYes                1.13   3.43</span></span>
<span id="cb36-65"><a href="#cb36-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; genderMale                 1.12   2.22</span></span>
<span id="cb36-66"><a href="#cb36-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceHispanic               0.52   1.16</span></span>
<span id="cb36-67"><a href="#cb36-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceOther                  0.49   1.18</span></span>
<span id="cb36-68"><a href="#cb36-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; raceWhite                  0.57   1.47</span></span>
<span id="cb36-69"><a href="#cb36-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationHigh.School       0.87   1.45</span></span>
<span id="cb36-70"><a href="#cb36-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; educationSchool            0.45   1.73</span></span>
<span id="cb36-71"><a href="#cb36-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedNever.married       0.79   2.41</span></span>
<span id="cb36-72"><a href="#cb36-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriedPreviously.married  1.00   1.38</span></span>
<span id="cb36-73"><a href="#cb36-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.25kto54k     0.63   1.38</span></span>
<span id="cb36-74"><a href="#cb36-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeBetween.55kto99k     0.54   1.53</span></span>
<span id="cb36-75"><a href="#cb36-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; incomeOver100k             0.36   0.94</span></span>
<span id="cb36-76"><a href="#cb36-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age                        0.98   1.00</span></span>
<span id="cb36-77"><a href="#cb36-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; diastolicBP                0.97   1.01</span></span>
<span id="cb36-78"><a href="#cb36-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; systolicBP                 0.98   1.00</span></span>
<span id="cb36-79"><a href="#cb36-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; bmi                        0.97   1.02</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="saving-data" class="level3">
<h3 class="anchored" data-anchor-id="saving-data">Saving data</h3>
<div class="cell" data-hash="researchquestion2_cache/html/search8save_01997cec93526abe28e5d45172cbad08">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># getwd()</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(analytic.with.miss, analytic, <span class="at">file=</span><span class="st">"Data/researchquestion/NHANES17.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-varest" class="csl-entry" role="doc-biblioentry">
CDC. 2023. <span>“Estimating Variance, Analyzing Subgroups and Calculating Degrees of Freedom for Performing Statistical Tests and Calculating Confidence Intervals.”</span> <a href="https://www.cdc.gov/nchs/tutorials/nhanes-cms/variance/variance/index.htm" class="uri">https://www.cdc.gov/nchs/tutorials/nhanes-cms/variance/variance/index.htm</a>.
</div>
<div id="ref-lumley2017fitting" class="csl-entry" role="doc-biblioentry">
Lumley, Thomas, and Alastair Scott. 2017. <span>“Fitting Regression Models to Survey Data.”</span> <em>Statistical Science</em>, 265–78.
</div>
<div id="ref-peters2014combined" class="csl-entry" role="doc-biblioentry">
Peters, Junenette L, M Patricia Fabian, and Jonathan I Levy. 2014. <span>“Combined Impact of Lead, Cadmium, Polychlorinated Biphenyls and Non-Chemical Risk Factors on Blood Pressure in NHANES.”</span> <em>Environmental Research</em> 132: 93–99.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./researchquestion1.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">RHC data</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./researchquestionF.html" class="pagination-link">
        <span class="nav-page-text">R for research question</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb38" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## NHANES data {.unnumbered}</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">### Working with a causal question</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>We are interested in exploring the relationship between diabetes (binary exposure variable defined as whether the doctor ever told the participant has diabetes) and cholesterol (binary outcome variable defined as whether total cholesterol is more than 200 mg/dL). Below is the PICOT:</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>| PICOT element | Description                    |</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>|---------------|--------------------------------|</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>| P             | US adults                      |</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>| I             | Diabetes                       |</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>| C             | No diabetes                    |</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>| O             | Total cholesterol <span class="sc">\&gt;</span> 200 mg/dL |</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>| T             | 2017--2018                     |</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>First, we will prepare the analytic dataset from NHANES 2017--2018.</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>Second, we will work with subset of data to assess the association between diabetes and cholesterol, and to get proper SE and 95% CI for the estimate. We emphasize the correct usage of the survey's design features (correct handling of survey design elements, such as stratification, clustering, and weighting) to obtain accurate population-level estimates.</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, warning=FALSE, message=FALSE, cache=TRUE}</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required packages</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(SASxport)</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DiagrammeR)</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DiagrammeRsvg)</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rsvg)</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(svglite)</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(nhanesA)</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(survey)</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(Publish)</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(jtools)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a><span class="fu">### Steps for creating analytic dataset</span></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>We will combine multiple components (e.g., demographic, blood pressure) using the unique identifier to create our analytic dataset.</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>::: column-margin</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>Within NHANES datasets in a given cycle, each sampled person has an unique identifier sequence number (variable SEQN).</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a><span class="in">```{r graph1ttt, echo=FALSE, cache=TRUE}</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">grViz</span>(<span class="st">"</span></span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a><span class="st">    digraph causal {</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a><span class="st">      # Nodes</span></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a><span class="st">    node [shape = box]</span></span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a><span class="st">    # node [shape = circle]</span></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a><span class="st">    d [label = 'Demographics']</span></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a><span class="st">    b [label = 'Blood pressure']</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a><span class="st">    bm [label = 'Body Measures'] </span></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a><span class="st">    s [label = 'Smoking']</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a><span class="st">    c [label = 'Cholesterol']</span></span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a><span class="st">    t [label = 'Standard Biochemistry Profile']</span></span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a><span class="st">    p [label = 'Physical Activity']</span></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a><span class="st">    dd [label = 'Diabetes']</span></span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a><span class="st">    node [shape = egg]</span></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a><span class="st">    ad [label = 'Analytic Data']</span></span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a><span class="st">    node [shape = plaintext]</span></span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a><span class="st">    d0 [label = 'ID']</span></span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a><span class="st">    d1 [label = 'gender']</span></span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a><span class="st">    d2 [label = 'age']</span></span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a><span class="st">    d3 [label = 'bornCountry']</span></span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a><span class="st">    d4 [label = 'race']</span></span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a><span class="st">    d5 [label = 'education']</span></span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a><span class="st">    d6 [label = 'marital status']</span></span>
<span id="cb38-70"><a href="#cb38-70" aria-hidden="true" tabindex="-1"></a><span class="st">    d7 [label = 'weights/psu/strata']</span></span>
<span id="cb38-71"><a href="#cb38-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a><span class="st">    b1 [label = 'diastolic']</span></span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a><span class="st">    b2 [label = 'systolic']</span></span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a><span class="st">    bm1 [label = 'bodyweight']</span></span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a><span class="st">    bm2 [label = 'heignt']</span></span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a><span class="st">    bm3 [label = 'BMI']</span></span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a><span class="st">    bm4 [label = 'BMIcat']</span></span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a><span class="st">    bm5 [label = 'weist']</span></span>
<span id="cb38-80"><a href="#cb38-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-81"><a href="#cb38-81" aria-hidden="true" tabindex="-1"></a><span class="st">    s1 [label = 'smoking']</span></span>
<span id="cb38-82"><a href="#cb38-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-83"><a href="#cb38-83" aria-hidden="true" tabindex="-1"></a><span class="st">    c1 [label = 'cholesterol']</span></span>
<span id="cb38-84"><a href="#cb38-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-85"><a href="#cb38-85" aria-hidden="true" tabindex="-1"></a><span class="st">    t1 [label = 'triglycerides']</span></span>
<span id="cb38-86"><a href="#cb38-86" aria-hidden="true" tabindex="-1"></a><span class="st">    t2 [label = 'uric acid']</span></span>
<span id="cb38-87"><a href="#cb38-87" aria-hidden="true" tabindex="-1"></a><span class="st">    t3 [label = 'protein']</span></span>
<span id="cb38-88"><a href="#cb38-88" aria-hidden="true" tabindex="-1"></a><span class="st">    t4 [label = 'bilirubin']</span></span>
<span id="cb38-89"><a href="#cb38-89" aria-hidden="true" tabindex="-1"></a><span class="st">    t5 [label = 'phosphorus']</span></span>
<span id="cb38-90"><a href="#cb38-90" aria-hidden="true" tabindex="-1"></a><span class="st">    t6 [label = 'sodium']</span></span>
<span id="cb38-91"><a href="#cb38-91" aria-hidden="true" tabindex="-1"></a><span class="st">    t7 [label = 'potassium']</span></span>
<span id="cb38-92"><a href="#cb38-92" aria-hidden="true" tabindex="-1"></a><span class="st">    t8 [label = 'globulin']</span></span>
<span id="cb38-93"><a href="#cb38-93" aria-hidden="true" tabindex="-1"></a><span class="st">    t9 [label = 'calcium']</span></span>
<span id="cb38-94"><a href="#cb38-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-95"><a href="#cb38-95" aria-hidden="true" tabindex="-1"></a><span class="st">    dd1 [label = 'Have diabetes']</span></span>
<span id="cb38-96"><a href="#cb38-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-97"><a href="#cb38-97" aria-hidden="true" tabindex="-1"></a><span class="st">    p1 [label = 'Work acticity']</span></span>
<span id="cb38-98"><a href="#cb38-98" aria-hidden="true" tabindex="-1"></a><span class="st">    p2 [label = 'Recreational activity']</span></span>
<span id="cb38-99"><a href="#cb38-99" aria-hidden="true" tabindex="-1"></a><span class="st">      </span></span>
<span id="cb38-100"><a href="#cb38-100" aria-hidden="true" tabindex="-1"></a><span class="st">      # Edges</span></span>
<span id="cb38-101"><a href="#cb38-101" aria-hidden="true" tabindex="-1"></a><span class="st">      edge [color = black,</span></span>
<span id="cb38-102"><a href="#cb38-102" aria-hidden="true" tabindex="-1"></a><span class="st">            arrowhead = vee]</span></span>
<span id="cb38-103"><a href="#cb38-103" aria-hidden="true" tabindex="-1"></a><span class="st">      rankdir = LR</span></span>
<span id="cb38-104"><a href="#cb38-104" aria-hidden="true" tabindex="-1"></a><span class="st">    d -&gt; {d1 d2 d3 d4 d5 d6 d7}</span></span>
<span id="cb38-105"><a href="#cb38-105" aria-hidden="true" tabindex="-1"></a><span class="st">    b -&gt; {b1 b2}</span></span>
<span id="cb38-106"><a href="#cb38-106" aria-hidden="true" tabindex="-1"></a><span class="st">    bm -&gt; {bm1 bm2 bm3 bm4 bm4 bm5}</span></span>
<span id="cb38-107"><a href="#cb38-107" aria-hidden="true" tabindex="-1"></a><span class="st">    dd -&gt; dd1</span></span>
<span id="cb38-108"><a href="#cb38-108" aria-hidden="true" tabindex="-1"></a><span class="st">    p -&gt; {p1 p2}</span></span>
<span id="cb38-109"><a href="#cb38-109" aria-hidden="true" tabindex="-1"></a><span class="st">    s -&gt; {s1}</span></span>
<span id="cb38-110"><a href="#cb38-110" aria-hidden="true" tabindex="-1"></a><span class="st">    c -&gt; {c1}</span></span>
<span id="cb38-111"><a href="#cb38-111" aria-hidden="true" tabindex="-1"></a><span class="st">    t -&gt; {t1 t2 t3 t4 t5 t6 t7 t8 t9}</span></span>
<span id="cb38-112"><a href="#cb38-112" aria-hidden="true" tabindex="-1"></a><span class="st">    {d b bm s c t dd p} -&gt; d0</span></span>
<span id="cb38-113"><a href="#cb38-113" aria-hidden="true" tabindex="-1"></a><span class="st">    d0 -&gt; ad</span></span>
<span id="cb38-114"><a href="#cb38-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-115"><a href="#cb38-115" aria-hidden="true" tabindex="-1"></a><span class="st">      # Graph</span></span>
<span id="cb38-116"><a href="#cb38-116" aria-hidden="true" tabindex="-1"></a><span class="st">      graph [overlap = true, fontsize = 10]</span></span>
<span id="cb38-117"><a href="#cb38-117" aria-hidden="true" tabindex="-1"></a><span class="st">    }"</span>)</span>
<span id="cb38-118"><a href="#cb38-118" aria-hidden="true" tabindex="-1"></a>g2 <span class="sc">%&gt;%</span> export_svg <span class="sc">%&gt;%</span> charToRaw <span class="sc">%&gt;%</span> rsvg <span class="sc">%&gt;%</span> png<span class="sc">::</span><span class="fu">writePNG</span>(<span class="st">"Images/accessing/overallnhanesplan.png"</span>)</span>
<span id="cb38-119"><a href="#cb38-119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-120"><a href="#cb38-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-121"><a href="#cb38-121" aria-hidden="true" tabindex="-1"></a><span class="in">```{r graph1xttt, echo=FALSE, out.width = '75%'}</span></span>
<span id="cb38-122"><a href="#cb38-122" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/overallnhanesplan.png"</span>)  </span>
<span id="cb38-123"><a href="#cb38-123" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-124"><a href="#cb38-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-125"><a href="#cb38-125" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Download and Subsetting to retain only the useful variables</span></span>
<span id="cb38-126"><a href="#cb38-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-127"><a href="#cb38-127" aria-hidden="true" tabindex="-1"></a>Search literature for the relevant variables, e.g., @peters2014combined, and then see if some of them are available in the NHANES data.</span>
<span id="cb38-128"><a href="#cb38-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-129"><a href="#cb38-129" aria-hidden="true" tabindex="-1"></a>::: column-margin</span>
<span id="cb38-130"><a href="#cb38-130" aria-hidden="true" tabindex="-1"></a>@peters2014combined</span>
<span id="cb38-131"><a href="#cb38-131" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-132"><a href="#cb38-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-133"><a href="#cb38-133" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search4, eval=TRUE, cache=TRUE, warning=FALSE}</span></span>
<span id="cb38-134"><a href="#cb38-134" aria-hidden="true" tabindex="-1"></a>demo <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DEMO_J'</span>) <span class="co"># Both males and females 0 YEARS - 150 YEARS</span></span>
<span id="cb38-135"><a href="#cb38-135" aria-hidden="true" tabindex="-1"></a>demo <span class="ot">&lt;-</span> demo[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-136"><a href="#cb38-136" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"RIAGENDR"</span>, <span class="co"># gender</span></span>
<span id="cb38-137"><a href="#cb38-137" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"RIDAGEYR"</span>, <span class="co"># Age in years at screening</span></span>
<span id="cb38-138"><a href="#cb38-138" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDBORN4"</span>, <span class="co"># Country of birth</span></span>
<span id="cb38-139"><a href="#cb38-139" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"RIDRETH3"</span>, <span class="co"># Race/Hispanic origin w/ NH Asian</span></span>
<span id="cb38-140"><a href="#cb38-140" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDEDUC3"</span>, <span class="co"># Education level - Children/Youth 6-19</span></span>
<span id="cb38-141"><a href="#cb38-141" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDEDUC2"</span>, <span class="co"># Education level - Adults 20+</span></span>
<span id="cb38-142"><a href="#cb38-142" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"DMDMARTL"</span>, <span class="co"># Marital status: 20 YEARS - 150 YEARS</span></span>
<span id="cb38-143"><a href="#cb38-143" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"INDHHIN2"</span>, <span class="co"># Total household income</span></span>
<span id="cb38-144"><a href="#cb38-144" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"WTMEC2YR"</span>, <span class="st">"SDMVPSU"</span>, <span class="st">"SDMVSTRA"</span>)]</span>
<span id="cb38-145"><a href="#cb38-145" aria-hidden="true" tabindex="-1"></a>demo_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(demo) <span class="co"># nhanesTableVars('DEMO', 'DEMO_J', namesonly=TRUE)</span></span>
<span id="cb38-146"><a href="#cb38-146" aria-hidden="true" tabindex="-1"></a>demo1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'DEMO_J'</span>, demo_vars, <span class="at">data=</span>demo)</span>
<span id="cb38-147"><a href="#cb38-147" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-148"><a href="#cb38-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-149"><a href="#cb38-149" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-150"><a href="#cb38-150" aria-hidden="true" tabindex="-1"></a>bpx <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BPX_J'</span>)</span>
<span id="cb38-151"><a href="#cb38-151" aria-hidden="true" tabindex="-1"></a>bpx <span class="ot">&lt;-</span> bpx[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-152"><a href="#cb38-152" aria-hidden="true" tabindex="-1"></a>             <span class="st">"BPXDI1"</span>, <span class="co">#Diastolic: Blood pres (1st rdg) mm Hg</span></span>
<span id="cb38-153"><a href="#cb38-153" aria-hidden="true" tabindex="-1"></a>             <span class="st">"BPXSY1"</span> <span class="co"># Systolic: Blood pres (1st rdg) mm Hg</span></span>
<span id="cb38-154"><a href="#cb38-154" aria-hidden="true" tabindex="-1"></a>             )]</span>
<span id="cb38-155"><a href="#cb38-155" aria-hidden="true" tabindex="-1"></a>bpx_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(bpx) </span>
<span id="cb38-156"><a href="#cb38-156" aria-hidden="true" tabindex="-1"></a>bpx1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BPX_J'</span>, bpx_vars, <span class="at">data=</span>bpx)</span>
<span id="cb38-157"><a href="#cb38-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-158"><a href="#cb38-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-159"><a href="#cb38-159" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5a, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-160"><a href="#cb38-160" aria-hidden="true" tabindex="-1"></a>bmi <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BMX_J'</span>)</span>
<span id="cb38-161"><a href="#cb38-161" aria-hidden="true" tabindex="-1"></a>bmi <span class="ot">&lt;-</span> bmi[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-162"><a href="#cb38-162" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXWT"</span>, <span class="co"># Weight (kg) </span></span>
<span id="cb38-163"><a href="#cb38-163" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXHT"</span>, <span class="co"># Standing Height (cm)</span></span>
<span id="cb38-164"><a href="#cb38-164" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXBMI"</span>, <span class="co"># Body Mass Index (kg/m**2): 2 YEARS - 150 YEARS</span></span>
<span id="cb38-165"><a href="#cb38-165" aria-hidden="true" tabindex="-1"></a>               <span class="co">#"BMDBMIC", # BMI Category - Children/Youth # 2 YEARS - 19 YEARS</span></span>
<span id="cb38-166"><a href="#cb38-166" aria-hidden="true" tabindex="-1"></a>               <span class="st">"BMXWAIST"</span> <span class="co"># Waist Circumference (cm): 2 YEARS - 150 YEARS</span></span>
<span id="cb38-167"><a href="#cb38-167" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb38-168"><a href="#cb38-168" aria-hidden="true" tabindex="-1"></a>bmi_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(bmi) </span>
<span id="cb38-169"><a href="#cb38-169" aria-hidden="true" tabindex="-1"></a>bmi1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BMX_J'</span>, bmi_vars, <span class="at">data=</span>bmi)</span>
<span id="cb38-170"><a href="#cb38-170" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-171"><a href="#cb38-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-172"><a href="#cb38-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5b, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-173"><a href="#cb38-173" aria-hidden="true" tabindex="-1"></a>smq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'SMQ_J'</span>)</span>
<span id="cb38-174"><a href="#cb38-174" aria-hidden="true" tabindex="-1"></a>smq <span class="ot">&lt;-</span> smq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-175"><a href="#cb38-175" aria-hidden="true" tabindex="-1"></a>               <span class="st">"SMQ040"</span> <span class="co"># Do you now smoke cigarettes?: 18 YEARS - 150 YEARS</span></span>
<span id="cb38-176"><a href="#cb38-176" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb38-177"><a href="#cb38-177" aria-hidden="true" tabindex="-1"></a>smq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(smq) </span>
<span id="cb38-178"><a href="#cb38-178" aria-hidden="true" tabindex="-1"></a>smq1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'SMQ_J'</span>, smq_vars, <span class="at">data=</span>smq)</span>
<span id="cb38-179"><a href="#cb38-179" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-180"><a href="#cb38-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-181"><a href="#cb38-181" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5c, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-182"><a href="#cb38-182" aria-hidden="true" tabindex="-1"></a><span class="co"># alq &lt;- nhanes('ALQ_J')</span></span>
<span id="cb38-183"><a href="#cb38-183" aria-hidden="true" tabindex="-1"></a><span class="co"># alq &lt;- alq[c("SEQN", # Respondent sequence number</span></span>
<span id="cb38-184"><a href="#cb38-184" aria-hidden="true" tabindex="-1"></a><span class="co">#                "ALQ130" # Avg # alcoholic drinks/day - past 12 mos</span></span>
<span id="cb38-185"><a href="#cb38-185" aria-hidden="true" tabindex="-1"></a><span class="co">#                # 18 YEARS - 150 YEARS</span></span>
<span id="cb38-186"><a href="#cb38-186" aria-hidden="true" tabindex="-1"></a><span class="co">#                )]</span></span>
<span id="cb38-187"><a href="#cb38-187" aria-hidden="true" tabindex="-1"></a><span class="co"># alq_vars &lt;- names(alq) </span></span>
<span id="cb38-188"><a href="#cb38-188" aria-hidden="true" tabindex="-1"></a><span class="co"># alq1 &lt;- nhanesTranslate('ALQ_J', alq_vars, data=alq)</span></span>
<span id="cb38-189"><a href="#cb38-189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-190"><a href="#cb38-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-191"><a href="#cb38-191" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5d, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-192"><a href="#cb38-192" aria-hidden="true" tabindex="-1"></a>chl <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'TCHOL_J'</span>) <span class="co"># 6 YEARS - 150 YEARS</span></span>
<span id="cb38-193"><a href="#cb38-193" aria-hidden="true" tabindex="-1"></a>chl <span class="ot">&lt;-</span> chl[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-194"><a href="#cb38-194" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXTC"</span>, <span class="co"># Total Cholesterol (mg/dL)</span></span>
<span id="cb38-195"><a href="#cb38-195" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBDTCSI"</span> <span class="co"># Total Cholesterol (mmol/L)</span></span>
<span id="cb38-196"><a href="#cb38-196" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb38-197"><a href="#cb38-197" aria-hidden="true" tabindex="-1"></a>chl_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(chl) </span>
<span id="cb38-198"><a href="#cb38-198" aria-hidden="true" tabindex="-1"></a>chl1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'TCHOL_J'</span>, chl_vars, <span class="at">data=</span>chl)</span>
<span id="cb38-199"><a href="#cb38-199" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-200"><a href="#cb38-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-201"><a href="#cb38-201" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5e, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-202"><a href="#cb38-202" aria-hidden="true" tabindex="-1"></a>tri <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BIOPRO_J'</span>) <span class="co"># 12 YEARS - 150 YEARS</span></span>
<span id="cb38-203"><a href="#cb38-203" aria-hidden="true" tabindex="-1"></a>tri <span class="ot">&lt;-</span> tri[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-204"><a href="#cb38-204" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSTR"</span>, <span class="co"># Triglycerides, refrig serum (mg/dL)</span></span>
<span id="cb38-205"><a href="#cb38-205" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSUA"</span>, <span class="co"># Uric acid</span></span>
<span id="cb38-206"><a href="#cb38-206" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSTP"</span>, <span class="co"># total Protein (g/dL)</span></span>
<span id="cb38-207"><a href="#cb38-207" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSTB"</span>, <span class="co"># Total Bilirubin (mg/dL)</span></span>
<span id="cb38-208"><a href="#cb38-208" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSPH"</span>, <span class="co"># Phosphorus (mg/dL)</span></span>
<span id="cb38-209"><a href="#cb38-209" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSNASI"</span>, <span class="co"># Sodium (mmol/L)</span></span>
<span id="cb38-210"><a href="#cb38-210" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSKSI"</span>, <span class="co"># Potassium (mmol/L)</span></span>
<span id="cb38-211"><a href="#cb38-211" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSGB"</span>, <span class="co"># Globulin (g/dL)</span></span>
<span id="cb38-212"><a href="#cb38-212" aria-hidden="true" tabindex="-1"></a>               <span class="st">"LBXSCA"</span> <span class="co"># Total Calcium (mg/dL)</span></span>
<span id="cb38-213"><a href="#cb38-213" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb38-214"><a href="#cb38-214" aria-hidden="true" tabindex="-1"></a>tri_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(tri) </span>
<span id="cb38-215"><a href="#cb38-215" aria-hidden="true" tabindex="-1"></a>tri1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BIOPRO_J'</span>, tri_vars, <span class="at">data=</span>tri)</span>
<span id="cb38-216"><a href="#cb38-216" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-217"><a href="#cb38-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-218"><a href="#cb38-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5f, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-219"><a href="#cb38-219" aria-hidden="true" tabindex="-1"></a>paq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'PAQ_J'</span>)</span>
<span id="cb38-220"><a href="#cb38-220" aria-hidden="true" tabindex="-1"></a>paq <span class="ot">&lt;-</span> paq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-221"><a href="#cb38-221" aria-hidden="true" tabindex="-1"></a>               <span class="st">"PAQ605"</span>, <span class="co"># Vigorous work activity </span></span>
<span id="cb38-222"><a href="#cb38-222" aria-hidden="true" tabindex="-1"></a>               <span class="st">"PAQ650"</span> <span class="co"># Vigorous recreational activities</span></span>
<span id="cb38-223"><a href="#cb38-223" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb38-224"><a href="#cb38-224" aria-hidden="true" tabindex="-1"></a>paq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(paq) </span>
<span id="cb38-225"><a href="#cb38-225" aria-hidden="true" tabindex="-1"></a>paq1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'PAQ_J'</span>, paq_vars, <span class="at">data=</span>paq)</span>
<span id="cb38-226"><a href="#cb38-226" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-227"><a href="#cb38-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-228"><a href="#cb38-228" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search5g, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-229"><a href="#cb38-229" aria-hidden="true" tabindex="-1"></a>diq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DIQ_J'</span>)</span>
<span id="cb38-230"><a href="#cb38-230" aria-hidden="true" tabindex="-1"></a>diq <span class="ot">&lt;-</span> diq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb38-231"><a href="#cb38-231" aria-hidden="true" tabindex="-1"></a>               <span class="st">"DIQ010"</span> <span class="co"># Doctor told you have diabetes</span></span>
<span id="cb38-232"><a href="#cb38-232" aria-hidden="true" tabindex="-1"></a>               )]</span>
<span id="cb38-233"><a href="#cb38-233" aria-hidden="true" tabindex="-1"></a>diq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(diq) </span>
<span id="cb38-234"><a href="#cb38-234" aria-hidden="true" tabindex="-1"></a>diq1 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'DIQ_J'</span>, diq_vars, <span class="at">data=</span>diq)</span>
<span id="cb38-235"><a href="#cb38-235" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-236"><a href="#cb38-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-237"><a href="#cb38-237" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Merging all the datasets</span></span>
<span id="cb38-238"><a href="#cb38-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-239"><a href="#cb38-239" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb38-240"><a href="#cb38-240" aria-hidden="true" tabindex="-1"></a>We can use the <span class="in">`merge`</span> or <span class="in">`Reduce`</span> function to combine the datasets</span>
<span id="cb38-241"><a href="#cb38-241" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-242"><a href="#cb38-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-243"><a href="#cb38-243" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search8, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-244"><a href="#cb38-244" aria-hidden="true" tabindex="-1"></a>analytic.data7 <span class="ot">&lt;-</span> <span class="fu">Reduce</span>(<span class="cf">function</span>(x,y) <span class="fu">merge</span>(x,y,<span class="at">by=</span><span class="st">"SEQN"</span>,<span class="at">all=</span><span class="cn">TRUE</span>) ,</span>
<span id="cb38-245"><a href="#cb38-245" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(demo1,bpx1,bmi1,smq1,chl1,tri1,paq1,diq1))</span>
<span id="cb38-246"><a href="#cb38-246" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data7)</span>
<span id="cb38-247"><a href="#cb38-247" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-248"><a href="#cb38-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-249"><a href="#cb38-249" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search8b4g, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-250"><a href="#cb38-250" aria-hidden="true" tabindex="-1"></a><span class="co"># Merging one by one</span></span>
<span id="cb38-251"><a href="#cb38-251" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data0 &lt;- merge(demo1, bpx1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-252"><a href="#cb38-252" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data1 &lt;- merge(analytic.data0, bmi1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-253"><a href="#cb38-253" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data2 &lt;- merge(analytic.data1, smq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-254"><a href="#cb38-254" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data3 &lt;- merge(analytic.data2, alq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-255"><a href="#cb38-255" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data4 &lt;- merge(analytic.data3, chl1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-256"><a href="#cb38-256" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data5 &lt;- merge(analytic.data4, tri1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-257"><a href="#cb38-257" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data6 &lt;- merge(analytic.data5, paq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-258"><a href="#cb38-258" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data7 &lt;- merge(analytic.data6, diq1, by = c("SEQN"), all=TRUE)</span></span>
<span id="cb38-259"><a href="#cb38-259" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(analytic.data7)</span></span>
<span id="cb38-260"><a href="#cb38-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-261"><a href="#cb38-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-262"><a href="#cb38-262" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Check Target population and avoid zero-cell cross-tabulation</span></span>
<span id="cb38-263"><a href="#cb38-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-264"><a href="#cb38-264" aria-hidden="true" tabindex="-1"></a>See that marital status variable was restricted to 20 YEARS - 150 YEARS.</span>
<span id="cb38-265"><a href="#cb38-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-266"><a href="#cb38-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{r see1, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-267"><a href="#cb38-267" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(analytic.data7)</span>
<span id="cb38-268"><a href="#cb38-268" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(analytic.data7)</span>
<span id="cb38-269"><a href="#cb38-269" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(analytic.data7<span class="sc">$</span>RIDAGEYR)</span>
<span id="cb38-270"><a href="#cb38-270" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-271"><a href="#cb38-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-272"><a href="#cb38-272" aria-hidden="true" tabindex="-1"></a><span class="in">```{r subset1, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-273"><a href="#cb38-273" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data7)</span>
<span id="cb38-274"><a href="#cb38-274" aria-hidden="true" tabindex="-1"></a>analytic.data8 <span class="ot">&lt;-</span> analytic.data7</span>
<span id="cb38-275"><a href="#cb38-275" aria-hidden="true" tabindex="-1"></a>analytic.data8<span class="sc">$</span>RIDAGEYR[analytic.data8<span class="sc">$</span>RIDAGEYR <span class="sc">&lt;</span> <span class="dv">20</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-276"><a href="#cb38-276" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data8 &lt;- subset(analytic.data7, RIDAGEYR &gt;= 20)</span></span>
<span id="cb38-277"><a href="#cb38-277" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data8)</span>
<span id="cb38-278"><a href="#cb38-278" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-279"><a href="#cb38-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-280"><a href="#cb38-280" aria-hidden="true" tabindex="-1"></a>Get rid of variables where target was less than 20 years of age accordingly.</span>
<span id="cb38-281"><a href="#cb38-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-282"><a href="#cb38-282" aria-hidden="true" tabindex="-1"></a><span class="in">```{r subset2, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-283"><a href="#cb38-283" aria-hidden="true" tabindex="-1"></a>analytic.data8<span class="sc">$</span>DMDEDUC3 <span class="ot">&lt;-</span> <span class="cn">NULL</span> <span class="co"># not relevant for adults</span></span>
<span id="cb38-284"><a href="#cb38-284" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data8$BMDBMIC &lt;- NULL # not relevant for adults</span></span>
<span id="cb38-285"><a href="#cb38-285" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-286"><a href="#cb38-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-287"><a href="#cb38-287" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Get rid of invalid responses</span></span>
<span id="cb38-288"><a href="#cb38-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-289"><a href="#cb38-289" aria-hidden="true" tabindex="-1"></a><span class="in">```{r subset3, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-290"><a href="#cb38-290" aria-hidden="true" tabindex="-1"></a>factor.names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"RIAGENDR"</span>,<span class="st">"DMDBORN4"</span>,<span class="st">"RIDRETH3"</span>,</span>
<span id="cb38-291"><a href="#cb38-291" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"DMDEDUC2"</span>,<span class="st">"DMDMARTL"</span>,<span class="st">"INDHHIN2"</span>, </span>
<span id="cb38-292"><a href="#cb38-292" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"SMQ040"</span>, <span class="st">"PAQ605"</span>, <span class="st">"PAQ650"</span>, <span class="st">"DIQ010"</span>)</span>
<span id="cb38-293"><a href="#cb38-293" aria-hidden="true" tabindex="-1"></a>numeric.names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"SEQN"</span>,<span class="st">"RIDAGEYR"</span>,<span class="st">"WTMEC2YR"</span>,</span>
<span id="cb38-294"><a href="#cb38-294" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"SDMVPSU"</span>, <span class="st">"SDMVSTRA"</span>,</span>
<span id="cb38-295"><a href="#cb38-295" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"BPXDI1"</span>, <span class="st">"BPXSY1"</span>, <span class="st">"BMXWT"</span>, <span class="st">"BMXHT"</span>,</span>
<span id="cb38-296"><a href="#cb38-296" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"BMXBMI"</span>, <span class="st">"BMXWAIST"</span>,</span>
<span id="cb38-297"><a href="#cb38-297" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"ALQ130"</span>, <span class="st">"LBXTC"</span>, <span class="st">"LBDTCSI"</span>, </span>
<span id="cb38-298"><a href="#cb38-298" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"LBXSTR"</span>, <span class="st">"LBXSUA"</span>, <span class="st">"LBXSTP"</span>, <span class="st">"LBXSTB"</span>, </span>
<span id="cb38-299"><a href="#cb38-299" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"LBXSPH"</span>, <span class="st">"LBXSNASI"</span>, <span class="st">"LBXSKSI"</span>,</span>
<span id="cb38-300"><a href="#cb38-300" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"LBXSGB"</span>,<span class="st">"LBXSCA"</span>)</span>
<span id="cb38-301"><a href="#cb38-301" aria-hidden="true" tabindex="-1"></a>analytic.data8[factor.names] <span class="ot">&lt;-</span> <span class="fu">apply</span>(<span class="at">X =</span> analytic.data8[factor.names], </span>
<span id="cb38-302"><a href="#cb38-302" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> as.factor)</span>
<span id="cb38-303"><a href="#cb38-303" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data8[numeric.names] &lt;- apply(X = analytic.data8[numeric.names], </span></span>
<span id="cb38-304"><a href="#cb38-304" aria-hidden="true" tabindex="-1"></a><span class="co">#                                        MARGIN = 2, FUN = </span></span>
<span id="cb38-305"><a href="#cb38-305" aria-hidden="true" tabindex="-1"></a><span class="co">#                                          function (x) as.numeric(as.character(x)))</span></span>
<span id="cb38-306"><a href="#cb38-306" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-307"><a href="#cb38-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-308"><a href="#cb38-308" aria-hidden="true" tabindex="-1"></a><span class="in">```{r subset3x, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-309"><a href="#cb38-309" aria-hidden="true" tabindex="-1"></a>analytic.data9 <span class="ot">&lt;-</span> analytic.data8</span>
<span id="cb38-310"><a href="#cb38-310" aria-hidden="true" tabindex="-1"></a>analytic.data9<span class="sc">$</span>DMDBORN4[analytic.data9<span class="sc">$</span>DMDBORN4 <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-311"><a href="#cb38-311" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data9 &lt;- subset(analytic.data8, DMDBORN4 != "Don't Know")</span></span>
<span id="cb38-312"><a href="#cb38-312" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data9)</span>
<span id="cb38-313"><a href="#cb38-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-314"><a href="#cb38-314" aria-hidden="true" tabindex="-1"></a>analytic.data10 <span class="ot">&lt;-</span> analytic.data9</span>
<span id="cb38-315"><a href="#cb38-315" aria-hidden="true" tabindex="-1"></a>analytic.data10<span class="sc">$</span>DMDEDUC2[analytic.data10<span class="sc">$</span>DMDEDUC2 <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-316"><a href="#cb38-316" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data10 &lt;- subset(analytic.data9, DMDEDUC2 != "Don't Know")</span></span>
<span id="cb38-317"><a href="#cb38-317" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data10)</span>
<span id="cb38-318"><a href="#cb38-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-319"><a href="#cb38-319" aria-hidden="true" tabindex="-1"></a>analytic.data11 <span class="ot">&lt;-</span> analytic.data10</span>
<span id="cb38-320"><a href="#cb38-320" aria-hidden="true" tabindex="-1"></a>analytic.data11<span class="sc">$</span>DMDMARTL[analytic.data11<span class="sc">$</span>DMDMARTL <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-321"><a href="#cb38-321" aria-hidden="true" tabindex="-1"></a>analytic.data11<span class="sc">$</span>DMDMARTL[analytic.data11<span class="sc">$</span>DMDMARTL <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-322"><a href="#cb38-322" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data11 &lt;- subset(analytic.data10, DMDMARTL != "Don't Know" &amp; DMDMARTL != "Refused")</span></span>
<span id="cb38-323"><a href="#cb38-323" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data11)</span>
<span id="cb38-324"><a href="#cb38-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-325"><a href="#cb38-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-326"><a href="#cb38-326" aria-hidden="true" tabindex="-1"></a>analytic.data12 <span class="ot">&lt;-</span> analytic.data11</span>
<span id="cb38-327"><a href="#cb38-327" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"Don't Know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-328"><a href="#cb38-328" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-329"><a href="#cb38-329" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"Under $20,000"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-330"><a href="#cb38-330" aria-hidden="true" tabindex="-1"></a>analytic.data12<span class="sc">$</span>INDHHIN2[analytic.data12<span class="sc">$</span>INDHHIN2 <span class="sc">==</span> <span class="st">"$20,000 and Over"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-331"><a href="#cb38-331" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data12 &lt;- subset(analytic.data11, INDHHIN2 != "Don't know" &amp; INDHHIN2 !=  "Refused" &amp; INDHHIN2 != "Under $20,000" &amp; INDHHIN2 != "$20,000 and Over" )</span></span>
<span id="cb38-332"><a href="#cb38-332" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data12)</span>
<span id="cb38-333"><a href="#cb38-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-334"><a href="#cb38-334" aria-hidden="true" tabindex="-1"></a><span class="co">#analytic.data11 &lt;- subset(analytic.data10, ALQ130 != 777 &amp; ALQ130 != 999 )</span></span>
<span id="cb38-335"><a href="#cb38-335" aria-hidden="true" tabindex="-1"></a><span class="co">#dim(analytic.data11) # this are listed as NA anyway</span></span>
<span id="cb38-336"><a href="#cb38-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-337"><a href="#cb38-337" aria-hidden="true" tabindex="-1"></a>analytic.data13 <span class="ot">&lt;-</span> analytic.data12</span>
<span id="cb38-338"><a href="#cb38-338" aria-hidden="true" tabindex="-1"></a>analytic.data13<span class="sc">$</span>PAQ605[analytic.data13<span class="sc">$</span>PAQ605 <span class="sc">==</span> <span class="st">"Don't know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-339"><a href="#cb38-339" aria-hidden="true" tabindex="-1"></a>analytic.data13<span class="sc">$</span>PAQ605[analytic.data13<span class="sc">$</span>PAQ605 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-340"><a href="#cb38-340" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data13 &lt;- subset(analytic.data12, PAQ605 != "Don't know" &amp; PAQ605 != "Refused")</span></span>
<span id="cb38-341"><a href="#cb38-341" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data13)</span>
<span id="cb38-342"><a href="#cb38-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-343"><a href="#cb38-343" aria-hidden="true" tabindex="-1"></a>analytic.data14 <span class="ot">&lt;-</span> analytic.data13</span>
<span id="cb38-344"><a href="#cb38-344" aria-hidden="true" tabindex="-1"></a>analytic.data14<span class="sc">$</span>PAQ650[analytic.data14<span class="sc">$</span>PAQ650 <span class="sc">==</span> <span class="st">"Don't know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-345"><a href="#cb38-345" aria-hidden="true" tabindex="-1"></a>analytic.data14<span class="sc">$</span>PAQ650[analytic.data14<span class="sc">$</span>PAQ650 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-346"><a href="#cb38-346" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data14 &lt;- subset(analytic.data13, PAQ650 != "Don't Know" &amp; PAQ650 != "Refused")</span></span>
<span id="cb38-347"><a href="#cb38-347" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data14)</span>
<span id="cb38-348"><a href="#cb38-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-349"><a href="#cb38-349" aria-hidden="true" tabindex="-1"></a>analytic.data15 <span class="ot">&lt;-</span> analytic.data14</span>
<span id="cb38-350"><a href="#cb38-350" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DIQ010[analytic.data15<span class="sc">$</span>DIQ010 <span class="sc">==</span> <span class="st">"Don't know"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-351"><a href="#cb38-351" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DIQ010[analytic.data15<span class="sc">$</span>DIQ010 <span class="sc">==</span> <span class="st">"Refused"</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb38-352"><a href="#cb38-352" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15 &lt;- subset(analytic.data14, DIQ010 != "Don't Know" &amp; DIQ010 != "Refused")</span></span>
<span id="cb38-353"><a href="#cb38-353" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data15)</span>
<span id="cb38-354"><a href="#cb38-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-355"><a href="#cb38-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-356"><a href="#cb38-356" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15$ALQ130[analytic.data15$ALQ130 &gt; 100] &lt;- NA</span></span>
<span id="cb38-357"><a href="#cb38-357" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(analytic.data15$ALQ130)</span></span>
<span id="cb38-358"><a href="#cb38-358" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>SMQ040,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb38-359"><a href="#cb38-359" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>PAQ605,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb38-360"><a href="#cb38-360" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>PAQ650,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb38-361"><a href="#cb38-361" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data15<span class="sc">$</span>PAQ650,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb38-362"><a href="#cb38-362" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-363"><a href="#cb38-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-364"><a href="#cb38-364" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Recode values</span></span>
<span id="cb38-365"><a href="#cb38-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-366"><a href="#cb38-366" aria-hidden="true" tabindex="-1"></a>Let us recode the variables using the <span class="in">`recode`</span> function:</span>
<span id="cb38-367"><a href="#cb38-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-368"><a href="#cb38-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{r subset4, eval=TRUE, cache=TRUE, warning=FALSE}</span></span>
<span id="cb38-369"><a href="#cb38-369" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(car)</span>
<span id="cb38-370"><a href="#cb38-370" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>RIDRETH3 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>RIDRETH3, </span>
<span id="cb38-371"><a href="#cb38-371" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('Mexican American','Other Hispanic')='Hispanic'; </span></span>
<span id="cb38-372"><a href="#cb38-372" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Non-Hispanic White'='White'; </span></span>
<span id="cb38-373"><a href="#cb38-373" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Non-Hispanic Black'='Black';</span></span>
<span id="cb38-374"><a href="#cb38-374" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('Non-Hispanic Asian',</span></span>
<span id="cb38-375"><a href="#cb38-375" aria-hidden="true" tabindex="-1"></a><span class="st">                               'Other Race - Including Multi-Rac')='Other';</span></span>
<span id="cb38-376"><a href="#cb38-376" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb38-377"><a href="#cb38-377" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DMDEDUC2 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>DMDEDUC2, </span>
<span id="cb38-378"><a href="#cb38-378" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('Some college or AA degree',</span></span>
<span id="cb38-379"><a href="#cb38-379" aria-hidden="true" tabindex="-1"></a><span class="st">                             'College graduate or above')='College'; </span></span>
<span id="cb38-380"><a href="#cb38-380" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('9-11th grade (Includes 12th grad', </span></span>
<span id="cb38-381"><a href="#cb38-381" aria-hidden="true" tabindex="-1"></a><span class="st">                              'High school graduate/GED or equi')</span></span>
<span id="cb38-382"><a href="#cb38-382" aria-hidden="true" tabindex="-1"></a><span class="st">                               ='High.School'; </span></span>
<span id="cb38-383"><a href="#cb38-383" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Less than 9th grade'='School';</span></span>
<span id="cb38-384"><a href="#cb38-384" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb38-385"><a href="#cb38-385" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DMDMARTL <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>DMDMARTL, </span>
<span id="cb38-386"><a href="#cb38-386" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('Divorced','Separated','Widowed')</span></span>
<span id="cb38-387"><a href="#cb38-387" aria-hidden="true" tabindex="-1"></a><span class="st">                                ='Previously.married'; </span></span>
<span id="cb38-388"><a href="#cb38-388" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('Living with partner', 'Married')</span></span>
<span id="cb38-389"><a href="#cb38-389" aria-hidden="true" tabindex="-1"></a><span class="st">                                ='Married'; </span></span>
<span id="cb38-390"><a href="#cb38-390" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Never married'='Never.married';</span></span>
<span id="cb38-391"><a href="#cb38-391" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb38-392"><a href="#cb38-392" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>INDHHIN2 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>INDHHIN2, </span>
<span id="cb38-393"><a href="#cb38-393" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"c('$ 0 to $ 4,999', '$ 5,000 to $ 9,999', </span></span>
<span id="cb38-394"><a href="#cb38-394" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$10,000 to $14,999', '$15,000 to $19,999', </span></span>
<span id="cb38-395"><a href="#cb38-395" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$20,000 to $24,999')='&lt;25k';</span></span>
<span id="cb38-396"><a href="#cb38-396" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('$25,000 to $34,999', '$35,000 to $44,999', </span></span>
<span id="cb38-397"><a href="#cb38-397" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$45,000 to $54,999') = 'Between.25kto54k';</span></span>
<span id="cb38-398"><a href="#cb38-398" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('$55,000 to $64,999', '$65,000 to $74,999',</span></span>
<span id="cb38-399"><a href="#cb38-399" aria-hidden="true" tabindex="-1"></a><span class="st">                                 '$75,000 to $99,999')='Between.55kto99k';</span></span>
<span id="cb38-400"><a href="#cb38-400" aria-hidden="true" tabindex="-1"></a><span class="st">                            '$100,000 and Over'= 'Over100k';</span></span>
<span id="cb38-401"><a href="#cb38-401" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb38-402"><a href="#cb38-402" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>SMQ040 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>SMQ040, </span>
<span id="cb38-403"><a href="#cb38-403" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"'Every day'='Every.day';</span></span>
<span id="cb38-404"><a href="#cb38-404" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Not at all'='Not.at.all';</span></span>
<span id="cb38-405"><a href="#cb38-405" aria-hidden="true" tabindex="-1"></a><span class="st">                            'Some days'='Some.days';</span></span>
<span id="cb38-406"><a href="#cb38-406" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb38-407"><a href="#cb38-407" aria-hidden="true" tabindex="-1"></a>analytic.data15<span class="sc">$</span>DIQ010 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data15<span class="sc">$</span>DIQ010, </span>
<span id="cb38-408"><a href="#cb38-408" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"'No'='No';</span></span>
<span id="cb38-409"><a href="#cb38-409" aria-hidden="true" tabindex="-1"></a><span class="st">                            c('Yes', 'Borderline')='Yes';</span></span>
<span id="cb38-410"><a href="#cb38-410" aria-hidden="true" tabindex="-1"></a><span class="st">                               else=NA"</span>)</span>
<span id="cb38-411"><a href="#cb38-411" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-412"><a href="#cb38-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-413"><a href="#cb38-413" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Check missingness</span></span>
<span id="cb38-414"><a href="#cb38-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-415"><a href="#cb38-415" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb38-416"><a href="#cb38-416" aria-hidden="true" tabindex="-1"></a>We can use the <span class="in">`plot_missing`</span> function to plot the profile of missing values, e.g., the percentage of missing per variable</span>
<span id="cb38-417"><a href="#cb38-417" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-418"><a href="#cb38-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-419"><a href="#cb38-419" aria-hidden="true" tabindex="-1"></a><span class="in">```{r missing1, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-420"><a href="#cb38-420" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(DataExplorer)</span>
<span id="cb38-421"><a href="#cb38-421" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(analytic.data15)</span>
<span id="cb38-422"><a href="#cb38-422" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-423"><a href="#cb38-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-424"><a href="#cb38-424" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Check data summaries</span></span>
<span id="cb38-425"><a href="#cb38-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-426"><a href="#cb38-426" aria-hidden="true" tabindex="-1"></a><span class="in">```{r analytic0, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-427"><a href="#cb38-427" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(analytic.data15)</span>
<span id="cb38-428"><a href="#cb38-428" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(analytic.data15) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ID"</span>, <span class="st">"gender"</span>, <span class="st">"age"</span>, <span class="st">"born"</span>, <span class="st">"race"</span>, <span class="st">"education"</span>, </span>
<span id="cb38-429"><a href="#cb38-429" aria-hidden="true" tabindex="-1"></a><span class="st">"married"</span>, <span class="st">"income"</span>, <span class="st">"weight"</span>, <span class="st">"psu"</span>, <span class="st">"strata"</span>, <span class="st">"diastolicBP"</span>, </span>
<span id="cb38-430"><a href="#cb38-430" aria-hidden="true" tabindex="-1"></a><span class="st">"systolicBP"</span>, <span class="st">"bodyweight"</span>, <span class="st">"bodyheight"</span>, <span class="st">"bmi"</span>, <span class="st">"waist"</span>, <span class="st">"smoke"</span>, </span>
<span id="cb38-431"><a href="#cb38-431" aria-hidden="true" tabindex="-1"></a><span class="st">"cholesterol"</span>, <span class="st">"cholesterolM2"</span>, <span class="st">"triglycerides"</span>, </span>
<span id="cb38-432"><a href="#cb38-432" aria-hidden="true" tabindex="-1"></a><span class="st">"uric.acid"</span>, <span class="st">"protein"</span>, <span class="st">"bilirubin"</span>, <span class="st">"phosphorus"</span>, <span class="st">"sodium"</span>, </span>
<span id="cb38-433"><a href="#cb38-433" aria-hidden="true" tabindex="-1"></a><span class="st">"potassium"</span>, <span class="st">"globulin"</span>, <span class="st">"calcium"</span>, <span class="st">"physical.work"</span>, </span>
<span id="cb38-434"><a href="#cb38-434" aria-hidden="true" tabindex="-1"></a><span class="st">"physical.recreational"</span>,<span class="st">"diabetes"</span>)</span>
<span id="cb38-435"><a href="#cb38-435" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(<span class="st">"tableone"</span>)</span>
<span id="cb38-436"><a href="#cb38-436" aria-hidden="true" tabindex="-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data15, <span class="at">includeNA =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-437"><a href="#cb38-437" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-438"><a href="#cb38-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-439"><a href="#cb38-439" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Create fictitious data (missing = 'No')</span></span>
<span id="cb38-440"><a href="#cb38-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-441"><a href="#cb38-441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r analytic191, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-442"><a href="#cb38-442" aria-hidden="true" tabindex="-1"></a>fictitious.data <span class="ot">&lt;-</span> analytic.data15</span>
<span id="cb38-443"><a href="#cb38-443" aria-hidden="true" tabindex="-1"></a><span class="co"># the following is the worst possible solution!</span></span>
<span id="cb38-444"><a href="#cb38-444" aria-hidden="true" tabindex="-1"></a>fictitious.data<span class="sc">$</span>smoke[<span class="fu">is.na</span>(fictitious.data<span class="sc">$</span>smoke)] <span class="ot">&lt;-</span> <span class="st">"Not.at.all"</span></span>
<span id="cb38-445"><a href="#cb38-445" aria-hidden="true" tabindex="-1"></a><span class="co">#fictitious.data$alcohol[is.na(fictitious.data$alcohol)] &lt;- 0</span></span>
<span id="cb38-446"><a href="#cb38-446" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(fictitious.data<span class="sc">$</span>smoke)</span>
<span id="cb38-447"><a href="#cb38-447" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(fictitious.data$alcohol)</span></span>
<span id="cb38-448"><a href="#cb38-448" aria-hidden="true" tabindex="-1"></a>fictitious.data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">na.omit</span>(fictitious.data))</span>
<span id="cb38-449"><a href="#cb38-449" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(fictitious.data)</span>
<span id="cb38-450"><a href="#cb38-450" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-451"><a href="#cb38-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-452"><a href="#cb38-452" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Create complete case data (for now)</span></span>
<span id="cb38-453"><a href="#cb38-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-454"><a href="#cb38-454" aria-hidden="true" tabindex="-1"></a><span class="in">```{r analytic1, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-455"><a href="#cb38-455" aria-hidden="true" tabindex="-1"></a>analytic.with.miss <span class="ot">&lt;-</span> analytic.data15</span>
<span id="cb38-456"><a href="#cb38-456" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>cholesterol.bin <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(analytic.with.miss<span class="sc">$</span>cholesterol <span class="sc">&lt;</span><span class="dv">200</span>, <span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb38-457"><a href="#cb38-457" aria-hidden="true" tabindex="-1"></a>analytic <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">na.omit</span>(analytic.with.miss))</span>
<span id="cb38-458"><a href="#cb38-458" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic)</span>
<span id="cb38-459"><a href="#cb38-459" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-460"><a href="#cb38-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-461"><a href="#cb38-461" aria-hidden="true" tabindex="-1"></a><span class="in">```{r analytic2, eval=TRUE}</span></span>
<span id="cb38-462"><a href="#cb38-462" aria-hidden="true" tabindex="-1"></a><span class="co"># removing values with excessive missing values</span></span>
<span id="cb38-463"><a href="#cb38-463" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15$ALQ130 &lt;- NULL</span></span>
<span id="cb38-464"><a href="#cb38-464" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic1 &lt;- as.data.frame(na.omit(analytic.data15))</span></span>
<span id="cb38-465"><a href="#cb38-465" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(analytic1)</span></span>
<span id="cb38-466"><a href="#cb38-466" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic.data15$smoke &lt;- NULL</span></span>
<span id="cb38-467"><a href="#cb38-467" aria-hidden="true" tabindex="-1"></a><span class="co"># analytic2 &lt;- as.data.frame(na.omit(analytic.data15))</span></span>
<span id="cb38-468"><a href="#cb38-468" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(analytic2)</span></span>
<span id="cb38-469"><a href="#cb38-469" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-470"><a href="#cb38-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-471"><a href="#cb38-471" aria-hidden="true" tabindex="-1"></a><span class="in">```{r analytic3, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-472"><a href="#cb38-472" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(<span class="st">"tableone"</span>)</span>
<span id="cb38-473"><a href="#cb38-473" aria-hidden="true" tabindex="-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic, <span class="at">includeNA =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-474"><a href="#cb38-474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-475"><a href="#cb38-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-476"><a href="#cb38-476" aria-hidden="true" tabindex="-1"></a><span class="fu">### Regression</span></span>
<span id="cb38-477"><a href="#cb38-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-478"><a href="#cb38-478" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Wrong way to define design</span></span>
<span id="cb38-479"><a href="#cb38-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-480"><a href="#cb38-480" aria-hidden="true" tabindex="-1"></a>::: column-margin</span>
<span id="cb38-481"><a href="#cb38-481" aria-hidden="true" tabindex="-1"></a>To get population-level estimate, we must appropriately utilize the survey features.</span>
<span id="cb38-482"><a href="#cb38-482" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-483"><a href="#cb38-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-484"><a href="#cb38-484" aria-hidden="true" tabindex="-1"></a>See the section on <span class="co">[</span><span class="ot">Analyzing Subgroups in NHANES</span><span class="co">](https://wwwn.cdc.gov/nchs/nhanes/tutorials/module4.aspx)</span></span>
<span id="cb38-485"><a href="#cb38-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-486"><a href="#cb38-486" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reg0, cache=TRUE}</span></span>
<span id="cb38-487"><a href="#cb38-487" aria-hidden="true" tabindex="-1"></a>w.design.wrong <span class="ot">&lt;-</span> <span class="fu">svydesign</span>(<span class="at">id=</span><span class="sc">~</span>psu, </span>
<span id="cb38-488"><a href="#cb38-488" aria-hidden="true" tabindex="-1"></a>                       <span class="at">strata=</span><span class="sc">~</span>strata, </span>
<span id="cb38-489"><a href="#cb38-489" aria-hidden="true" tabindex="-1"></a>                       <span class="at">weights=</span><span class="sc">~</span>weight, </span>
<span id="cb38-490"><a href="#cb38-490" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data=</span>analytic, <span class="co"># already subsetted data</span></span>
<span id="cb38-491"><a href="#cb38-491" aria-hidden="true" tabindex="-1"></a>                      <span class="at">nest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-492"><a href="#cb38-492" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">weights</span>(w.design.wrong))</span>
<span id="cb38-493"><a href="#cb38-493" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-494"><a href="#cb38-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-495"><a href="#cb38-495" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Wrong analysis</span></span>
<span id="cb38-496"><a href="#cb38-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-497"><a href="#cb38-497" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reg1, cache=TRUE}</span></span>
<span id="cb38-498"><a href="#cb38-498" aria-hidden="true" tabindex="-1"></a>out.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(cholesterol.bin <span class="sc">~</span> diabetes <span class="sc">+</span> </span>
<span id="cb38-499"><a href="#cb38-499" aria-hidden="true" tabindex="-1"></a>                            gender <span class="sc">+</span> race <span class="sc">+</span> education <span class="sc">+</span> </span>
<span id="cb38-500"><a href="#cb38-500" aria-hidden="true" tabindex="-1"></a>                            married <span class="sc">+</span> income <span class="sc">+</span> age <span class="sc">+</span> </span>
<span id="cb38-501"><a href="#cb38-501" aria-hidden="true" tabindex="-1"></a>                            diastolicBP <span class="sc">+</span> systolicBP <span class="sc">+</span> bmi)</span>
<span id="cb38-502"><a href="#cb38-502" aria-hidden="true" tabindex="-1"></a>fit.wrong <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(out.formula,</span>
<span id="cb38-503"><a href="#cb38-503" aria-hidden="true" tabindex="-1"></a>               <span class="at">design =</span> w.design.wrong, </span>
<span id="cb38-504"><a href="#cb38-504" aria-hidden="true" tabindex="-1"></a>               <span class="at">family =</span> <span class="fu">binomial</span>(logit))</span>
<span id="cb38-505"><a href="#cb38-505" aria-hidden="true" tabindex="-1"></a><span class="fu">publish</span>(fit.wrong)</span>
<span id="cb38-506"><a href="#cb38-506" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-507"><a href="#cb38-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-508"><a href="#cb38-508" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Define design and subset</span></span>
<span id="cb38-509"><a href="#cb38-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-510"><a href="#cb38-510" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>See the section on <span class="co">[</span><span class="ot">How to Request Taylor Series Linearization to Calculate Variance in NHANES using R</span><span class="co">](https://wwwn.cdc.gov/nchs/nhanes/tutorials/module4.aspx)</span></span>
<span id="cb38-511"><a href="#cb38-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-512"><a href="#cb38-512" aria-hidden="true" tabindex="-1"></a><span class="in">```{r design, cache=TRUE}</span></span>
<span id="cb38-513"><a href="#cb38-513" aria-hidden="true" tabindex="-1"></a>analytic.data <span class="ot">&lt;-</span> analytic</span>
<span id="cb38-514"><a href="#cb38-514" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>miss <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb38-515"><a href="#cb38-515" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>ID[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co"># full data</span></span>
<span id="cb38-516"><a href="#cb38-516" aria-hidden="true" tabindex="-1"></a>analytic.data<span class="sc">$</span>ID[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co"># complete case</span></span>
<span id="cb38-517"><a href="#cb38-517" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>ID[analytic.with.miss<span class="sc">$</span>ID <span class="sc">%in%</span> analytic.data<span class="sc">$</span>ID][<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb38-518"><a href="#cb38-518" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>miss[analytic.with.miss<span class="sc">$</span>ID <span class="sc">%in%</span> analytic.data<span class="sc">$</span>ID] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb38-519"><a href="#cb38-519" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.with.miss<span class="sc">$</span>miss)</span>
<span id="cb38-520"><a href="#cb38-520" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-521"><a href="#cb38-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-522"><a href="#cb38-522" aria-hidden="true" tabindex="-1"></a><span class="in">```{r subdesign, cache=TRUE}</span></span>
<span id="cb38-523"><a href="#cb38-523" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>strata<span class="ot">&lt;-</span> <span class="fu">as.factor</span>(analytic.with.miss<span class="sc">$</span>strata)</span>
<span id="cb38-524"><a href="#cb38-524" aria-hidden="true" tabindex="-1"></a>analytic.with.miss<span class="sc">$</span>psu<span class="ot">&lt;-</span> <span class="fu">as.factor</span>(analytic.with.miss<span class="sc">$</span>psu)</span>
<span id="cb38-525"><a href="#cb38-525" aria-hidden="true" tabindex="-1"></a>w.design0 <span class="ot">&lt;-</span> <span class="fu">svydesign</span>(<span class="at">id=</span><span class="sc">~</span>psu, </span>
<span id="cb38-526"><a href="#cb38-526" aria-hidden="true" tabindex="-1"></a>                       <span class="at">strata=</span><span class="sc">~</span>strata, </span>
<span id="cb38-527"><a href="#cb38-527" aria-hidden="true" tabindex="-1"></a>                       <span class="at">weights=</span><span class="sc">~</span>weight, </span>
<span id="cb38-528"><a href="#cb38-528" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data=</span>analytic.with.miss,</span>
<span id="cb38-529"><a href="#cb38-529" aria-hidden="true" tabindex="-1"></a>                      <span class="at">nest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-530"><a href="#cb38-530" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">weights</span>(w.design0))</span>
<span id="cb38-531"><a href="#cb38-531" aria-hidden="true" tabindex="-1"></a>w.designX <span class="ot">&lt;-</span> <span class="fu">subset</span>(w.design0, miss <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb38-532"><a href="#cb38-532" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">weights</span>(w.designX))</span>
<span id="cb38-533"><a href="#cb38-533" aria-hidden="true" tabindex="-1"></a>w.designX<span class="sc">$</span>df.residual</span>
<span id="cb38-534"><a href="#cb38-534" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(w.designX)</span>
<span id="cb38-535"><a href="#cb38-535" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-536"><a href="#cb38-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-537"><a href="#cb38-537" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Regression analysis</span></span>
<span id="cb38-538"><a href="#cb38-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-539"><a href="#cb38-539" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reganalysis, cache=TRUE, warning=FALSE}</span></span>
<span id="cb38-540"><a href="#cb38-540" aria-hidden="true" tabindex="-1"></a>out.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(cholesterol.bin <span class="sc">~</span> diabetes <span class="sc">+</span> </span>
<span id="cb38-541"><a href="#cb38-541" aria-hidden="true" tabindex="-1"></a>                            gender <span class="sc">+</span> race <span class="sc">+</span> education <span class="sc">+</span> </span>
<span id="cb38-542"><a href="#cb38-542" aria-hidden="true" tabindex="-1"></a>                            married <span class="sc">+</span> income <span class="sc">+</span> age)</span>
<span id="cb38-543"><a href="#cb38-543" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(out.formula,</span>
<span id="cb38-544"><a href="#cb38-544" aria-hidden="true" tabindex="-1"></a>               <span class="at">design =</span> w.designX, </span>
<span id="cb38-545"><a href="#cb38-545" aria-hidden="true" tabindex="-1"></a>               <span class="at">family =</span> <span class="fu">binomial</span>(logit))</span>
<span id="cb38-546"><a href="#cb38-546" aria-hidden="true" tabindex="-1"></a><span class="co"># default = denominator degrees of freedom for Wald tests?</span></span>
<span id="cb38-547"><a href="#cb38-547" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-548"><a href="#cb38-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-549"><a href="#cb38-549" aria-hidden="true" tabindex="-1"></a><span class="in">```{r regres, cache=TRUE}</span></span>
<span id="cb38-550"><a href="#cb38-550" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(Publish)</span>
<span id="cb38-551"><a href="#cb38-551" aria-hidden="true" tabindex="-1"></a><span class="co"># notice that the conclusion from CI.95  p-value are contradictory</span></span>
<span id="cb38-552"><a href="#cb38-552" aria-hidden="true" tabindex="-1"></a><span class="co"># For example: gender/Male OR 1.51 [95% CI: 1.10;2.07] but p-value is 0.1233</span></span>
<span id="cb38-553"><a href="#cb38-553" aria-hidden="true" tabindex="-1"></a><span class="fu">publish</span>(fit1)</span>
<span id="cb38-554"><a href="#cb38-554" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-555"><a href="#cb38-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-556"><a href="#cb38-556" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Regression analysis with more covariates</span></span>
<span id="cb38-557"><a href="#cb38-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-558"><a href="#cb38-558" aria-hidden="true" tabindex="-1"></a><span class="in">```{r regformula, cache=TRUE, warning=FALSE}</span></span>
<span id="cb38-559"><a href="#cb38-559" aria-hidden="true" tabindex="-1"></a>out.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(cholesterol.bin <span class="sc">~</span> diabetes <span class="sc">+</span> </span>
<span id="cb38-560"><a href="#cb38-560" aria-hidden="true" tabindex="-1"></a>                            gender <span class="sc">+</span> race <span class="sc">+</span> education <span class="sc">+</span> </span>
<span id="cb38-561"><a href="#cb38-561" aria-hidden="true" tabindex="-1"></a>                            married <span class="sc">+</span> income <span class="sc">+</span> age <span class="sc">+</span> </span>
<span id="cb38-562"><a href="#cb38-562" aria-hidden="true" tabindex="-1"></a>                            diastolicBP <span class="sc">+</span> systolicBP <span class="sc">+</span> bmi)</span>
<span id="cb38-563"><a href="#cb38-563" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(out.formula,</span>
<span id="cb38-564"><a href="#cb38-564" aria-hidden="true" tabindex="-1"></a>               <span class="at">design =</span> w.designX, </span>
<span id="cb38-565"><a href="#cb38-565" aria-hidden="true" tabindex="-1"></a>               <span class="at">family =</span> <span class="fu">binomial</span>(logit))</span>
<span id="cb38-566"><a href="#cb38-566" aria-hidden="true" tabindex="-1"></a><span class="co"># default = denominator degrees of freedom for Wald tests?</span></span>
<span id="cb38-567"><a href="#cb38-567" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-568"><a href="#cb38-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-569"><a href="#cb38-569" aria-hidden="true" tabindex="-1"></a><span class="in">```{r se, cache=TRUE}</span></span>
<span id="cb38-570"><a href="#cb38-570" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1)<span class="sc">$</span>coefficients</span>
<span id="cb38-571"><a href="#cb38-571" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(Publish)</span>
<span id="cb38-572"><a href="#cb38-572" aria-hidden="true" tabindex="-1"></a><span class="fu">publish</span>(fit1)</span>
<span id="cb38-573"><a href="#cb38-573" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-574"><a href="#cb38-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-575"><a href="#cb38-575" aria-hidden="true" tabindex="-1"></a><span class="fu">### SE calculation</span></span>
<span id="cb38-576"><a href="#cb38-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-577"><a href="#cb38-577" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Current default option</span></span>
<span id="cb38-578"><a href="#cb38-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-579"><a href="#cb38-579" aria-hidden="true" tabindex="-1"></a><span class="in">```{r se1, cache=TRUE}</span></span>
<span id="cb38-580"><a href="#cb38-580" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1)<span class="sc">$</span>coefficients</span>
<span id="cb38-581"><a href="#cb38-581" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-582"><a href="#cb38-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-583"><a href="#cb38-583" aria-hidden="true" tabindex="-1"></a>As we can see no p-values for the coefficients. Let us estimate the p-values based on the Normal distribution.</span>
<span id="cb38-584"><a href="#cb38-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-585"><a href="#cb38-585" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Tests based on a Normal distribution</span></span>
<span id="cb38-586"><a href="#cb38-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-587"><a href="#cb38-587" aria-hidden="true" tabindex="-1"></a><span class="in">```{r se2, cache=TRUE}</span></span>
<span id="cb38-588"><a href="#cb38-588" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb38-589"><a href="#cb38-589" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1, <span class="at">df.resid =</span> <span class="cn">Inf</span>)</span>
<span id="cb38-590"><a href="#cb38-590" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">summary</span>(fit1, <span class="at">df.resid =</span> <span class="cn">Inf</span>)<span class="sc">$</span>coefficients[,<span class="dv">4</span>] ,<span class="dv">3</span>)  </span>
<span id="cb38-591"><a href="#cb38-591" aria-hidden="true" tabindex="-1"></a><span class="co"># CI</span></span>
<span id="cb38-592"><a href="#cb38-592" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">exp</span>(<span class="fu">confint</span>(fit1, <span class="at">ddf =</span> <span class="cn">Inf</span>)),<span class="dv">2</span>)</span>
<span id="cb38-593"><a href="#cb38-593" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-594"><a href="#cb38-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-595"><a href="#cb38-595" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual df = PSUs count - strata count</span></span>
<span id="cb38-596"><a href="#cb38-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-597"><a href="#cb38-597" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>See section 3.1 of @lumley2017fitting</span>
<span id="cb38-598"><a href="#cb38-598" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>See NHANES Linked Data Tutorial <span class="co">[</span><span class="ot">@varest</span><span class="co">]</span></span>
<span id="cb38-599"><a href="#cb38-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-600"><a href="#cb38-600" aria-hidden="true" tabindex="-1"></a>::: column-margin</span>
<span id="cb38-601"><a href="#cb38-601" aria-hidden="true" tabindex="-1"></a>@lumley2017fitting</span>
<span id="cb38-602"><a href="#cb38-602" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-603"><a href="#cb38-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-604"><a href="#cb38-604" aria-hidden="true" tabindex="-1"></a>::: column-margin</span>
<span id="cb38-605"><a href="#cb38-605" aria-hidden="true" tabindex="-1"></a>@varest</span>
<span id="cb38-606"><a href="#cb38-606" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-607"><a href="#cb38-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-608"><a href="#cb38-608" aria-hidden="true" tabindex="-1"></a><span class="in">```{r se3, cache=TRUE}</span></span>
<span id="cb38-609"><a href="#cb38-609" aria-hidden="true" tabindex="-1"></a>ns <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>strata)) <span class="co"># number of strata</span></span>
<span id="cb38-610"><a href="#cb38-610" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>psu)) <span class="co"># number of clusters per strata</span></span>
<span id="cb38-611"><a href="#cb38-611" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>strata))<span class="sc">*</span></span>
<span id="cb38-612"><a href="#cb38-612" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(<span class="fu">unique</span>(analytic.with.miss<span class="sc">$</span>psu)) <span class="co"># number of clusters in total</span></span>
<span id="cb38-613"><a href="#cb38-613" aria-hidden="true" tabindex="-1"></a>nc <span class="sc">-</span> ns</span>
<span id="cb38-614"><a href="#cb38-614" aria-hidden="true" tabindex="-1"></a><span class="fu">degf</span>(w.designX)</span>
<span id="cb38-615"><a href="#cb38-615" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb38-616"><a href="#cb38-616" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1, <span class="at">df.resid =</span> <span class="fu">degf</span>(w.designX))</span>
<span id="cb38-617"><a href="#cb38-617" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">summary</span>(fit1, </span>
<span id="cb38-618"><a href="#cb38-618" aria-hidden="true" tabindex="-1"></a>              <span class="at">df.resid =</span> <span class="fu">degf</span>(w.designX))<span class="sc">$</span>coefficients[,<span class="dv">4</span>] ,<span class="dv">3</span>)  </span>
<span id="cb38-619"><a href="#cb38-619" aria-hidden="true" tabindex="-1"></a><span class="co"># CI</span></span>
<span id="cb38-620"><a href="#cb38-620" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">exp</span>(<span class="fu">confint</span>(fit1, <span class="at">ddf =</span> <span class="fu">degf</span>(w.designX))),<span class="dv">2</span>)</span>
<span id="cb38-621"><a href="#cb38-621" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-622"><a href="#cb38-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-623"><a href="#cb38-623" aria-hidden="true" tabindex="-1"></a><span class="fu">### Saving data</span></span>
<span id="cb38-624"><a href="#cb38-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-625"><a href="#cb38-625" aria-hidden="true" tabindex="-1"></a><span class="in">```{r search8save, eval=TRUE, cache=TRUE}</span></span>
<span id="cb38-626"><a href="#cb38-626" aria-hidden="true" tabindex="-1"></a><span class="co"># getwd()</span></span>
<span id="cb38-627"><a href="#cb38-627" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(analytic.with.miss, analytic, <span class="at">file=</span><span class="st">"Data/researchquestion/NHANES17.RData"</span>)</span>
<span id="cb38-628"><a href="#cb38-628" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-629"><a href="#cb38-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-630"><a href="#cb38-630" aria-hidden="true" tabindex="-1"></a><span class="fu">### References</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>