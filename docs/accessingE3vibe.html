<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Exercise 3 (A) Vibe – Advanced Epidemiological Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./exploring.html" rel="next">
<link href="./accessingE3solution.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ae0b5334a1ec0bf99af3d0c304a697d2.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d7467a78f02d1547bfd7f7d524b2f508.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CVBPG0RQMY"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CVBPG0RQMY', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="Exercise 3 (A) Vibe – Advanced Epidemiological Methods">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="accessingE3vibe_files/figure-html/unnamed-chunk-7-1.png">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./accessing.html">Accessing data</a></li><li class="breadcrumb-item"><a href="./accessingE3vibe.html">Exercise 3 (A) Vibe</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Project</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data wrangling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Automating tasks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing dataset</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data manipulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Import external data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summary tables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Functions (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (W)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Accessing data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survey data sources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1i.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descriptions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing CCHS to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing NHANES to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reproducing NHANES results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing NHIS to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linking mortality data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Replicate Data Creation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Functions (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE1vibep1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (A) Vibe Part 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE1vibep2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (A) Vibe Part 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE2solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 Solution (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 3 (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE3solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 3 Solution (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE3vibe.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Exercise 3 (A) Vibe</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./exploring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploratory Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploring0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Univariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploring1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploring2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful Packages</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research questions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (Q)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive question-1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive question-2a</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive question-2b</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal question-1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal question-2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (Q)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (Q)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (Q)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./Simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Simulation1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Monte Carlo Simulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Simulation2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Performance Measures</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Simulation3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Estimating Causal Effects</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal roles</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confounding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mediator</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collider</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simpson’s Paradox</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Z-bias</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collapsibility</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Change-in-estimate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingE2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingE2solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 Solution (R)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prediction ideas</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (P)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collinear predictors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Binary outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overfitting and performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Splitting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bootstrap</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (P)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (P)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survey data analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Revisiting PICOT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Assessing data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Bivariate analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Blood Pressure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Cholesterol</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Subsetting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Reliability Standards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata9c.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (D)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missing data analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Imputation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Imputation in NHANES</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missing in outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Performance with NA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Subpopulations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MCAR tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Effect modification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (M)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity score</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exact Matching (CCHS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM in OA-CVD (CCHS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM in OA-CVD (US)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM in BMI-diabetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM with MI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PS Weighting (US)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM with MI in subset</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSW with MI in subset</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSW with multiple tx</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 solution (S)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Machine learning (ML)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data spliting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Binary outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Supervised learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unsupervised learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHIS Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Replicate Results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (L)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML in causal inference</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (C)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Motivation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SuperLearner</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Binary Outcomes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous Outcomes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparing results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (C)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (C)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./nonbinary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Complex outcomes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (N)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polytomous and ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary2a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival analysis: NHANES</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Poisson</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinaryF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (N)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinaryQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (N)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Longitudinal data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (T)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed effects models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GEE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinalF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (T)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinalQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (T)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./mediation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mediation analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (I)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Baron and Kenny</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Justification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mediation Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediationF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (I)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediationQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (I)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Writing tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git and GitHub</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Configure Git in RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Create and Clone a Git Repository</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1c.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Updating Repository Contents from RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Formatting Tools</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#load-required-packages" id="toc-load-required-packages" class="nav-link active" data-scroll-target="#load-required-packages">Load Required Packages</a></li>
  <li><a href="#problem-1-import-and-translate-single-year-data" id="toc-problem-1-import-and-translate-single-year-data" class="nav-link" data-scroll-target="#problem-1-import-and-translate-single-year-data">Problem 1: Import and Translate Single-Year Data</a></li>
  <li><a href="#problem-2-add-body-measures-data-for-a-single-year" id="toc-problem-2-add-body-measures-data-for-a-single-year" class="nav-link" data-scroll-target="#problem-2-add-body-measures-data-for-a-single-year">Problem 2: Add Body Measures Data for a Single Year</a></li>
  <li><a href="#problem-3-import-and-merge-multi-cycle-data-with-translation" id="toc-problem-3-import-and-merge-multi-cycle-data-with-translation" class="nav-link" data-scroll-target="#problem-3-import-and-merge-multi-cycle-data-with-translation">Problem 3: Import and Merge Multi-Cycle Data with Translation</a></li>
  <li><a href="#problem-4-data-cleaning-and-filtering" id="toc-problem-4-data-cleaning-and-filtering" class="nav-link" data-scroll-target="#problem-4-data-cleaning-and-filtering">Problem 4: Data Cleaning and Filtering</a></li>
  <li><a href="#problem-5-create-final-analytic-dataset" id="toc-problem-5-create-final-analytic-dataset" class="nav-link" data-scroll-target="#problem-5-create-final-analytic-dataset">Problem 5: Create Final Analytic Dataset</a></li>
  <li><a href="#problem-6-investigating-missing-data" id="toc-problem-6-investigating-missing-data" class="nav-link" data-scroll-target="#problem-6-investigating-missing-data">Problem 6: Investigating Missing Data</a></li>
  <li><a href="#problem-7-investigating-missing-data" id="toc-problem-7-investigating-missing-data" class="nav-link" data-scroll-target="#problem-7-investigating-missing-data">Problem 7: Investigating Missing Data</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./accessing.html">Accessing data</a></li><li class="breadcrumb-item"><a href="./accessingE3vibe.html">Exercise 3 (A) Vibe</a></li></ol></nav><div class="quarto-title">
<h1 class="title">Exercise 3 (A) Vibe</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>In this tutorial, we will be going through the following exercise <a href="https://ehsanx.github.io/EpiMethods/accessingE3.html">(found here)</a>.</p>
<p>We will go through the exercise problems and evaluate how well Gemini performs on each task. These tasks include importing and merging data, cleaning and filtering observations, and once the final dataset is completed, examining missing data, and displaying the data in a table.</p>
<p>In this part of the tutorial, we will go through the first set of tasks, which includes loading, subsetting the data according to eligibility criteria and necessary variables, creating an analytic dataset, and reporting the number of columns and variable names in this dataset. These tutorials were completed in RStudio <span class="citation" data-cites="rstudio">(<a href="#ref-rstudio" role="doc-biblioref">Posit team 2023</a>)</span> using R version 4.3.2 <span class="citation" data-cites="r">(<a href="#ref-r" role="doc-biblioref">R Core Team 2023</a>)</span>, with the following packages: tidyverse <span class="citation" data-cites="tidyverse">(<a href="#ref-tidyverse" role="doc-biblioref">Wickham et al. 2019</a>)</span>, and nhanesA <span class="citation" data-cites="nhanesA">(<a href="#ref-nhanesA" role="doc-biblioref">Ale et al. 2024</a>)</span>, tableone <span class="citation" data-cites="tableone">(<a href="#ref-tableone" role="doc-biblioref">Yoshida and Bartel 2022</a>)</span>, and naniar <span class="citation" data-cites="naniar">(<a href="#ref-naniar" role="doc-biblioref">Tierney and Cook 2023</a>)</span></p>
<p>For this tutorial, I used Gemini’s free 2.5 Flash model.</p>
<hr>
<p><br></p>
<section id="load-required-packages" class="level3"><h3 class="anchored" data-anchor-id="load-required-packages">Load Required Packages</h3>
<p>First, we’ll run the following code to install and load all required packages into our R session.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"nhanesA"</span>, <span class="st">"tableone"</span>, <span class="st">"naniar"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">lapply</span>(packages, <span class="cf">function</span>(pkg) {</span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(pkg, <span class="at">character.only =</span> <span class="cn">TRUE</span>)) <span class="fu">install.packages</span>(pkg, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="fu">library</span>(pkg, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><br></p>
</section><section id="problem-1-import-and-translate-single-year-data" class="level3"><h3 class="anchored" data-anchor-id="problem-1-import-and-translate-single-year-data">Problem 1: Import and Translate Single-Year Data</h3>
<p>For this first problem, we want to download the Demographic (<code>DEMO</code>) data from the 2013-2014 NHANES cycle using the <code>nhanes</code> package. We will also want <code>translate = TRUE</code> to automatically convert coded values into text labels.</p>
<p><br><strong>Prompt Sent to Gemini:</strong></p>
<div class="callout callout-style-default callout-note callout-titled" title="User Prompt">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
User Prompt
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the <strong>Demographic (DEMO)</strong> data for the <strong>2013–2014 NHANES cycle</strong> using the <strong><code>nhanes()</code></strong> function.</p>
<ul>
<li><p>Set <code>translated = TRUE</code> so that coded values are automatically converted into text labels.</p></li>
<li><p>Print the first few rows of the variables translated (<code>SEQN</code>, <code>RIAGENDR</code>, <code>RIDAGEYR</code>, and <code>RIDRETH3</code>)</p></li>
<li><p>Provide the R code to complete this task.</p></li>
</ul>
</div>
</div>
<p><br><strong>Gemini’s response:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled" title="Gemini Response">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gemini Response
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Download the Demographic (DEMO) data for the 2013–2014 NHANES cycle</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>demo_2013_2014 <span class="ot">&lt;-</span> <span class="fu">nhanes</span>( <span class="st">'DEMO_H'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span> )</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># Select the specified variables and print the first few rows</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="fu">head</span>(demo_2013_2014[, <span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="st">"RIAGENDR"</span>, <span class="st">"RIDAGEYR"</span>, <span class="st">"RIDRETH3"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["SEQN"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["RIAGENDR"],"name":[2],"type":["fct"],"align":["left"]},{"label":["RIDAGEYR"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["RIDRETH3"],"name":[4],"type":["fct"],"align":["left"]}],"data":[{"1":"73557","2":"Male","3":"69","4":"Non-Hispanic Black","_rn_":"1"},{"1":"73558","2":"Male","3":"54","4":"Non-Hispanic White","_rn_":"2"},{"1":"73559","2":"Male","3":"72","4":"Non-Hispanic White","_rn_":"3"},{"1":"73560","2":"Male","3":"9","4":"Non-Hispanic White","_rn_":"4"},{"1":"73561","2":"Female","3":"73","4":"Non-Hispanic White","_rn_":"5"},{"1":"73562","2":"Male","3":"56","4":"Mexican American","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<p>No issues were observed. Gemini successfully downloaded and translated the 2013–2014 demographic data, and printed the head of the dataset to display the translated values.</p>
<hr>
<p><br></p>
</section><section id="problem-2-add-body-measures-data-for-a-single-year" class="level3"><h3 class="anchored" data-anchor-id="problem-2-add-body-measures-data-for-a-single-year">Problem 2: Add Body Measures Data for a Single Year</h3>
<p>Using our newly created dataset for 2013-2014 Demographic data, we want to download the Body Measures (<code>BMX</code>) data for the same 2013-2014 cycle and merge it to the demographic data from Problem 1.</p>
<p><br><strong>Prompt Sent to Gemini:</strong></p>
<div class="callout callout-style-default callout-note callout-titled" title="User Prompt">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
User Prompt
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the <strong>Body Measures (BMX)</strong> data for the <strong>2013–2014 NHANES cycle</strong>.</p>
<ul>
<li><p>Merge it with the <strong>Demographic (DEMO)</strong> data from Problem 1 using the participant identifier (<code>SEQN</code>) and the <strong><code>full_join()</code></strong> function.</p></li>
<li><p>After merging, check the dimensions of the completed dataset (<code>nhanes_1314_complete</code>). The dimensions should be <strong>10175 rows and 72 columns</strong>.</p></li>
<li><p>Provide the R code to complete this task.</p></li>
</ul>
</div>
</div>
<p><br><strong>Gemini’s response:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled" title="Gemini Response">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gemini Response
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Download the Body Measures (BMX) data for the 2013–2014 NHANES cycle</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>bmx_2013_2014 <span class="ot">&lt;-</span> <span class="fu">nhanes</span>( <span class="st">'BMX_H'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span> )</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># Merge the DEMO and BMX data frames using the participant identifier (SEQN)</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>nhanes_1314_complete <span class="ot">&lt;-</span> <span class="fu">full_join</span>(demo_2013_2014, bmx_2013_2014, <span class="at">by =</span> <span class="st">"SEQN"</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co"># Check the dimensions of the merged dataset</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="fu">dim</span>(nhanes_1314_complete)</span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; [1] 10175    72</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<p>That successfully performed a full merge. Gemini was able to load the correct Body Measures data for 2013–2014 and successfully performed a full join with the previously loaded Demographic data from the same year.</p>
<hr>
<p><br></p>
</section><section id="problem-3-import-and-merge-multi-cycle-data-with-translation" class="level3"><h3 class="anchored" data-anchor-id="problem-3-import-and-merge-multi-cycle-data-with-translation">Problem 3: Import and Merge Multi-Cycle Data with Translation</h3>
<p>Now that we have both the Demographic (<code>DEMO</code>) and Body Measures (<code>BMX</code>) data for the 2013–2014 cycle, we want to extend this by loading the same data for the 2015–2016 and 2017–2018 cycles. Once all cycles are loaded, we will combine them into a single dataframe named <code>nhanes_raw</code>.</p>
<p><br><strong>Prompt Sent to Gemini:</strong></p>
<div class="callout callout-style-default callout-note callout-titled" title="User Prompt">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
User Prompt
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the <strong>Demographic (DEMO)</strong> and <strong>Body Measures (BMX)</strong> data for the three NHANES cycles — <strong>2013–2014 (H)</strong>, <strong>2015–2016 (I)</strong>, and <strong>2017–2018 (J)</strong> — using <code>translated = TRUE</code> for all downloads.</p>
<ul>
<li><p>For each cycle, merge the DEMO and BMX datasets by the participant identifier (<code>SEQN</code>) using the <strong><code>full_join()</code></strong> function.</p></li>
<li><p>Combine the merged datasets from all three cycles into a single dataframe named <strong><code>nhanes_raw</code></strong>.</p></li>
<li><p>After combining, check the dimensions of <code>nhanes_raw</code>. The dimensions should be <strong>29400 rows and 78 columns</strong>.</p></li>
<li><p>Provide the R code to complete this task.</p></li>
</ul>
</div>
</div>
<p><br><strong>Gemini’s response:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled" title="Gemini Response">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gemini Response
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># --- Cycle 2013-2014 (H) ---</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># Download DEMO and BMX data</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>demo_H <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DEMO_H'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>bmx_H <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BMX_H'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># Merge the datasets for this cycle</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>nhanes_H <span class="ot">&lt;-</span> <span class="fu">full_join</span>(demo_H, bmx_H, <span class="at">by =</span> <span class="st">"SEQN"</span>)</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># --- Cycle 2015-2016 (I) ---</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co"># Download DEMO and BMX data</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>demo_I <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DEMO_I'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-11"><a href="#cb4-11"></a>bmx_I <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BMX_I'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co"># Merge the datasets for this cycle</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>nhanes_I <span class="ot">&lt;-</span> <span class="fu">full_join</span>(demo_I, bmx_I, <span class="at">by =</span> <span class="st">"SEQN"</span>)</span>
<span id="cb4-14"><a href="#cb4-14"></a></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co"># --- Cycle 2017-2018 (J) ---</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co"># Download DEMO and BMX data</span></span>
<span id="cb4-17"><a href="#cb4-17"></a>demo_J <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DEMO_J'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-18"><a href="#cb4-18"></a>bmx_J <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BMX_J'</span>, <span class="at">translated =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co"># Merge the datasets for this cycle</span></span>
<span id="cb4-20"><a href="#cb4-20"></a>nhanes_J <span class="ot">&lt;-</span> <span class="fu">full_join</span>(demo_J, bmx_J, <span class="at">by =</span> <span class="st">"SEQN"</span>)</span>
<span id="cb4-21"><a href="#cb4-21"></a></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co"># --- Combine all three cycles ---</span></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="co"># Use bind_rows to combine the merged datasets into a single dataframe</span></span>
<span id="cb4-24"><a href="#cb4-24"></a>nhanes_raw <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(nhanes_H, nhanes_I, nhanes_J)</span>
<span id="cb4-25"><a href="#cb4-25"></a></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="co"># Check the dimensions of the final combined dataset</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="fu">dim</span>(nhanes_raw)</span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="co">#&gt; [1] 29400    78</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<p>Based on the dimensions of Gemini’s final combined dataset, the code worked as intended. Gemini successfully loaded and translated the data for each specified cycle and combined them into a single dataframe.</p>
<hr>
<p><br></p>
</section><section id="problem-4-data-cleaning-and-filtering" class="level3"><h3 class="anchored" data-anchor-id="problem-4-data-cleaning-and-filtering">Problem 4: Data Cleaning and Filtering</h3>
<p>We now have a dataframe containing demographic and body measure data for the 2013–2014, 2015–2016, and 2017–2018 NHANES cycles. Using this combined dataset (<code>nhanes_raw</code>), we will begin the process of cleaning and preparing the data for analysis. This includes filtering the population to include only adults and creating new variables based on existing columns.</p>
<p><strong>The steps include:</strong></p>
<ul>
<li><p>Filtering for adults aged 20 years or older</p></li>
<li><p>Renaming key variables for clarity (<code>RIAGENDR</code> to <code>Sex</code>, <code>RIDAGEYR</code> to <code>Age</code>, <code>RIDRETH3</code> to <code>RaceEthnicity</code>, and <code>BMXBMI</code> to <code>BMI</code>)</p></li>
<li><p>Grouping race/ethnicity by combining “Mexican American” and “Other Hispanic” into a single “Hispanic” category</p></li>
<li><p>Creating an <code>AgeGroup</code> variable with categories: “20–39”, “40–59”, and “60+”</p></li>
<li><p>Creating a <code>BMICat</code> variable to classify BMI as “Underweight”, “Normal weight”, “Overweight”, or “Obese”</p></li>
</ul>
<p><br><strong>Prompt Sent to Gemini:</strong></p>
<div class="callout callout-style-default callout-note callout-titled" title="User Prompt">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
User Prompt
</div>
</div>
<div class="callout-body-container callout-body">
<p>Using the <strong><code>nhanes_raw</code></strong> dataset, create a cleaned dataset suitable for analysis:</p>
<ul>
<li><p><strong>Filter for adults:</strong> keep only participants aged <strong>20 years or older</strong>.</p></li>
<li>
<p><strong>Rename variables:</strong></p>
<ul>
<li><p><code>RIAGENDR</code> → <code>Sex</code></p></li>
<li><p><code>RIDAGEYR</code> → <code>Age</code></p></li>
<li><p><code>RIDRETH3</code> → <code>RaceEthnicity</code></p></li>
<li><p><code>BMXBMI</code> → <code>BMI</code></p></li>
</ul>
</li>
<li>
<p><strong>Group Race/Ethnicity:</strong></p>
<ul>
<li><p>Combine <code>"Mexican American"</code> and <code>"Other Hispanic"</code> into <code>"Hispanic"</code></p></li>
<li><p>Keep <code>"Non-Hispanic White"</code>, <code>"Non-Hispanic Black"</code>, and <code>"Non-Hispanic Asian"</code> as they are</p></li>
<li><p>Recode all other categories (including NA) as <code>"Other"</code></p></li>
</ul>
</li>
<li><p><strong>Create <code>AgeGroup</code>:</strong> categorize <code>Age</code> into <code>"20-39"</code>, <code>"40-59"</code>, and <code>"60+"</code>.</p></li>
<li><p><strong>Create <code>BMICat</code>:</strong> categorize <code>BMI</code> into <code>"Underweight"</code>, <code>"Normal weight"</code>, <code>"Overweight"</code>, and <code>"Obese"</code>.</p></li>
</ul>
<p>Use <strong>tidyverse</strong> syntax and provide the <strong>R code</strong> to complete this task.</p>
</div>
</div>
<p><br><strong>Gemini’s response:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled" title="Gemini Response">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gemini Response
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Create the cleaned dataset suitable for analysis</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>nhanes_adult <span class="ot">&lt;-</span> nhanes_raw <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="co"># Filter for adults aged 20 years or older</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">filter</span>(RIDAGEYR <span class="sc">&gt;=</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="co"># Rename variables for clarity</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">rename</span>(</span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="at">Sex =</span> RIAGENDR,</span>
<span id="cb5-8"><a href="#cb5-8"></a>    <span class="at">Age =</span> RIDAGEYR,</span>
<span id="cb5-9"><a href="#cb5-9"></a>    <span class="at">RaceEthnicity =</span> RIDRETH3,</span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="at">BMI =</span> BMXBMI</span>
<span id="cb5-11"><a href="#cb5-11"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>  <span class="co"># Group Mexican American and Other Hispanic into a single Hispanic category</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>  <span class="co"># and recode all other categories (including NA) as "Other"</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>  <span class="fu">mutate</span>(<span class="at">RaceEthnicity =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-15"><a href="#cb5-15"></a>    RaceEthnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mexican American"</span>, <span class="st">"Other Hispanic"</span>) <span class="sc">~</span> <span class="st">"Hispanic"</span>,</span>
<span id="cb5-16"><a href="#cb5-16"></a>    RaceEthnicity <span class="sc">==</span> <span class="st">"Non-Hispanic White"</span> <span class="sc">~</span> <span class="st">"Non-Hispanic White"</span>,</span>
<span id="cb5-17"><a href="#cb5-17"></a>    RaceEthnicity <span class="sc">==</span> <span class="st">"Non-Hispanic Black"</span> <span class="sc">~</span> <span class="st">"Non-Hispanic Black"</span>,</span>
<span id="cb5-18"><a href="#cb5-18"></a>    RaceEthnicity <span class="sc">==</span> <span class="st">"Non-Hispanic Asian"</span> <span class="sc">~</span> <span class="st">"Non-Hispanic Asian"</span>,</span>
<span id="cb5-19"><a href="#cb5-19"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb5-21"><a href="#cb5-21"></a>  <span class="co"># Create AgeGroup categories</span></span>
<span id="cb5-22"><a href="#cb5-22"></a>  <span class="fu">mutate</span>(<span class="at">AgeGroup =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-23"><a href="#cb5-23"></a>    Age <span class="sc">&gt;=</span> <span class="dv">60</span> <span class="sc">~</span> <span class="st">"60+"</span>,</span>
<span id="cb5-24"><a href="#cb5-24"></a>    Age <span class="sc">&gt;=</span> <span class="dv">40</span> <span class="sc">~</span> <span class="st">"40-59"</span>,</span>
<span id="cb5-25"><a href="#cb5-25"></a>    Age <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"20-39"</span></span>
<span id="cb5-26"><a href="#cb5-26"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>  <span class="co"># Create BMI categories</span></span>
<span id="cb5-28"><a href="#cb5-28"></a>  <span class="fu">mutate</span>(<span class="at">BMICat =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-29"><a href="#cb5-29"></a>    BMI <span class="sc">&lt;</span> <span class="fl">18.5</span> <span class="sc">~</span> <span class="st">"Underweight"</span>,</span>
<span id="cb5-30"><a href="#cb5-30"></a>    BMI <span class="sc">&gt;=</span> <span class="fl">18.5</span> <span class="sc">&amp;</span> BMI <span class="sc">&lt;</span> <span class="dv">25</span> <span class="sc">~</span> <span class="st">"Normal weight"</span>,</span>
<span id="cb5-31"><a href="#cb5-31"></a>    BMI <span class="sc">&gt;=</span> <span class="dv">25</span> <span class="sc">&amp;</span> BMI <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Overweight"</span>,</span>
<span id="cb5-32"><a href="#cb5-32"></a>    BMI <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Obese"</span></span>
<span id="cb5-33"><a href="#cb5-33"></a>  ))</span>
<span id="cb5-34"><a href="#cb5-34"></a></span>
<span id="cb5-35"><a href="#cb5-35"></a><span class="fu">str</span>(nhanes_adult[, <span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="st">"Sex"</span>, <span class="st">"Age"</span>, <span class="st">"AgeGroup"</span>, <span class="st">"RaceEthnicity"</span>, <span class="st">"BMI"</span>)])</span>
<span id="cb5-36"><a href="#cb5-36"></a><span class="co">#&gt; 'data.frame':    17057 obs. of  6 variables:</span></span>
<span id="cb5-37"><a href="#cb5-37"></a><span class="co">#&gt;  $ SEQN         : num  73557 73558 73559 73561 73562 ...</span></span>
<span id="cb5-38"><a href="#cb5-38"></a><span class="co">#&gt;  $ Sex          : Factor w/ 2 levels "Male","Female": 1 1 1 2 1 2 1 2 1 2 ...</span></span>
<span id="cb5-39"><a href="#cb5-39"></a><span class="co">#&gt;  $ Age          : num  69 54 72 73 56 61 42 56 65 26 ...</span></span>
<span id="cb5-40"><a href="#cb5-40"></a><span class="co">#&gt;  $ AgeGroup     : chr  "60+" "40-59" "60+" "60+" ...</span></span>
<span id="cb5-41"><a href="#cb5-41"></a><span class="co">#&gt;  $ RaceEthnicity: chr  "Non-Hispanic Black" "Non-Hispanic White" "Non-Hispanic White" "Non-Hispanic White" ...</span></span>
<span id="cb5-42"><a href="#cb5-42"></a><span class="co">#&gt;  $ BMI          : num  26.7 28.6 28.9 19.7 41.7 35.7 NA 26.5 22 20.3 ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<p>Everything looks correct. Gemini successfully filtered the dataset, renamed the variables, and created the new grouped and categorized variables as expected.</p>
<hr>
<p><br></p>
</section><section id="problem-5-create-final-analytic-dataset" class="level3"><h3 class="anchored" data-anchor-id="problem-5-create-final-analytic-dataset">Problem 5: Create Final Analytic Dataset</h3>
<p>Now that the data has been correctly cleaned and filtered, the next step is to create a final, analysis-ready dataset named nhanes_analysis that includes only the key variables needed for analysis.</p>
<p><br><strong>Prompt Sent to Gemini:</strong></p>
<div class="callout callout-style-default callout-note callout-titled" title="User Prompt">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
User Prompt
</div>
</div>
<div class="callout-body-container callout-body">
<p>From the cleaned dataset, create a final <strong>analysis-ready dataset</strong> named <strong><code>nhanes_analysis</code></strong>.</p>
<ul>
<li>
<p>Keep <strong>only the key variables</strong> needed for analysis:</p>
<ul>
<li><p><code>SEQN</code></p></li>
<li><p><code>Sex</code></p></li>
<li><p><code>Age</code></p></li>
<li><p><code>AgeGroup</code></p></li>
<li><p><code>RaceEthnicity</code></p></li>
<li><p><code>BMI</code></p></li>
<li><p><code>BMICat</code></p></li>
</ul>
</li>
<li><p>Ensure the dataset is tidy, with variables properly labeled and ready for statistical analysis.</p></li>
<li><p>Provide the <strong>R code</strong> to complete this task.</p></li>
</ul>
</div>
</div>
<p><br><strong>Gemini’s response:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled" title="Gemini Response">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gemini Response
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Create the final analysis-ready dataset by selecting key variables</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>nhanes_analysis <span class="ot">&lt;-</span> nhanes_adult <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">select</span>(</span>
<span id="cb6-4"><a href="#cb6-4"></a>    SEQN,</span>
<span id="cb6-5"><a href="#cb6-5"></a>    Sex,</span>
<span id="cb6-6"><a href="#cb6-6"></a>    Age,</span>
<span id="cb6-7"><a href="#cb6-7"></a>    AgeGroup,</span>
<span id="cb6-8"><a href="#cb6-8"></a>    RaceEthnicity,</span>
<span id="cb6-9"><a href="#cb6-9"></a>    BMI,</span>
<span id="cb6-10"><a href="#cb6-10"></a>    BMICat</span>
<span id="cb6-11"><a href="#cb6-11"></a>  )</span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co"># Print the internal structure of the final dataset</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="fu">str</span>(nhanes_analysis)</span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">#&gt; 'data.frame':    17057 obs. of  7 variables:</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">#&gt;  $ SEQN         : num  73557 73558 73559 73561 73562 ...</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">#&gt;  $ Sex          : Factor w/ 2 levels "Male","Female": 1 1 1 2 1 2 1 2 1 2 ...</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">#&gt;  $ Age          : num  69 54 72 73 56 61 42 56 65 26 ...</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">#&gt;  $ AgeGroup     : chr  "60+" "40-59" "60+" "60+" ...</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">#&gt;  $ RaceEthnicity: chr  "Non-Hispanic Black" "Non-Hispanic White" "Non-Hispanic White" "Non-Hispanic White" ...</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">#&gt;  $ BMI          : num  26.7 28.6 28.9 19.7 41.7 35.7 NA 26.5 22 20.3 ...</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="co">#&gt;  $ BMICat       : chr  "Overweight" "Overweight" "Overweight" "Normal weight" ...</span></span>
<span id="cb6-23"><a href="#cb6-23"></a></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="co"># Print the first few rows of the final dataset to verify</span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="fu">print</span>(<span class="fu">head</span>(nhanes_analysis))</span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="co">#&gt;    SEQN    Sex Age AgeGroup      RaceEthnicity  BMI        BMICat</span></span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="co">#&gt; 1 73557   Male  69      60+ Non-Hispanic Black 26.7    Overweight</span></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="co">#&gt; 2 73558   Male  54    40-59 Non-Hispanic White 28.6    Overweight</span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="co">#&gt; 3 73559   Male  72      60+ Non-Hispanic White 28.9    Overweight</span></span>
<span id="cb6-30"><a href="#cb6-30"></a><span class="co">#&gt; 4 73561 Female  73      60+ Non-Hispanic White 19.7 Normal weight</span></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="co">#&gt; 5 73562   Male  56    40-59           Hispanic 41.7         Obese</span></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="co">#&gt; 6 73564 Female  61      60+ Non-Hispanic White 35.7         Obese</span></span>
<span id="cb6-33"><a href="#cb6-33"></a></span>
<span id="cb6-34"><a href="#cb6-34"></a><span class="co"># Print the dimensions of the final dataset</span></span>
<span id="cb6-35"><a href="#cb6-35"></a><span class="fu">print</span>(<span class="fu">dim</span>(nhanes_analysis))</span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="co">#&gt; [1] 17057     7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<p>The final dataset has been successfully created. <code>nhanes_analysis</code> now contains the cleaned and formatted variables ready for analysis.</p>
<hr>
<p><br></p>
</section><section id="problem-6-investigating-missing-data" class="level3"><h3 class="anchored" data-anchor-id="problem-6-investigating-missing-data">Problem 6: Investigating Missing Data</h3>
<p>Now that our data has been properly filtered and processed, we can re-examine patterns of missingness. We’ll start by checking the number of missing values in each variable, then use the <code>naniar</code> package to visualize the extent of missing data in the <code>nhanes_analysis</code> dataset.</p>
<p><br><strong>Prompt Sent to Gemini:</strong></p>
<div class="callout callout-style-default callout-note callout-titled" title="User Prompt">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
User Prompt
</div>
</div>
<div class="callout-body-container callout-body">
<p>Now that the data has been filtered and processed, re-examine <strong>patterns of missingness</strong> in the <strong><code>nhanes_analysis</code></strong> dataset.</p>
<ul>
<li><p>Check the <strong>number of missing values</strong> in each variable.</p></li>
<li><p>Use the <strong><code>naniar</code></strong> package and <code>gg_miss_var</code> function to <strong>visualize the extent of missing data</strong> across the dataset. Title the plot “Missing Data in NHANES Adult Participants (2013-2018)”</p></li>
<li><p>Provide the <strong>R code</strong> to complete this task.</p></li>
</ul>
</div>
</div>
<p><br><strong>Gemini’s response:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled" title="Gemini Response">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gemini Response
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Check the number of missing values in each variable</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(nhanes_analysis))</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt;          SEQN           Sex           Age      AgeGroup RaceEthnicity </span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt;             0             0             0             0             0 </span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt;           BMI        BMICat </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt;           956           956</span></span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co"># Create a bar plot of missing data by variable, showing percentages</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="fu">gg_miss_var</span>(nhanes_analysis, <span class="at">show_pct =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Missing Data in NHANES Adult Participants (2013-2018)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="accessingE3vibe_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Gemini was able to perform the missingness check successfully. It provided the correct code using the <code>gg_miss_var</code> function to visualize missing values, and the output clearly showed that missingness is limited to the BMI-related variables.</p>
<hr>
<p><br></p>
</section><section id="problem-7-investigating-missing-data" class="level3"><h3 class="anchored" data-anchor-id="problem-7-investigating-missing-data">Problem 7: Investigating Missing Data</h3>
<p>Finally, with the data correctly loaded and cleaned for our adult population, we’ll create a summary table of sample characteristics, stratified by Sex, using the <code>tableone</code> package.</p>
<p><br><strong>Prompt Sent to Gemini:</strong></p>
<div class="callout callout-style-default callout-note callout-titled" title="User Prompt">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
User Prompt
</div>
</div>
<div class="callout-body-container callout-body">
<p>With the data correctly loaded and cleaned for the adult population, create a <strong>summary table of sample characteristics</strong> using the <strong><code>tableone</code></strong> package.</p>
<ul>
<li><p>Use the <strong><code>nhanes_analysis</code></strong> dataset.</p></li>
<li><p>Stratify the table by <strong>Sex</strong>.</p></li>
<li><p>Include the key variables: <code>Age</code>, <code>AgeGroup</code>, <code>RaceEthnicity</code>, <code>BMI</code>, and <code>BMICat</code>.</p></li>
<li><p>Report <strong>means and standard deviations</strong> for continuous variables, and <strong>counts and percentages</strong> for categorical variables.</p></li>
<li><p>Provide the <strong>R code</strong> to complete this task.</p></li>
</ul>
</div>
</div>
<p><br><strong>Gemini’s response:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled" title="Gemini Response">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gemini Response
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Define the variables to be included in the table</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Age"</span>, <span class="st">"AgeGroup"</span>, <span class="st">"RaceEthnicity"</span>, <span class="st">"BMI"</span>, <span class="st">"BMICat"</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co"># Define the variables to be stratified by (Sex)</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>strata <span class="ot">&lt;-</span> <span class="st">"Sex"</span></span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co"># Create the summary table</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>table_one <span class="ot">&lt;-</span> <span class="fu">CreateTableOne</span>(</span>
<span id="cb8-9"><a href="#cb8-9"></a>  <span class="at">vars =</span> vars,</span>
<span id="cb8-10"><a href="#cb8-10"></a>  <span class="at">strata =</span> strata,</span>
<span id="cb8-11"><a href="#cb8-11"></a>  <span class="at">data =</span> nhanes_analysis,</span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="at">factorVars =</span> <span class="fu">c</span>(<span class="st">"AgeGroup"</span>, <span class="st">"RaceEthnicity"</span>, <span class="st">"BMICat"</span>), <span class="at">addOverall =</span> <span class="cn">TRUE</span>, <span class="at">test =</span> <span class="cn">FALSE</span></span>
<span id="cb8-13"><a href="#cb8-13"></a>)</span>
<span id="cb8-14"><a href="#cb8-14"></a></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co"># Print the table with both mean/SD for continuous variables</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co"># and counts/percentages for categorical variables.</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="fu">print</span>(table_one, , <span class="at">smd =</span> <span class="cn">FALSE</span>, <span class="at">showAllLevels =</span> <span class="cn">TRUE</span>, <span class="at">missing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt;                    Stratified by Sex</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt;                     level              Overall       Male         </span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">#&gt;   n                                    17057          8207        </span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt;   Age (mean (SD))                      50.03 (17.74) 50.23 (17.83)</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">#&gt;   AgeGroup (%)      20-39               5594 (32.8)   2687 (32.7) </span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#&gt;                     40-59               5571 (32.7)   2612 (31.8) </span></span>
<span id="cb8-24"><a href="#cb8-24"></a><span class="co">#&gt;                     60+                 5892 (34.5)   2908 (35.4) </span></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co">#&gt;   RaceEthnicity (%) Hispanic            4290 (25.2)   1978 (24.1) </span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">#&gt;                     Non-Hispanic Asian  2168 (12.7)   1034 (12.6) </span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="co">#&gt;                     Non-Hispanic Black  3673 (21.5)   1759 (21.4) </span></span>
<span id="cb8-28"><a href="#cb8-28"></a><span class="co">#&gt;                     Non-Hispanic White  6270 (36.8)   3094 (37.7) </span></span>
<span id="cb8-29"><a href="#cb8-29"></a><span class="co">#&gt;                     Other                656 ( 3.8)    342 ( 4.2) </span></span>
<span id="cb8-30"><a href="#cb8-30"></a><span class="co">#&gt;   BMI (mean (SD))                      29.49 (7.21)  28.93 (6.33) </span></span>
<span id="cb8-31"><a href="#cb8-31"></a><span class="co">#&gt;   BMICat (%)        Normal weight       4244 (26.4)   1966 (25.5) </span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="co">#&gt;                     Obese               6442 (40.0)   2790 (36.2) </span></span>
<span id="cb8-33"><a href="#cb8-33"></a><span class="co">#&gt;                     Overweight          5168 (32.1)   2853 (37.0) </span></span>
<span id="cb8-34"><a href="#cb8-34"></a><span class="co">#&gt;                     Underweight          247 ( 1.5)    105 ( 1.4) </span></span>
<span id="cb8-35"><a href="#cb8-35"></a><span class="co">#&gt;                    Stratified by Sex</span></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="co">#&gt;                     Female        Missing</span></span>
<span id="cb8-37"><a href="#cb8-37"></a><span class="co">#&gt;   n                  8850                </span></span>
<span id="cb8-38"><a href="#cb8-38"></a><span class="co">#&gt;   Age (mean (SD))   49.86 (17.66) 0.0    </span></span>
<span id="cb8-39"><a href="#cb8-39"></a><span class="co">#&gt;   AgeGroup (%)       2907 (32.8)  0.0    </span></span>
<span id="cb8-40"><a href="#cb8-40"></a><span class="co">#&gt;                      2959 (33.4)         </span></span>
<span id="cb8-41"><a href="#cb8-41"></a><span class="co">#&gt;                      2984 (33.7)         </span></span>
<span id="cb8-42"><a href="#cb8-42"></a><span class="co">#&gt;   RaceEthnicity (%)  2312 (26.1)  0.0    </span></span>
<span id="cb8-43"><a href="#cb8-43"></a><span class="co">#&gt;                      1134 (12.8)         </span></span>
<span id="cb8-44"><a href="#cb8-44"></a><span class="co">#&gt;                      1914 (21.6)         </span></span>
<span id="cb8-45"><a href="#cb8-45"></a><span class="co">#&gt;                      3176 (35.9)         </span></span>
<span id="cb8-46"><a href="#cb8-46"></a><span class="co">#&gt;                       314 ( 3.5)         </span></span>
<span id="cb8-47"><a href="#cb8-47"></a><span class="co">#&gt;   BMI (mean (SD))   30.01 (7.90)  5.6    </span></span>
<span id="cb8-48"><a href="#cb8-48"></a><span class="co">#&gt;   BMICat (%)         2278 (27.2)  5.6    </span></span>
<span id="cb8-49"><a href="#cb8-49"></a><span class="co">#&gt;                      3652 (43.5)         </span></span>
<span id="cb8-50"><a href="#cb8-50"></a><span class="co">#&gt;                      2315 (27.6)         </span></span>
<span id="cb8-51"><a href="#cb8-51"></a><span class="co">#&gt;                       142 ( 1.7)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<p>Gemini successfully generated the summary table using the tableone package. The table is correctly stratified by Sex and includes the key variables, providing a clear overview of the sample characteristics.</p>
<hr>
<p><br></p>
</section><section id="summary" class="level3"><h3 class="anchored" data-anchor-id="summary">Summary</h3>
<p>Throughout this tutorial, Gemini consistently performed well in executing each step of the data processing workflow. It correctly loaded and translated NHANES data across multiple cycles, successfully merged datasets, and applied the necessary cleaning and filtering steps. Gemini also handled variable recoding, missingness checks, and descriptive summarization with accuracy and appropriate use of R packages.</p>
<p><br><u><strong>What Worked Well</strong></u></p>
<ul>
<li><p>Accurately loaded, translated, and merged NHANES data across multiple cycles</p></li>
<li><p>Correctly filtered for the adult population and applied exclusion criteria</p></li>
<li><p>Successfully renamed and recoded variables to match analysis specifications</p></li>
<li><p>Appropriately checked for missingness using the <code>naniar</code> package</p></li>
<li><p>Generated a clear and complete summary table using the <code>tableone</code> package, stratified by Sex</p></li>
</ul></section><section id="references" class="level2"><h2 class="anchored" data-anchor-id="references">References</h2>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-nhanesA" class="csl-entry" role="listitem">
Ale, Laha, Robert Gentleman, Teresa Filshtein Sonmez, Deepayan Sarkar, and Christopher Endres. 2024. <span>“nhanesA: Achieving Transparency and Reproducibility in NHANES Research.”</span> <em>Database</em> Apr 15. <a href="https://doi.org/10.1093/database/baae028">https://doi.org/10.1093/database/baae028</a>.
</div>
<div id="ref-rstudio" class="csl-entry" role="listitem">
Posit team. 2023. <em>RStudio: Integrated Development Environment for r</em>. Boston, MA: Posit Software, PBC. <a href="http://www.posit.co/">http://www.posit.co/</a>.
</div>
<div id="ref-r" class="csl-entry" role="listitem">
R Core Team. 2023. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-naniar" class="csl-entry" role="listitem">
Tierney, Nicholas, and Dianne Cook. 2023. <span>“Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.”</span> <em>Journal of Statistical Software</em> 105 (7): 1–31. <a href="https://doi.org/10.18637/jss.v105.i07">https://doi.org/10.18637/jss.v105.i07</a>.
</div>
<div id="ref-tidyverse" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-tableone" class="csl-entry" role="listitem">
Yoshida, Kazuki, and Alexander Bartel. 2022. <em>Tableone: Create ’Table 1’ to Describe Baseline Characteristics with or Without Propensity Score Weights</em>. <a href="https://CRAN.R-project.org/package=tableone">https://CRAN.R-project.org/package=tableone</a>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./accessingE3solution.html" class="pagination-link" aria-label="Exercise 3 Solution (A)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Exercise 3 Solution (A)</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./exploring.html" class="pagination-link" aria-label="Exploratory Data Analysis">
        <span class="nav-page-text">Exploratory Data Analysis</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>