<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>OER: Advanced Epidemiological Methods - Importing CCHS to R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./accessing3.html" rel="next">
<link href="./accessing1.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CVBPG0RQMY"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CVBPG0RQMY', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="OER: Advanced Epidemiological Methods - Importing CCHS to R">
<meta name="twitter:description" content="This section provides comprehensive instructions on how to import the Canadian Community Health Survey (CCHS) dataset from the UBC library site to the RStudio environment.">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Importing CCHS to R</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">OER: Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling6.html" class="sidebar-item-text sidebar-link">R Markdown</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">R Functions (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">Exercise (W)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Data accessing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link active">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">R Functions (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">Exercise (A)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research questions</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">Predictive question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">Predictive question-2a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link">Predictive question-2b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">Causal question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">Causal question-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">R functions (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz (Q)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">Causal roles</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">Confounding</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">Mediator</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">Collider</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">Z-bias</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">Collapsibility</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">Change-in-estimate</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">R functions (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">Quiz (R)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">Prediction ideas</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">Collinear predictors</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">Overfitting and performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">Bootstrap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">R functions (P)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">Quiz (P)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">Survey data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">CCHS: Revisiting PICOT</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link">CCHS: Assessing data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">CCHS: Bivariate analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">CCHS: Regression</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">CCHS: Performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">NHANES: Blood Pressure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">NHANES: Cholesterol</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">NHANES: Subsetting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">R functions (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">Quiz (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">Exercise (D)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">Missing data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata1.html" class="sidebar-item-text sidebar-link">Imputation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata2.html" class="sidebar-item-text sidebar-link">Imputation in NHANES</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata3.html" class="sidebar-item-text sidebar-link">Missing in outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata4.html" class="sidebar-item-text sidebar-link">Performance with NA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata5.html" class="sidebar-item-text sidebar-link">Subpopulations</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata6.html" class="sidebar-item-text sidebar-link">MCAR tests</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata7.html" class="sidebar-item-text sidebar-link">Effect modification</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">R functions (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataQ.html" class="sidebar-item-text sidebar-link">Quiz (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">Exercise (M)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">Propensity score</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore1.html" class="sidebar-item-text sidebar-link">Exact Matching (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore2.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore3.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (US)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore4.html" class="sidebar-item-text sidebar-link">PSM in BMI-diabetes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore5.html" class="sidebar-item-text sidebar-link">PSM with MI</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">R functions (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreQ.html" class="sidebar-item-text sidebar-link">Quiz (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">Exercise (S)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">Machine learning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning1.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning2.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning3.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning4.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning5.html" class="sidebar-item-text sidebar-link">Supervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6.html" class="sidebar-item-text sidebar-link">Unsupervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">R functions (L)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">ML in causal inference</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">R functions (C)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">Writing Tools</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1.html" class="sidebar-item-text sidebar-link">Collaborative Writing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting2.html" class="sidebar-item-text sidebar-link">Formatting Tools</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#downloading-cchs-data-from-ubc" id="toc-downloading-cchs-data-from-ubc" class="nav-link active" data-scroll-target="#downloading-cchs-data-from-ubc">Downloading CCHS data from UBC</a></li>
  <li><a href="#reading-and-formatting-the-data" id="toc-reading-and-formatting-the-data" class="nav-link" data-scroll-target="#reading-and-formatting-the-data">Reading and Formatting the data</a></li>
  <li><a href="#processing-data-in-r" id="toc-processing-data-in-r" class="nav-link" data-scroll-target="#processing-data-in-r">Processing data in R</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Importing CCHS to R</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="cell" data-hash="accessing2_cache/html/setup_9acd6eb48c53aab73d58cb69f204b45a">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Load required packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(knitr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This section provides comprehensive instructions on how to import the Canadian Community Health Survey (CCHS) dataset from the UBC library site to the RStudio environment. The process starts with downloading the CCHS data from the UBC library site and includes step-by-step visual guides for each stage. Three primary options are provided to process and format the data:</p>
<ol type="1">
<li>Using the commercial software SAS.</li>
<li>Utilizing the free software PSPP, an alternative to SPSS.</li>
<li>Directly processing the data in R.</li>
</ol>
<p>For each option, users are guided on how to download, install, access, read, save, and check the dataset. The objective is to help users acquire, visualize, and manipulate the CCHS dataset seamlessly using various software applications.</p>
<section id="downloading-cchs-data-from-ubc" class="level3"><h3 class="anchored" data-anchor-id="downloading-cchs-data-from-ubc">Downloading CCHS data from UBC</h3>
<ul>
<li>
<strong>Step 1</strong>: Go to <a href="http://dvn.library.ubc.ca">dvn.library.ubc.ca</a>, and press ‘log-in’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX1.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Select ‘UBC’ from the dropdown menu</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX2.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Enter your CWL or UBC library authentication information</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus3.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 4</strong>: Once you log-in, search the term ‘cchs’ in the search-box</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX4.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: For illustrative purposes, let us work with the Cycle 3.1 of the CCHS dataset from the list of results. In that case, type ‘cchs 3.1’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX5.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 6</strong>: CCHS Cycle 3.1 information</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus6X.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 7</strong>: Choose the ‘Data: CD’ from the menu</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX7.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 8</strong>: Download the entire data (about 159 MB) as a zip file</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX8.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 9</strong>: Accept the ‘terms of use’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX9.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 10</strong>: Select a directory to download the zip file. The path of the download directory is important (we need to use this <code>path</code> exactly later). For example, below we are in <code>"C:\CCHS\"</code> folder, but we will create a “Data” folder there, so that the download path is <code>"C:\CCHS\Data\"</code>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10b.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10c.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10d.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 11</strong>: Extract the zip file</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus11.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 12</strong>: Be patient with the extraction</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus12.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 13</strong>: Once extraction is complete, take a look at the folders inside. You will see that there is a folder named ‘SAS_SPSS’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus13.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="reading-and-formatting-the-data" class="level3"><h3 class="anchored" data-anchor-id="reading-and-formatting-the-data">Reading and Formatting the data</h3>
<section id="option-1-processing-data-using-sas" class="level4"><h4 class="anchored" data-anchor-id="option-1-processing-data-using-sas">Option 1: Processing data using SAS</h4>
<p>SAS is a commercial software. You may be able to get access to educational version. In case you don’t have access to it, later we outline how to use free packages to read these datasets.</p>
<ul>
<li>
<strong>Step 1</strong>: Inside that ‘SAS_SPSS’ folder, find the file <em>hs_pfe.sas</em>. It is a long file, but we are going to work on part of it. First thing we want to do it to change all the directory names to where you have unzipped the downloaded file (for example, here the zip file was extracted to C:/CCHS/Data/cchs_cycle3-1CD/). We only need the first part of the code (as shown below; only related to data ‘hs’). Delete the rest of the codes for now. The resulting code should like like this:</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>%include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_pfe.sas"</span>;</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>data hs;</span>
<span id="cb2-4"><a href="#cb2-4"></a>        %let datafid<span class="ot">=</span><span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\Data\hs.txt"</span>;</span>
<span id="cb2-5"><a href="#cb2-5"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_i.sas"</span>;</span>
<span id="cb2-6"><a href="#cb2-6"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_fmt.sas"</span>;</span>
<span id="cb2-7"><a href="#cb2-7"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_lbe.sas"</span>;</span>
<span id="cb2-8"><a href="#cb2-8"></a>run;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Once the modifications are done, submit the codes in SAS. Note that, the name of the data is ‘hs’.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus14.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Once you submit the code, you can check the log window in SAS to see how the code submission went. It should tell you how many observations and variables were read.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus15.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: If you one to view the dataset, you can go to ‘Explorer’ window within SAS.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus16.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 4</strong>: Generally, if you haven’t specified where to load the files, SAS will by default save the data into a library called ‘Work’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus17.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: Open that folder, and you will be able to find the dataset ‘Hs’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus18.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 6</strong>: Right click on the data, and click ‘open’ to view the datafile.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus19.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 7</strong>: To export the data into a CSV format data (so that we can read this data into other software packages), ckick ‘Menu’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus20.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 8</strong>: then press ‘Export Data’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus21.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 9</strong>: choose the library and the data.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus22.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 10</strong>: choose the format in which you may want to save the existing data.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus23.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 11</strong>: also specify where you want to save the csv file and the name of that file (e.g., cchs3.csv).</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus24.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 12</strong>: go to that directory to see the file cchs3.csv</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus25.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 13</strong>: If you want to save the file in SAS format, you can do so by writing the following sas code into the ‘Editor’ window. Here we are saving the data Hs within the Work library in to a data called cchs3 within the SASLib library. Note that, the directory name has to be where you want to save the output file.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>LIBNAME SASLib <span class="st">"C:\CCHS\Data"</span>;</span>
<span id="cb3-2"><a href="#cb3-2"></a>DATA SASLib.cchs3;</span>
<span id="cb3-3"><a href="#cb3-3"></a>    set Work.Hs;</span>
<span id="cb3-4"><a href="#cb3-4"></a>run;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Submit these codes into SAS:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus26.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 13</strong>: go to that directory to see the file cchs3.sas7dbat</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus27.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="option-2-processing-data-using-pspp-free" class="level4"><h4 class="anchored" data-anchor-id="option-2-processing-data-using-pspp-free">Option 2: Processing data using PSPP (Free)</h4>
<p>PSPP is a free package; alternative to commercial software SPSS. We can use the same SPSS codes to read the datafile into PSPP, and save.</p>
<ul>
<li>
<strong>Step 1</strong>: Get the free PSPP software from the website: <a href="http://www.gnu.org/software/pspp/">www.gnu.org/software/pspp/</a>
</li>
</ul>
<p>PSPP is available for GNU/Hurd, GNU/Linux, Darwin (Mac OS X), OpenBSD, NetBSD, FreeBSD, and Windows</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus30.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>For windows, download appropriate version.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppdownload0.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Download the file</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppdownload.png" class="img-fluid" style="width:25.0%"></p>
</div>
</div>
<p>Install</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppinstall.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppinstall2.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppinstall3.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Click the icon shorcut after installing</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppicon.png" class="img-fluid" style="width:25.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Open PSPP</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus31.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Go to ‘file’ menu and click ‘open’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus32.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 4</strong>: Specify the <em>readfile.sps</em> file from the ‘SAS_SPSS’ folder.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus33.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>You will see the following file:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX33.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: Similar to before, change the directories as appropriate. Get rid of the extra lines of codes. Resulting codes are as follows (you can copy and replace the code in the file with the following codes):</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>file handle infile<span class="sc">/</span>name <span class="ot">=</span> <span class="st">'C:\CCHS\Data\cchs_cycle3-1CD\DATA\hs.txt'</span>.</span>
<span id="cb4-2"><a href="#cb4-2"></a>data list file <span class="ot">=</span> infile notable<span class="sc">/</span>.</span>
<span id="cb4-3"><a href="#cb4-3"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_i.sps"</span>.</span>
<span id="cb4-4"><a href="#cb4-4"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsvale.sps"</span>.</span>
<span id="cb4-5"><a href="#cb4-5"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsvare.sps"</span>.</span>
<span id="cb4-6"><a href="#cb4-6"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsmiss.sps"</span>.</span>
<span id="cb4-7"><a href="#cb4-7"></a>execute.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX34.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>For Mac users, it should be as follows (e.g., <code>username</code> should be your user name, if you are saving under the path <code>"/Users/username/CCHS/Data/"</code>):</p>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>file handle infile<span class="sc">/</span>name <span class="ot">=</span><span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/Data/hs.txt"</span>.</span>
<span id="cb5-2"><a href="#cb5-2"></a>data list file <span class="ot">=</span> infile notable<span class="sc">/</span>.</span>
<span id="cb5-3"><a href="#cb5-3"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hs_i.sps"</span>.</span>
<span id="cb5-4"><a href="#cb5-4"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsvale.sps"</span>.</span>
<span id="cb5-5"><a href="#cb5-5"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsvare.sps"</span>.</span>
<span id="cb5-6"><a href="#cb5-6"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsmiss.sps"</span>.</span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a>execute.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>
<strong>Step 6</strong>: Run the codes.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus35.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 7</strong>: This is a large data, and will take some time to load the data into the PSPP data editor. <strong>Be patient</strong>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/waitX.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Once loading is complete, it will show the ‘output’ and ‘data view’.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusNew.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus36.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Note that, you will get error message, if your files were not in the correct path. In our example, the path was <code>"C:\CCHS\Data\"</code> for the zip file content (see the previous steps).</p>
<ul>
<li>
<strong>Step 7</strong>: You can also check the ‘variable view’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus37.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 8</strong>: Save the data by clicking ‘File’ and then ‘save as …’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus38.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 9</strong>: Specify the name of the datafile and the location / folder to save the data file.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus39.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 10</strong>: See the SAV file saved in the directory.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus40.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 11</strong>: To save CSV format data, use the following syntax.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>SAVE TRANSLATE</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="sc">/</span>OUTFILE<span class="ot">=</span><span class="st">"C:/CCHS/Data/cchs3b.csv"</span>  </span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="sc">/</span>TYPE<span class="ot">=</span>CSV</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="sc">/</span>FIELDNAMES      </span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="sc">/</span>CELLS<span class="ot">=</span>VALUES.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Note that, for categorical data, you can either save values or labels. For our purpose, we prefer values, and hence saved with values here.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus41.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 12</strong>: See the CSV file saved in the directory extracted from PSPP.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus42.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="option-3-processing-data-using-spss" class="level4"><h4 class="anchored" data-anchor-id="option-3-processing-data-using-spss">Option 3: Processing data using SPSS</h4>
<p>Log into <a href="https://ubc.onthehub.com">ubc.onthehub.com</a> to download SPSS. With your CWL account, UBC students should be able to download it. UBC <a href="https://it.ubc.ca/services/desktop-print-services/software-licensing/spss">IT website for SPSS</a> says:</p>
<p><code>The SPSS software license with UBC specifies that SPSS must only be used by UBC Faculty, Students, and Research Staff and only for Teaching and non-commercial Research purposes related to UBC.</code></p>
<p>Both network (for UBC owened devices) or standalone / home versions (for non-UBC owened devices) should be available. Once downloaded, same process of importing CCHS data in PSPP can also be applied on SPSS (same syntax files should work). Let me know if that is not the case.</p>
</section></section><section id="processing-data-in-r" class="level3"><h3 class="anchored" data-anchor-id="processing-data-in-r">Processing data in R</h3>
<section id="download-software" class="level4"><h4 class="anchored" data-anchor-id="download-software">Download software</h4>
<ul>
<li>
<strong>Step 1</strong>: Download either ‘R’ from CRAN <a href="https://www.r-project.org/">www.r-project.org</a> or ‘R open’ from Microsoft <a href="https://mran.microsoft.com/open">mran.microsoft.com/open</a>
</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R03.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R01.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Download RStudio from <a href="https://www.rstudio.com/">www.rstudio.com/</a>
</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R02.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Open RStudio</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R04.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="import-export-and-load-data-into-r" class="level4"><h4 class="anchored" data-anchor-id="import-export-and-load-data-into-r">Import, export and load data into R</h4>
<ul>
<li>
<strong>Step 1</strong>: Set working directory</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">setwd</span>(<span class="st">"C:/CCHS/Data/"</span>) <span class="co"># or something appropriate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>
<strong>Step 2</strong>: Read the dataset created from PSPP with cell values. We can also do a small check to see if the cell values are visible. For example, we choose a variable ‘CCCE_05A’, and tabulate it.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>Hs <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"cchs3b.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">table</span>(Hs<span class="sc">$</span>CCCE_05A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus46.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Save the RData file from R into a folder <code>SurveyData</code>:</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">save</span>(Hs, <span class="at">file =</span> <span class="st">"SurveyData/cchs3.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>
<strong>Step 4</strong>: See the RData file saved in the directory extracted from R.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus43.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: Close R / RStudio and restart it. Environment window within RStudio should be empty.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus44.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 6</strong>: Load the saved RData into R. Environment window within RStudio should have ‘Hs’ dataset.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">load</span>(<span class="st">"SurveyData/cchs3.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus45.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>


<!-- -->

</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./accessing1.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Survey data sources</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./accessing3.html" class="pagination-link">
        <span class="nav-page-text">Importing NHANES to R</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb11" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">## Importing CCHS to R {.unnumbered}</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="in">```{r setup, warning=FALSE, message=FALSE, cache=TRUE}</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co"># Load required packages</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="fu">library</span>(knitr)</span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="in">```</span></span>
<span id="cb11-7"><a href="#cb11-7"></a></span>
<span id="cb11-8"><a href="#cb11-8"></a>This section provides comprehensive instructions on how to import the Canadian Community Health Survey (CCHS) dataset from the UBC library site to the RStudio environment. The process starts with downloading the CCHS data from the UBC library site and includes step-by-step visual guides for each stage. Three primary options are provided to process and format the data:</span>
<span id="cb11-9"><a href="#cb11-9"></a></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="ss">1. </span>Using the commercial software SAS.</span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="ss">2. </span>Utilizing the free software PSPP, an alternative to SPSS.</span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="ss">3. </span>Directly processing the data in R.</span>
<span id="cb11-13"><a href="#cb11-13"></a></span>
<span id="cb11-14"><a href="#cb11-14"></a>For each option, users are guided on how to download, install, access, read, save, and check the dataset. The objective is to help users acquire, visualize, and manipulate the CCHS dataset seamlessly using various software applications.</span>
<span id="cb11-15"><a href="#cb11-15"></a></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="fu">### Downloading CCHS data from UBC</span></span>
<span id="cb11-17"><a href="#cb11-17"></a></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="ss">-   </span>**Step 1**: Go to <span class="co">[</span><span class="ot">dvn.library.ubc.ca</span><span class="co">](http://dvn.library.ubc.ca)</span>, and press 'log-in'</span>
<span id="cb11-19"><a href="#cb11-19"></a></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="in">```{r ubc1, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-21"><a href="#cb11-21"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX1.png"</span>)</span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="in">```</span></span>
<span id="cb11-23"><a href="#cb11-23"></a></span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="ss">-   </span>**Step 2**: Select 'UBC' from the dropdown menu</span>
<span id="cb11-25"><a href="#cb11-25"></a></span>
<span id="cb11-26"><a href="#cb11-26"></a><span class="in">```{r ubc2, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-27"><a href="#cb11-27"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX2.png"</span>)</span>
<span id="cb11-28"><a href="#cb11-28"></a><span class="in">```</span></span>
<span id="cb11-29"><a href="#cb11-29"></a></span>
<span id="cb11-30"><a href="#cb11-30"></a><span class="ss">-   </span>**Step 3**: Enter your CWL or UBC library authentication information</span>
<span id="cb11-31"><a href="#cb11-31"></a></span>
<span id="cb11-32"><a href="#cb11-32"></a><span class="in">```{r ubc3, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-33"><a href="#cb11-33"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus3.png"</span>)</span>
<span id="cb11-34"><a href="#cb11-34"></a><span class="in">```</span></span>
<span id="cb11-35"><a href="#cb11-35"></a></span>
<span id="cb11-36"><a href="#cb11-36"></a><span class="ss">-   </span>**Step 4**: Once you log-in, search the term 'cchs' in the search-box</span>
<span id="cb11-37"><a href="#cb11-37"></a></span>
<span id="cb11-38"><a href="#cb11-38"></a><span class="in">```{r ubc4, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-39"><a href="#cb11-39"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX4.png"</span>)</span>
<span id="cb11-40"><a href="#cb11-40"></a><span class="in">```</span></span>
<span id="cb11-41"><a href="#cb11-41"></a></span>
<span id="cb11-42"><a href="#cb11-42"></a><span class="ss">-   </span>**Step 5**: For illustrative purposes, let us work with the Cycle 3.1 of the CCHS dataset from the list of results. In that case, type 'cchs 3.1'</span>
<span id="cb11-43"><a href="#cb11-43"></a></span>
<span id="cb11-44"><a href="#cb11-44"></a><span class="in">```{r ubc5, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-45"><a href="#cb11-45"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX5.png"</span>)</span>
<span id="cb11-46"><a href="#cb11-46"></a><span class="in">```</span></span>
<span id="cb11-47"><a href="#cb11-47"></a></span>
<span id="cb11-48"><a href="#cb11-48"></a><span class="ss">-   </span>**Step 6**: CCHS Cycle 3.1 information</span>
<span id="cb11-49"><a href="#cb11-49"></a></span>
<span id="cb11-50"><a href="#cb11-50"></a><span class="in">```{r ubc6, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-51"><a href="#cb11-51"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus6X.png"</span>)</span>
<span id="cb11-52"><a href="#cb11-52"></a><span class="in">```</span></span>
<span id="cb11-53"><a href="#cb11-53"></a></span>
<span id="cb11-54"><a href="#cb11-54"></a><span class="ss">-   </span>**Step 7**: Choose the 'Data: CD' from the menu</span>
<span id="cb11-55"><a href="#cb11-55"></a></span>
<span id="cb11-56"><a href="#cb11-56"></a><span class="in">```{r ubc7, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-57"><a href="#cb11-57"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX7.png"</span>)</span>
<span id="cb11-58"><a href="#cb11-58"></a><span class="in">```</span></span>
<span id="cb11-59"><a href="#cb11-59"></a></span>
<span id="cb11-60"><a href="#cb11-60"></a><span class="ss">-   </span>**Step 8**: Download the entire data (about 159 MB) as a zip file</span>
<span id="cb11-61"><a href="#cb11-61"></a></span>
<span id="cb11-62"><a href="#cb11-62"></a><span class="in">```{r ubc8, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-63"><a href="#cb11-63"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX8.png"</span>)</span>
<span id="cb11-64"><a href="#cb11-64"></a><span class="in">```</span></span>
<span id="cb11-65"><a href="#cb11-65"></a></span>
<span id="cb11-66"><a href="#cb11-66"></a><span class="ss">-   </span>**Step 9**: Accept the 'terms of use'</span>
<span id="cb11-67"><a href="#cb11-67"></a></span>
<span id="cb11-68"><a href="#cb11-68"></a><span class="in">```{r ubc9, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-69"><a href="#cb11-69"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX9.png"</span>)</span>
<span id="cb11-70"><a href="#cb11-70"></a><span class="in">```</span></span>
<span id="cb11-71"><a href="#cb11-71"></a></span>
<span id="cb11-72"><a href="#cb11-72"></a><span class="ss">-   </span>**Step 10**: Select a directory to download the zip file. The path of the download directory is important (we need to use this <span class="in">`path`</span> exactly later). For example, below we are in <span class="in">`"C:\CCHS\"`</span> folder, but we will create a "Data" folder there, so that the download path is <span class="in">`"C:\CCHS\Data\"`</span>.</span>
<span id="cb11-73"><a href="#cb11-73"></a></span>
<span id="cb11-74"><a href="#cb11-74"></a><span class="in">```{r ubc10, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-75"><a href="#cb11-75"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX10.png"</span>)</span>
<span id="cb11-76"><a href="#cb11-76"></a><span class="in">```</span></span>
<span id="cb11-77"><a href="#cb11-77"></a></span>
<span id="cb11-78"><a href="#cb11-78"></a><span class="in">```{r ubc10b, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-79"><a href="#cb11-79"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX10b.png"</span>)</span>
<span id="cb11-80"><a href="#cb11-80"></a><span class="in">```</span></span>
<span id="cb11-81"><a href="#cb11-81"></a></span>
<span id="cb11-82"><a href="#cb11-82"></a><span class="in">```{r ubc10c, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-83"><a href="#cb11-83"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX10c.png"</span>)</span>
<span id="cb11-84"><a href="#cb11-84"></a><span class="in">```</span></span>
<span id="cb11-85"><a href="#cb11-85"></a></span>
<span id="cb11-86"><a href="#cb11-86"></a><span class="in">```{r ubc10d, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-87"><a href="#cb11-87"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX10d.png"</span>)</span>
<span id="cb11-88"><a href="#cb11-88"></a><span class="in">```</span></span>
<span id="cb11-89"><a href="#cb11-89"></a></span>
<span id="cb11-90"><a href="#cb11-90"></a><span class="ss">-   </span>**Step 11**: Extract the zip file</span>
<span id="cb11-91"><a href="#cb11-91"></a></span>
<span id="cb11-92"><a href="#cb11-92"></a><span class="in">```{r ubc11, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-93"><a href="#cb11-93"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus11.png"</span>)</span>
<span id="cb11-94"><a href="#cb11-94"></a><span class="in">```</span></span>
<span id="cb11-95"><a href="#cb11-95"></a></span>
<span id="cb11-96"><a href="#cb11-96"></a><span class="ss">-   </span>**Step 12**: Be patient with the extraction</span>
<span id="cb11-97"><a href="#cb11-97"></a></span>
<span id="cb11-98"><a href="#cb11-98"></a><span class="in">```{r ubc12, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-99"><a href="#cb11-99"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus12.png"</span>)</span>
<span id="cb11-100"><a href="#cb11-100"></a><span class="in">```</span></span>
<span id="cb11-101"><a href="#cb11-101"></a></span>
<span id="cb11-102"><a href="#cb11-102"></a><span class="ss">-   </span>**Step 13**: Once extraction is complete, take a look at the folders inside. You will see that there is a folder named 'SAS_SPSS'</span>
<span id="cb11-103"><a href="#cb11-103"></a></span>
<span id="cb11-104"><a href="#cb11-104"></a><span class="in">```{r ubc13, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-105"><a href="#cb11-105"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus13.png"</span>)</span>
<span id="cb11-106"><a href="#cb11-106"></a><span class="in">```</span></span>
<span id="cb11-107"><a href="#cb11-107"></a></span>
<span id="cb11-108"><a href="#cb11-108"></a><span class="fu">### Reading and Formatting the data</span></span>
<span id="cb11-109"><a href="#cb11-109"></a></span>
<span id="cb11-110"><a href="#cb11-110"></a><span class="fu">#### Option 1: Processing data using SAS</span></span>
<span id="cb11-111"><a href="#cb11-111"></a></span>
<span id="cb11-112"><a href="#cb11-112"></a>SAS is a commercial software. You may be able to get access to educational version. In case you don't have access to it, later we outline how to use free packages to read these datasets.</span>
<span id="cb11-113"><a href="#cb11-113"></a></span>
<span id="cb11-114"><a href="#cb11-114"></a><span class="ss">-   </span>**Step 1**: Inside that 'SAS_SPSS' folder, find the file *hs_pfe.sas*. It is a long file, but we are going to work on part of it. First thing we want to do it to change all the directory names to where you have unzipped the downloaded file (for example, here the zip file was extracted to C:/CCHS/Data/cchs_cycle3-1CD/). We only need the first part of the code (as shown below; only related to data 'hs'). Delete the rest of the codes for now. The resulting code should like like this:</span>
<span id="cb11-115"><a href="#cb11-115"></a></span>
<span id="cb11-116"><a href="#cb11-116"></a><span class="in">```{r sasproc1, eval=FALSE}</span></span>
<span id="cb11-117"><a href="#cb11-117"></a>%include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_pfe.sas"</span>;</span>
<span id="cb11-118"><a href="#cb11-118"></a></span>
<span id="cb11-119"><a href="#cb11-119"></a>data hs;</span>
<span id="cb11-120"><a href="#cb11-120"></a>        %let datafid<span class="ot">=</span><span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\Data\hs.txt"</span>;</span>
<span id="cb11-121"><a href="#cb11-121"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_i.sas"</span>;</span>
<span id="cb11-122"><a href="#cb11-122"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_fmt.sas"</span>;</span>
<span id="cb11-123"><a href="#cb11-123"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_lbe.sas"</span>;</span>
<span id="cb11-124"><a href="#cb11-124"></a>run;</span>
<span id="cb11-125"><a href="#cb11-125"></a><span class="in">```</span></span>
<span id="cb11-126"><a href="#cb11-126"></a></span>
<span id="cb11-127"><a href="#cb11-127"></a>Once the modifications are done, submit the codes in SAS. Note that, the name of the data is 'hs'.</span>
<span id="cb11-128"><a href="#cb11-128"></a></span>
<span id="cb11-129"><a href="#cb11-129"></a><span class="in">```{r ubc14, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-130"><a href="#cb11-130"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus14.png"</span>)</span>
<span id="cb11-131"><a href="#cb11-131"></a><span class="in">```</span></span>
<span id="cb11-132"><a href="#cb11-132"></a></span>
<span id="cb11-133"><a href="#cb11-133"></a><span class="ss">-   </span>**Step 2**: Once you submit the code, you can check the log window in SAS to see how the code submission went. It should tell you how many observations and variables were read.</span>
<span id="cb11-134"><a href="#cb11-134"></a></span>
<span id="cb11-135"><a href="#cb11-135"></a><span class="in">```{r ubc15, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-136"><a href="#cb11-136"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus15.png"</span>)</span>
<span id="cb11-137"><a href="#cb11-137"></a><span class="in">```</span></span>
<span id="cb11-138"><a href="#cb11-138"></a></span>
<span id="cb11-139"><a href="#cb11-139"></a><span class="ss">-   </span>**Step 3**: If you one to view the dataset, you can go to 'Explorer' window within SAS.</span>
<span id="cb11-140"><a href="#cb11-140"></a></span>
<span id="cb11-141"><a href="#cb11-141"></a><span class="in">```{r ubc16, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-142"><a href="#cb11-142"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus16.png"</span>)</span>
<span id="cb11-143"><a href="#cb11-143"></a><span class="in">```</span></span>
<span id="cb11-144"><a href="#cb11-144"></a></span>
<span id="cb11-145"><a href="#cb11-145"></a><span class="ss">-   </span>**Step 4**: Generally, if you haven't specified where to load the files, SAS will by default save the data into a library called 'Work'</span>
<span id="cb11-146"><a href="#cb11-146"></a></span>
<span id="cb11-147"><a href="#cb11-147"></a><span class="in">```{r ubc17, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-148"><a href="#cb11-148"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus17.png"</span>)</span>
<span id="cb11-149"><a href="#cb11-149"></a><span class="in">```</span></span>
<span id="cb11-150"><a href="#cb11-150"></a></span>
<span id="cb11-151"><a href="#cb11-151"></a><span class="ss">-   </span>**Step 5**: Open that folder, and you will be able to find the dataset 'Hs'.</span>
<span id="cb11-152"><a href="#cb11-152"></a></span>
<span id="cb11-153"><a href="#cb11-153"></a><span class="in">```{r ubc18, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-154"><a href="#cb11-154"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus18.png"</span>)</span>
<span id="cb11-155"><a href="#cb11-155"></a><span class="in">```</span></span>
<span id="cb11-156"><a href="#cb11-156"></a></span>
<span id="cb11-157"><a href="#cb11-157"></a><span class="ss">-   </span>**Step 6**: Right click on the data, and click 'open' to view the datafile.</span>
<span id="cb11-158"><a href="#cb11-158"></a></span>
<span id="cb11-159"><a href="#cb11-159"></a><span class="in">```{r ubc19, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-160"><a href="#cb11-160"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus19.png"</span>)</span>
<span id="cb11-161"><a href="#cb11-161"></a><span class="in">```</span></span>
<span id="cb11-162"><a href="#cb11-162"></a></span>
<span id="cb11-163"><a href="#cb11-163"></a><span class="ss">-   </span>**Step 7**: To export the data into a CSV format data (so that we can read this data into other software packages), ckick 'Menu'.</span>
<span id="cb11-164"><a href="#cb11-164"></a></span>
<span id="cb11-165"><a href="#cb11-165"></a><span class="in">```{r ubc20, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-166"><a href="#cb11-166"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus20.png"</span>)</span>
<span id="cb11-167"><a href="#cb11-167"></a><span class="in">```</span></span>
<span id="cb11-168"><a href="#cb11-168"></a></span>
<span id="cb11-169"><a href="#cb11-169"></a><span class="ss">-   </span>**Step 8**: then press 'Export Data'.</span>
<span id="cb11-170"><a href="#cb11-170"></a></span>
<span id="cb11-171"><a href="#cb11-171"></a><span class="in">```{r ubc21, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-172"><a href="#cb11-172"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus21.png"</span>)</span>
<span id="cb11-173"><a href="#cb11-173"></a><span class="in">```</span></span>
<span id="cb11-174"><a href="#cb11-174"></a></span>
<span id="cb11-175"><a href="#cb11-175"></a><span class="ss">-   </span>**Step 9**: choose the library and the data.</span>
<span id="cb11-176"><a href="#cb11-176"></a></span>
<span id="cb11-177"><a href="#cb11-177"></a><span class="in">```{r ubc22, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-178"><a href="#cb11-178"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus22.png"</span>)</span>
<span id="cb11-179"><a href="#cb11-179"></a><span class="in">```</span></span>
<span id="cb11-180"><a href="#cb11-180"></a></span>
<span id="cb11-181"><a href="#cb11-181"></a><span class="ss">-   </span>**Step 10**: choose the format in which you may want to save the existing data.</span>
<span id="cb11-182"><a href="#cb11-182"></a></span>
<span id="cb11-183"><a href="#cb11-183"></a><span class="in">```{r ubc23, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-184"><a href="#cb11-184"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus23.png"</span>)</span>
<span id="cb11-185"><a href="#cb11-185"></a><span class="in">```</span></span>
<span id="cb11-186"><a href="#cb11-186"></a></span>
<span id="cb11-187"><a href="#cb11-187"></a><span class="ss">-   </span>**Step 11**: also specify where you want to save the csv file and the name of that file (e.g., cchs3.csv).</span>
<span id="cb11-188"><a href="#cb11-188"></a></span>
<span id="cb11-189"><a href="#cb11-189"></a><span class="in">```{r ubc24, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-190"><a href="#cb11-190"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus24.png"</span>)</span>
<span id="cb11-191"><a href="#cb11-191"></a><span class="in">```</span></span>
<span id="cb11-192"><a href="#cb11-192"></a></span>
<span id="cb11-193"><a href="#cb11-193"></a><span class="ss">-   </span>**Step 12**: go to that directory to see the file cchs3.csv</span>
<span id="cb11-194"><a href="#cb11-194"></a></span>
<span id="cb11-195"><a href="#cb11-195"></a><span class="in">```{r ubc25, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-196"><a href="#cb11-196"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus25.png"</span>)</span>
<span id="cb11-197"><a href="#cb11-197"></a><span class="in">```</span></span>
<span id="cb11-198"><a href="#cb11-198"></a></span>
<span id="cb11-199"><a href="#cb11-199"></a><span class="ss">-   </span>**Step 13**: If you want to save the file in SAS format, you can do so by writing the following sas code into the 'Editor' window. Here we are saving the data Hs within the Work library in to a data called cchs3 within the SASLib library. Note that, the directory name has to be where you want to save the output file.</span>
<span id="cb11-200"><a href="#cb11-200"></a></span>
<span id="cb11-201"><a href="#cb11-201"></a><span class="in">```{r sasproc2, eval=FALSE}</span></span>
<span id="cb11-202"><a href="#cb11-202"></a>LIBNAME SASLib <span class="st">"C:\CCHS\Data"</span>;</span>
<span id="cb11-203"><a href="#cb11-203"></a>DATA SASLib.cchs3;</span>
<span id="cb11-204"><a href="#cb11-204"></a>    set Work.Hs;</span>
<span id="cb11-205"><a href="#cb11-205"></a>run;</span>
<span id="cb11-206"><a href="#cb11-206"></a><span class="in">```</span></span>
<span id="cb11-207"><a href="#cb11-207"></a></span>
<span id="cb11-208"><a href="#cb11-208"></a>Submit these codes into SAS:</span>
<span id="cb11-209"><a href="#cb11-209"></a></span>
<span id="cb11-210"><a href="#cb11-210"></a><span class="in">```{r ubc26, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-211"><a href="#cb11-211"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus26.png"</span>)</span>
<span id="cb11-212"><a href="#cb11-212"></a><span class="in">```</span></span>
<span id="cb11-213"><a href="#cb11-213"></a></span>
<span id="cb11-214"><a href="#cb11-214"></a><span class="ss">-   </span>**Step 13**: go to that directory to see the file cchs3.sas7dbat</span>
<span id="cb11-215"><a href="#cb11-215"></a></span>
<span id="cb11-216"><a href="#cb11-216"></a><span class="in">```{r ubc27, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-217"><a href="#cb11-217"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus27.png"</span>)</span>
<span id="cb11-218"><a href="#cb11-218"></a><span class="in">```</span></span>
<span id="cb11-219"><a href="#cb11-219"></a></span>
<span id="cb11-220"><a href="#cb11-220"></a><span class="fu">#### Option 2: Processing data using PSPP (Free)</span></span>
<span id="cb11-221"><a href="#cb11-221"></a></span>
<span id="cb11-222"><a href="#cb11-222"></a>PSPP is a free package; alternative to commercial software SPSS. We can use the same SPSS codes to read the datafile into PSPP, and save.</span>
<span id="cb11-223"><a href="#cb11-223"></a></span>
<span id="cb11-224"><a href="#cb11-224"></a><span class="ss">-   </span>**Step 1**: Get the free PSPP software from the website: <span class="co">[</span><span class="ot">www.gnu.org/software/pspp/</span><span class="co">](http://www.gnu.org/software/pspp/)</span></span>
<span id="cb11-225"><a href="#cb11-225"></a></span>
<span id="cb11-226"><a href="#cb11-226"></a>PSPP is available for GNU/Hurd, GNU/Linux, Darwin (Mac OS X), OpenBSD, NetBSD, FreeBSD, and Windows</span>
<span id="cb11-227"><a href="#cb11-227"></a></span>
<span id="cb11-228"><a href="#cb11-228"></a><span class="in">```{r ubc30, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-229"><a href="#cb11-229"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus30.png"</span>)</span>
<span id="cb11-230"><a href="#cb11-230"></a><span class="in">```</span></span>
<span id="cb11-231"><a href="#cb11-231"></a></span>
<span id="cb11-232"><a href="#cb11-232"></a>For windows, download appropriate version.</span>
<span id="cb11-233"><a href="#cb11-233"></a></span>
<span id="cb11-234"><a href="#cb11-234"></a><span class="in">```{r ubc30aa, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-235"><a href="#cb11-235"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/psppdownload0.png"</span>)</span>
<span id="cb11-236"><a href="#cb11-236"></a><span class="in">```</span></span>
<span id="cb11-237"><a href="#cb11-237"></a></span>
<span id="cb11-238"><a href="#cb11-238"></a>Download the file</span>
<span id="cb11-239"><a href="#cb11-239"></a></span>
<span id="cb11-240"><a href="#cb11-240"></a><span class="in">```{r ubc30ab, echo=FALSE, out.width = '25%'}</span></span>
<span id="cb11-241"><a href="#cb11-241"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/psppdownload.png"</span>)</span>
<span id="cb11-242"><a href="#cb11-242"></a><span class="in">```</span></span>
<span id="cb11-243"><a href="#cb11-243"></a></span>
<span id="cb11-244"><a href="#cb11-244"></a>Install</span>
<span id="cb11-245"><a href="#cb11-245"></a></span>
<span id="cb11-246"><a href="#cb11-246"></a><span class="in">```{r ubc30install, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-247"><a href="#cb11-247"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/psppinstall.png"</span>)</span>
<span id="cb11-248"><a href="#cb11-248"></a><span class="in">```</span></span>
<span id="cb11-249"><a href="#cb11-249"></a></span>
<span id="cb11-250"><a href="#cb11-250"></a><span class="in">```{r ubc30install2, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-251"><a href="#cb11-251"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/psppinstall2.png"</span>)</span>
<span id="cb11-252"><a href="#cb11-252"></a><span class="in">```</span></span>
<span id="cb11-253"><a href="#cb11-253"></a></span>
<span id="cb11-254"><a href="#cb11-254"></a><span class="in">```{r ubc30install3, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-255"><a href="#cb11-255"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/psppinstall3.png"</span>)</span>
<span id="cb11-256"><a href="#cb11-256"></a><span class="in">```</span></span>
<span id="cb11-257"><a href="#cb11-257"></a></span>
<span id="cb11-258"><a href="#cb11-258"></a>Click the icon shorcut after installing</span>
<span id="cb11-259"><a href="#cb11-259"></a></span>
<span id="cb11-260"><a href="#cb11-260"></a><span class="in">```{r ubc30aa5, echo=FALSE, out.width = '25%'}</span></span>
<span id="cb11-261"><a href="#cb11-261"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/psppicon.png"</span>)</span>
<span id="cb11-262"><a href="#cb11-262"></a><span class="in">```</span></span>
<span id="cb11-263"><a href="#cb11-263"></a></span>
<span id="cb11-264"><a href="#cb11-264"></a><span class="ss">-   </span>**Step 2**: Open PSPP</span>
<span id="cb11-265"><a href="#cb11-265"></a></span>
<span id="cb11-266"><a href="#cb11-266"></a><span class="in">```{r ubc31, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-267"><a href="#cb11-267"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus31.png"</span>)</span>
<span id="cb11-268"><a href="#cb11-268"></a><span class="in">```</span></span>
<span id="cb11-269"><a href="#cb11-269"></a></span>
<span id="cb11-270"><a href="#cb11-270"></a><span class="ss">-   </span>**Step 3**: Go to 'file' menu and click 'open'</span>
<span id="cb11-271"><a href="#cb11-271"></a></span>
<span id="cb11-272"><a href="#cb11-272"></a><span class="in">```{r ubc32, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-273"><a href="#cb11-273"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus32.png"</span>)</span>
<span id="cb11-274"><a href="#cb11-274"></a><span class="in">```</span></span>
<span id="cb11-275"><a href="#cb11-275"></a></span>
<span id="cb11-276"><a href="#cb11-276"></a><span class="ss">-   </span>**Step 4**: Specify the *readfile.sps* file from the 'SAS_SPSS' folder.</span>
<span id="cb11-277"><a href="#cb11-277"></a></span>
<span id="cb11-278"><a href="#cb11-278"></a><span class="in">```{r ubc33, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-279"><a href="#cb11-279"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus33.png"</span>)</span>
<span id="cb11-280"><a href="#cb11-280"></a><span class="in">```</span></span>
<span id="cb11-281"><a href="#cb11-281"></a></span>
<span id="cb11-282"><a href="#cb11-282"></a>You will see the following file:</span>
<span id="cb11-283"><a href="#cb11-283"></a></span>
<span id="cb11-284"><a href="#cb11-284"></a><span class="in">```{r ubc33bb, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-285"><a href="#cb11-285"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX33.png"</span>)</span>
<span id="cb11-286"><a href="#cb11-286"></a><span class="in">```</span></span>
<span id="cb11-287"><a href="#cb11-287"></a></span>
<span id="cb11-288"><a href="#cb11-288"></a><span class="ss">-   </span>**Step 5**: Similar to before, change the directories as appropriate. Get rid of the extra lines of codes. Resulting codes are as follows (you can copy and replace the code in the file with the following codes):</span>
<span id="cb11-289"><a href="#cb11-289"></a></span>
<span id="cb11-290"><a href="#cb11-290"></a><span class="in">```{r sasproc3, eval=FALSE}</span></span>
<span id="cb11-291"><a href="#cb11-291"></a>file handle infile<span class="sc">/</span>name <span class="ot">=</span> <span class="st">'C:\CCHS\Data\cchs_cycle3-1CD\DATA\hs.txt'</span>.</span>
<span id="cb11-292"><a href="#cb11-292"></a>data list file <span class="ot">=</span> infile notable<span class="sc">/</span>.</span>
<span id="cb11-293"><a href="#cb11-293"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_i.sps"</span>.</span>
<span id="cb11-294"><a href="#cb11-294"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsvale.sps"</span>.</span>
<span id="cb11-295"><a href="#cb11-295"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsvare.sps"</span>.</span>
<span id="cb11-296"><a href="#cb11-296"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsmiss.sps"</span>.</span>
<span id="cb11-297"><a href="#cb11-297"></a>execute.</span>
<span id="cb11-298"><a href="#cb11-298"></a><span class="in">```</span></span>
<span id="cb11-299"><a href="#cb11-299"></a></span>
<span id="cb11-300"><a href="#cb11-300"></a><span class="in">```{r ubc34, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-301"><a href="#cb11-301"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusX34.png"</span>)</span>
<span id="cb11-302"><a href="#cb11-302"></a><span class="in">```</span></span>
<span id="cb11-303"><a href="#cb11-303"></a></span>
<span id="cb11-304"><a href="#cb11-304"></a>For Mac users, it should be as follows (e.g., <span class="in">`username`</span> should be your user name, if you are saving under the path <span class="in">`"/Users/username/CCHS/Data/"`</span>):</span>
<span id="cb11-305"><a href="#cb11-305"></a></span>
<span id="cb11-306"><a href="#cb11-306"></a><span class="in">```{r sasproc4, eval=FALSE}</span></span>
<span id="cb11-307"><a href="#cb11-307"></a>file handle infile<span class="sc">/</span>name <span class="ot">=</span><span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/Data/hs.txt"</span>.</span>
<span id="cb11-308"><a href="#cb11-308"></a>data list file <span class="ot">=</span> infile notable<span class="sc">/</span>.</span>
<span id="cb11-309"><a href="#cb11-309"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hs_i.sps"</span>.</span>
<span id="cb11-310"><a href="#cb11-310"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsvale.sps"</span>.</span>
<span id="cb11-311"><a href="#cb11-311"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsvare.sps"</span>.</span>
<span id="cb11-312"><a href="#cb11-312"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsmiss.sps"</span>.</span>
<span id="cb11-313"><a href="#cb11-313"></a></span>
<span id="cb11-314"><a href="#cb11-314"></a>execute.</span>
<span id="cb11-315"><a href="#cb11-315"></a><span class="in">```</span></span>
<span id="cb11-316"><a href="#cb11-316"></a></span>
<span id="cb11-317"><a href="#cb11-317"></a><span class="ss">-   </span>**Step 6**: Run the codes.</span>
<span id="cb11-318"><a href="#cb11-318"></a></span>
<span id="cb11-319"><a href="#cb11-319"></a><span class="in">```{r ubc35, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-320"><a href="#cb11-320"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus35.png"</span>)</span>
<span id="cb11-321"><a href="#cb11-321"></a><span class="in">```</span></span>
<span id="cb11-322"><a href="#cb11-322"></a></span>
<span id="cb11-323"><a href="#cb11-323"></a><span class="ss">-   </span>**Step 7**: This is a large data, and will take some time to load the data into the PSPP data editor. **Be patient**.</span>
<span id="cb11-324"><a href="#cb11-324"></a></span>
<span id="cb11-325"><a href="#cb11-325"></a><span class="in">```{r ubc12xyg, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-326"><a href="#cb11-326"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/waitX.png"</span>)</span>
<span id="cb11-327"><a href="#cb11-327"></a><span class="in">```</span></span>
<span id="cb11-328"><a href="#cb11-328"></a></span>
<span id="cb11-329"><a href="#cb11-329"></a>Once loading is complete, it will show the 'output' and 'data view'.</span>
<span id="cb11-330"><a href="#cb11-330"></a></span>
<span id="cb11-331"><a href="#cb11-331"></a><span class="in">```{r ubc36v, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-332"><a href="#cb11-332"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacusNew.png"</span>)</span>
<span id="cb11-333"><a href="#cb11-333"></a><span class="in">```</span></span>
<span id="cb11-334"><a href="#cb11-334"></a></span>
<span id="cb11-335"><a href="#cb11-335"></a><span class="in">```{r ubc36, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-336"><a href="#cb11-336"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus36.png"</span>)</span>
<span id="cb11-337"><a href="#cb11-337"></a><span class="in">```</span></span>
<span id="cb11-338"><a href="#cb11-338"></a></span>
<span id="cb11-339"><a href="#cb11-339"></a>Note that, you will get error message, if your files were not in the correct path. In our example, the path was <span class="in">`"C:\CCHS\Data\"`</span> for the zip file content (see the previous steps).</span>
<span id="cb11-340"><a href="#cb11-340"></a></span>
<span id="cb11-341"><a href="#cb11-341"></a><span class="ss">-   </span>**Step 7**: You can also check the 'variable view'.</span>
<span id="cb11-342"><a href="#cb11-342"></a></span>
<span id="cb11-343"><a href="#cb11-343"></a><span class="in">```{r ubc37, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-344"><a href="#cb11-344"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus37.png"</span>)</span>
<span id="cb11-345"><a href="#cb11-345"></a><span class="in">```</span></span>
<span id="cb11-346"><a href="#cb11-346"></a></span>
<span id="cb11-347"><a href="#cb11-347"></a><span class="ss">-   </span>**Step 8**: Save the data by clicking 'File' and then 'save as ...'</span>
<span id="cb11-348"><a href="#cb11-348"></a></span>
<span id="cb11-349"><a href="#cb11-349"></a><span class="in">```{r ubc38, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-350"><a href="#cb11-350"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus38.png"</span>)</span>
<span id="cb11-351"><a href="#cb11-351"></a><span class="in">```</span></span>
<span id="cb11-352"><a href="#cb11-352"></a></span>
<span id="cb11-353"><a href="#cb11-353"></a><span class="ss">-   </span>**Step 9**: Specify the name of the datafile and the location / folder to save the data file.</span>
<span id="cb11-354"><a href="#cb11-354"></a></span>
<span id="cb11-355"><a href="#cb11-355"></a><span class="in">```{r ubc39, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-356"><a href="#cb11-356"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus39.png"</span>)</span>
<span id="cb11-357"><a href="#cb11-357"></a><span class="in">```</span></span>
<span id="cb11-358"><a href="#cb11-358"></a></span>
<span id="cb11-359"><a href="#cb11-359"></a><span class="ss">-   </span>**Step 10**: See the SAV file saved in the directory.</span>
<span id="cb11-360"><a href="#cb11-360"></a></span>
<span id="cb11-361"><a href="#cb11-361"></a><span class="in">```{r ubc40, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-362"><a href="#cb11-362"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus40.png"</span>)</span>
<span id="cb11-363"><a href="#cb11-363"></a><span class="in">```</span></span>
<span id="cb11-364"><a href="#cb11-364"></a></span>
<span id="cb11-365"><a href="#cb11-365"></a><span class="ss">-   </span>**Step 11**: To save CSV format data, use the following syntax.</span>
<span id="cb11-366"><a href="#cb11-366"></a></span>
<span id="cb11-367"><a href="#cb11-367"></a><span class="in">```{r sasproc5, eval=FALSE}</span></span>
<span id="cb11-368"><a href="#cb11-368"></a>SAVE TRANSLATE</span>
<span id="cb11-369"><a href="#cb11-369"></a>  <span class="sc">/</span>OUTFILE<span class="ot">=</span><span class="st">"C:/CCHS/Data/cchs3b.csv"</span>  </span>
<span id="cb11-370"><a href="#cb11-370"></a>  <span class="sc">/</span>TYPE<span class="ot">=</span>CSV</span>
<span id="cb11-371"><a href="#cb11-371"></a>  <span class="sc">/</span>FIELDNAMES      </span>
<span id="cb11-372"><a href="#cb11-372"></a>  <span class="sc">/</span>CELLS<span class="ot">=</span>VALUES.</span>
<span id="cb11-373"><a href="#cb11-373"></a><span class="in">```</span></span>
<span id="cb11-374"><a href="#cb11-374"></a></span>
<span id="cb11-375"><a href="#cb11-375"></a>Note that, for categorical data, you can either save values or labels. For our purpose, we prefer values, and hence saved with values here.</span>
<span id="cb11-376"><a href="#cb11-376"></a></span>
<span id="cb11-377"><a href="#cb11-377"></a><span class="in">```{r ubc41, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-378"><a href="#cb11-378"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus41.png"</span>)</span>
<span id="cb11-379"><a href="#cb11-379"></a><span class="in">```</span></span>
<span id="cb11-380"><a href="#cb11-380"></a></span>
<span id="cb11-381"><a href="#cb11-381"></a><span class="ss">-   </span>**Step 12**: See the CSV file saved in the directory extracted from PSPP.</span>
<span id="cb11-382"><a href="#cb11-382"></a></span>
<span id="cb11-383"><a href="#cb11-383"></a><span class="in">```{r ubc42, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-384"><a href="#cb11-384"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus42.png"</span>)</span>
<span id="cb11-385"><a href="#cb11-385"></a><span class="in">```</span></span>
<span id="cb11-386"><a href="#cb11-386"></a></span>
<span id="cb11-387"><a href="#cb11-387"></a><span class="fu">#### Option 3: Processing data using SPSS</span></span>
<span id="cb11-388"><a href="#cb11-388"></a></span>
<span id="cb11-389"><a href="#cb11-389"></a>Log into <span class="co">[</span><span class="ot">ubc.onthehub.com</span><span class="co">](https://ubc.onthehub.com)</span> to download SPSS. With your CWL account, UBC students should be able to download it. UBC <span class="co">[</span><span class="ot">IT website for SPSS</span><span class="co">](https://it.ubc.ca/services/desktop-print-services/software-licensing/spss)</span> says:</span>
<span id="cb11-390"><a href="#cb11-390"></a></span>
<span id="cb11-391"><a href="#cb11-391"></a><span class="in">`The SPSS software license with UBC specifies that SPSS must only be used by UBC Faculty, Students, and Research Staff and only for Teaching and non-commercial Research purposes related to UBC.`</span></span>
<span id="cb11-392"><a href="#cb11-392"></a></span>
<span id="cb11-393"><a href="#cb11-393"></a>Both network (for UBC owened devices) or standalone / home versions (for non-UBC owened devices) should be available. Once downloaded, same process of importing CCHS data in PSPP can also be applied on SPSS (same syntax files should work). Let me know if that is not the case.</span>
<span id="cb11-394"><a href="#cb11-394"></a></span>
<span id="cb11-395"><a href="#cb11-395"></a><span class="fu">### Processing data in R</span></span>
<span id="cb11-396"><a href="#cb11-396"></a></span>
<span id="cb11-397"><a href="#cb11-397"></a><span class="fu">#### Download software</span></span>
<span id="cb11-398"><a href="#cb11-398"></a></span>
<span id="cb11-399"><a href="#cb11-399"></a><span class="ss">-   </span>**Step 1**: Download either 'R' from CRAN <span class="co">[</span><span class="ot">www.r-project.org</span><span class="co">](https://www.r-project.org/)</span> or 'R open' from Microsoft <span class="co">[</span><span class="ot">mran.microsoft.com/open</span><span class="co">](https://mran.microsoft.com/open)</span></span>
<span id="cb11-400"><a href="#cb11-400"></a></span>
<span id="cb11-401"><a href="#cb11-401"></a><span class="in">```{r R03, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-402"><a href="#cb11-402"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/R03.png"</span>)</span>
<span id="cb11-403"><a href="#cb11-403"></a><span class="in">```</span></span>
<span id="cb11-404"><a href="#cb11-404"></a></span>
<span id="cb11-405"><a href="#cb11-405"></a><span class="in">```{r R01, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-406"><a href="#cb11-406"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/R01.png"</span>)</span>
<span id="cb11-407"><a href="#cb11-407"></a><span class="in">```</span></span>
<span id="cb11-408"><a href="#cb11-408"></a></span>
<span id="cb11-409"><a href="#cb11-409"></a><span class="ss">-   </span>**Step 2**: Download RStudio from <span class="co">[</span><span class="ot">www.rstudio.com/</span><span class="co">](https://www.rstudio.com/)</span></span>
<span id="cb11-410"><a href="#cb11-410"></a></span>
<span id="cb11-411"><a href="#cb11-411"></a><span class="in">```{r R02, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-412"><a href="#cb11-412"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/R02.png"</span>)</span>
<span id="cb11-413"><a href="#cb11-413"></a><span class="in">```</span></span>
<span id="cb11-414"><a href="#cb11-414"></a></span>
<span id="cb11-415"><a href="#cb11-415"></a><span class="ss">-   </span>**Step 3**: Open RStudio</span>
<span id="cb11-416"><a href="#cb11-416"></a></span>
<span id="cb11-417"><a href="#cb11-417"></a><span class="in">```{r R04, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-418"><a href="#cb11-418"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/R04.png"</span>)</span>
<span id="cb11-419"><a href="#cb11-419"></a><span class="in">```</span></span>
<span id="cb11-420"><a href="#cb11-420"></a></span>
<span id="cb11-421"><a href="#cb11-421"></a><span class="fu">#### Import, export and load data into R</span></span>
<span id="cb11-422"><a href="#cb11-422"></a></span>
<span id="cb11-423"><a href="#cb11-423"></a><span class="ss">-   </span>**Step 1**: Set working directory</span>
<span id="cb11-424"><a href="#cb11-424"></a></span>
<span id="cb11-425"><a href="#cb11-425"></a><span class="in">```{r sasproc6, eval=FALSE}</span></span>
<span id="cb11-426"><a href="#cb11-426"></a><span class="fu">setwd</span>(<span class="st">"C:/CCHS/Data/"</span>) <span class="co"># or something appropriate</span></span>
<span id="cb11-427"><a href="#cb11-427"></a><span class="in">```</span></span>
<span id="cb11-428"><a href="#cb11-428"></a></span>
<span id="cb11-429"><a href="#cb11-429"></a><span class="ss">-   </span>**Step 2**: Read the dataset created from PSPP with cell values. We can also do a small check to see if the cell values are visible. For example, we choose a variable 'CCCE_05A', and tabulate it.</span>
<span id="cb11-430"><a href="#cb11-430"></a></span>
<span id="cb11-431"><a href="#cb11-431"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb11-432"><a href="#cb11-432"></a>Hs <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"cchs3b.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-433"><a href="#cb11-433"></a><span class="fu">table</span>(Hs<span class="sc">$</span>CCCE_05A)</span>
<span id="cb11-434"><a href="#cb11-434"></a><span class="in">```</span></span>
<span id="cb11-435"><a href="#cb11-435"></a></span>
<span id="cb11-436"><a href="#cb11-436"></a><span class="in">```{r ubc46, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-437"><a href="#cb11-437"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus46.png"</span>)</span>
<span id="cb11-438"><a href="#cb11-438"></a><span class="in">```</span></span>
<span id="cb11-439"><a href="#cb11-439"></a></span>
<span id="cb11-440"><a href="#cb11-440"></a><span class="ss">-   </span>**Step 3**: Save the RData file from R into a folder <span class="in">`SurveyData`</span>:</span>
<span id="cb11-441"><a href="#cb11-441"></a></span>
<span id="cb11-442"><a href="#cb11-442"></a><span class="in">```{r save, eval=FALSE}</span></span>
<span id="cb11-443"><a href="#cb11-443"></a><span class="fu">save</span>(Hs, <span class="at">file =</span> <span class="st">"SurveyData/cchs3.RData"</span>)</span>
<span id="cb11-444"><a href="#cb11-444"></a><span class="in">```</span></span>
<span id="cb11-445"><a href="#cb11-445"></a></span>
<span id="cb11-446"><a href="#cb11-446"></a><span class="ss">-   </span>**Step 4**: See the RData file saved in the directory extracted from R.</span>
<span id="cb11-447"><a href="#cb11-447"></a></span>
<span id="cb11-448"><a href="#cb11-448"></a><span class="in">```{r ubc43, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-449"><a href="#cb11-449"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus43.png"</span>)</span>
<span id="cb11-450"><a href="#cb11-450"></a><span class="in">```</span></span>
<span id="cb11-451"><a href="#cb11-451"></a></span>
<span id="cb11-452"><a href="#cb11-452"></a><span class="ss">-   </span>**Step 5**: Close R / RStudio and restart it. Environment window within RStudio should be empty.</span>
<span id="cb11-453"><a href="#cb11-453"></a></span>
<span id="cb11-454"><a href="#cb11-454"></a><span class="in">```{r ubc44, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-455"><a href="#cb11-455"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus44.png"</span>)</span>
<span id="cb11-456"><a href="#cb11-456"></a><span class="in">```</span></span>
<span id="cb11-457"><a href="#cb11-457"></a></span>
<span id="cb11-458"><a href="#cb11-458"></a><span class="ss">-   </span>**Step 6**: Load the saved RData into R. Environment window within RStudio should have 'Hs' dataset.</span>
<span id="cb11-459"><a href="#cb11-459"></a></span>
<span id="cb11-460"><a href="#cb11-460"></a><span class="in">```{r save6, eval=FALSE}</span></span>
<span id="cb11-461"><a href="#cb11-461"></a><span class="fu">load</span>(<span class="st">"SurveyData/cchs3.RData"</span>)</span>
<span id="cb11-462"><a href="#cb11-462"></a><span class="in">```</span></span>
<span id="cb11-463"><a href="#cb11-463"></a></span>
<span id="cb11-464"><a href="#cb11-464"></a><span class="in">```{r ubc45, echo=FALSE, out.width = '65%'}</span></span>
<span id="cb11-465"><a href="#cb11-465"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/accessing/abacus45.png"</span>)</span>
<span id="cb11-466"><a href="#cb11-466"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>