<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>OER: Advanced Epidemiological Methods - Importing CCHS to R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./accessing3.html" rel="next">
<link href="./accessing1.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="OER: Advanced Epidemiological Methods - Importing CCHS to R">
<meta name="twitter:description" content="This section provides comprehensive instructions on how to import the Canadian Community Health Survey (CCHS) dataset from the UBC library site to the RStudio environment.">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Importing CCHS to R</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">OER: Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">Functions for wrangling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz on wrangling</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Data accessing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link active">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">Functions for data accessing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz on accessing</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research question</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">Predictive question</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2.html" class="sidebar-item-text sidebar-link">Causal question</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">Functions for research question</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz on research question</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">Confounding and bias</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">R for confounding</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">Predictive factors</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">R for predictive factors</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">Survey data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">R for survey data analysis</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">Missing data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">R for missing data</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">Propensity score</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">R for propensity score</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">Reporting guidelines</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reportingF.html" class="sidebar-item-text sidebar-link">R for reporting</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">Machine learning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">R for machine learning</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">ML in causal inference</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">R for ML in causal inference</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#downloading-cchs-data-from-ubc" id="toc-downloading-cchs-data-from-ubc" class="nav-link active" data-scroll-target="#downloading-cchs-data-from-ubc">Downloading CCHS data from UBC</a></li>
  <li><a href="#reading-and-formatting-the-data" id="toc-reading-and-formatting-the-data" class="nav-link" data-scroll-target="#reading-and-formatting-the-data">Reading and Formatting the data</a></li>
  <li><a href="#processing-data-in-r" id="toc-processing-data-in-r" class="nav-link" data-scroll-target="#processing-data-in-r">Processing data in R</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Importing CCHS to R</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="cell" data-hash="accessing2_cache/html/setup_9acd6eb48c53aab73d58cb69f204b45a">
<details><summary>Show the code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Load required packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This section provides comprehensive instructions on how to import the Canadian Community Health Survey (CCHS) dataset from the UBC library site to the RStudio environment. The process starts with downloading the CCHS data from the UBC library site and includes step-by-step visual guides for each stage. Three primary options are provided to process and format the data:</p>
<ol type="1">
<li>Using the commercial software SAS.</li>
<li>Utilizing the free software PSPP, an alternative to SPSS.</li>
<li>Directly processing the data in R.</li>
</ol>
<p>For each option, users are guided on how to download, install, access, read, save, and check the dataset. The objective is to help users acquire, visualize, and manipulate the CCHS dataset seamlessly using various software applications.</p>
<section id="downloading-cchs-data-from-ubc" class="level3"><h3 class="anchored" data-anchor-id="downloading-cchs-data-from-ubc">Downloading CCHS data from UBC</h3>
<ul>
<li>
<strong>Step 1</strong>: Go to <a href="http://dvn.library.ubc.ca">dvn.library.ubc.ca</a>, and press ‘log-in’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX1.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Select ‘UBC’ from the dropdown menu</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX2.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Enter your CWL or UBC library authentication information</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus3.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 4</strong>: Once you log-in, search the term ‘cchs’ in the search-box</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX4.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: For illustrative purposes, let us work with the Cycle 3.1 of the CCHS dataset from the list of results. In that case, type ‘cchs 3.1’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX5.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 6</strong>: CCHS Cycle 3.1 information</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus6X.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 7</strong>: Choose the ‘Data: CD’ from the menu</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX7.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 8</strong>: Download the entire data (about 159 MB) as a zip file</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX8.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 9</strong>: Accept the ‘terms of use’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX9.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 10</strong>: Select a directory to download the zip file. The path of the download directory is important (we need to use this <code>path</code> exactly later). For example, below we are in <code>"C:\CCHS\"</code> folder, but we will create a “Data” folder there, so that the download path is <code>"C:\CCHS\Data\"</code>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10b.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10c.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX10d.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 11</strong>: Extract the zip file</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus11.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 12</strong>: Be patient with the extraction</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus12.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 13</strong>: Once extraction is complete, take a look at the folders inside. You will see that there is a folder named ‘SAS_SPSS’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus13.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="reading-and-formatting-the-data" class="level3"><h3 class="anchored" data-anchor-id="reading-and-formatting-the-data">Reading and Formatting the data</h3>
<section id="option-1-processing-data-using-sas" class="level4"><h4 class="anchored" data-anchor-id="option-1-processing-data-using-sas">Option 1: Processing data using SAS</h4>
<p>SAS is a commercial software. You may be able to get access to educational version. In case you don’t have access to it, later we outline how to use free packages to read these datasets.</p>
<ul>
<li>
<strong>Step 1</strong>: Inside that ‘SAS_SPSS’ folder, find the file <em>hs_pfe.sas</em>. It is a long file, but we are going to work on part of it. First thing we want to do it to change all the directory names to where you have unzipped the downloaded file (for example, here the zip file was extracted to C:/CCHS/Data/cchs_cycle3-1CD/). We only need the first part of the code (as shown below; only related to data ‘hs’). Delete the rest of the codes for now. The resulting code should like like this:</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>%include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_pfe.sas"</span>;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>data hs;</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        %let datafid<span class="ot">=</span><span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\Data\hs.txt"</span>;</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_i.sas"</span>;</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_fmt.sas"</span>;</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        %include <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_lbe.sas"</span>;</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>run;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Once the modifications are done, submit the codes in SAS. Note that, the name of the data is ‘hs’.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus14.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Once you submit the code, you can check the log window in SAS to see how the code submission went. It should tell you how many observations and variables were read.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus15.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: If you one to view the dataset, you can go to ‘Explorer’ window within SAS.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus16.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 4</strong>: Generally, if you haven’t specified where to load the files, SAS will by default save the data into a library called ‘Work’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus17.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: Open that folder, and you will be able to find the dataset ‘Hs’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus18.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 6</strong>: Right click on the data, and click ‘open’ to view the datafile.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus19.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 7</strong>: To export the data into a CSV format data (so that we can read this data into other software packages), ckick ‘Menu’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus20.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 8</strong>: then press ‘Export Data’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus21.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 9</strong>: choose the library and the data.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus22.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 10</strong>: choose the format in which you may want to save the existing data.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus23.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 11</strong>: also specify where you want to save the csv file and the name of that file (e.g., cchs3.csv).</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus24.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 12</strong>: go to that directory to see the file cchs3.csv</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus25.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 13</strong>: If you want to save the file in SAS format, you can do so by writing the following sas code into the ‘Editor’ window. Here we are saving the data Hs within the Work library in to a data called cchs3 within the SASLib library. Note that, the directory name has to be where you want to save the output file.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>LIBNAME SASLib <span class="st">"C:\CCHS\Data"</span>;</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>DATA SASLib.cchs3;</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    set Work.Hs;</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>run;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Submit these codes into SAS:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus26.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 13</strong>: go to that directory to see the file cchs3.sas7dbat</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus27.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="option-2-processing-data-using-pspp-free" class="level4"><h4 class="anchored" data-anchor-id="option-2-processing-data-using-pspp-free">Option 2: Processing data using PSPP (Free)</h4>
<p>PSPP is a free package; alternative to commercial software SPSS. We can use the same SPSS codes to read the datafile into PSPP, and save.</p>
<ul>
<li>
<strong>Step 1</strong>: Get the free PSPP software from the website: <a href="http://www.gnu.org/software/pspp/">www.gnu.org/software/pspp/</a>
</li>
</ul>
<p>PSPP is available for GNU/Hurd, GNU/Linux, Darwin (Mac OS X), OpenBSD, NetBSD, FreeBSD, and Windows</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus30.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>For windows, download appropriate version.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppdownload0.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Download the file</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppdownload.png" class="img-fluid" style="width:25.0%"></p>
</div>
</div>
<p>Install</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppinstall.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppinstall2.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppinstall3.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Click the icon shorcut after installing</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/psppicon.png" class="img-fluid" style="width:25.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Open PSPP</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus31.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Go to ‘file’ menu and click ‘open’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus32.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 4</strong>: Specify the <em>readfile.sps</em> file from the ‘SAS_SPSS’ folder.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus33.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>You will see the following file:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX33.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: Similar to before, change the directories as appropriate. Get rid of the extra lines of codes. Resulting codes are as follows (you can copy and replace the code in the file with the following codes):</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>file handle infile<span class="sc">/</span>name <span class="ot">=</span> <span class="st">'C:\CCHS\Data\cchs_cycle3-1CD\DATA\hs.txt'</span>.</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data list file <span class="ot">=</span> infile notable<span class="sc">/</span>.</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hs_i.sps"</span>.</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsvale.sps"</span>.</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsvare.sps"</span>.</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"C:\CCHS\Data\cchs_cycle3-1CD\SAS_SPSS\Layouts\hs\hsmiss.sps"</span>.</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>execute.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusX34.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>For Mac users, it should be as follows (e.g., <code>username</code> should be your user name, if you are saving under the path <code>"/Users/username/CCHS/Data/"</code>):</p>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>file handle infile<span class="sc">/</span>name <span class="ot">=</span><span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/Data/hs.txt"</span>.</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>data list file <span class="ot">=</span> infile notable<span class="sc">/</span>.</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hs_i.sps"</span>.</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsvale.sps"</span>.</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsvare.sps"</span>.</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>include file <span class="ot">=</span> <span class="st">"/Users/username/CCHS/Data/cchs_cycle3-1CD/SAS_SPSS/Layouts/hs/hsmiss.sps"</span>.</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>execute.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>
<strong>Step 6</strong>: Run the codes.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus35.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 7</strong>: This is a large data, and will take some time to load the data into the PSPP data editor. <strong>Be patient</strong>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/waitX.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Once loading is complete, it will show the ‘output’ and ‘data view’.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacusNew.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus36.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<p>Note that, you will get error message, if your files were not in the correct path. In our example, the path was <code>"C:\CCHS\Data\"</code> for the zip file content (see the previous steps).</p>
<ul>
<li>
<strong>Step 7</strong>: You can also check the ‘variable view’.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus37.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 8</strong>: Save the data by clicking ‘File’ and then ‘save as …’</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus38.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 9</strong>: Specify the name of the datafile and the location / folder to save the data file.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus39.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 10</strong>: See the SAV file saved in the directory.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus40.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 11</strong>: To save CSV format data, use the following syntax.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>SAVE TRANSLATE</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>OUTFILE<span class="ot">=</span><span class="st">"C:/CCHS/Data/cchs3b.csv"</span>  </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>TYPE<span class="ot">=</span>CSV</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>FIELDNAMES      </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>CELLS<span class="ot">=</span>VALUES.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Note that, for categorical data, you can either save values or labels. For our purpose, we prefer values, and hence saved with values here.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus41.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 12</strong>: See the CSV file saved in the directory extracted from PSPP.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus42.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="option-3-processing-data-using-spss" class="level4"><h4 class="anchored" data-anchor-id="option-3-processing-data-using-spss">Option 3: Processing data using SPSS</h4>
<p>Log into <a href="https://ubc.onthehub.com">ubc.onthehub.com</a> to download SPSS. With your CWL account, UBC students should be able to download it. UBC <a href="https://it.ubc.ca/services/desktop-print-services/software-licensing/spss">IT website for SPSS</a> says:</p>
<p><code>The SPSS software license with UBC specifies that SPSS must only be used by UBC Faculty, Students, and Research Staff and only for Teaching and non-commercial Research purposes related to UBC.</code></p>
<p>Both network (for UBC owened devices) or standalone / home versions (for non-UBC owened devices) should be available. Once downloaded, same process of importing CCHS data in PSPP can also be applied on SPSS (same syntax files should work). Let me know if that is not the case.</p>
</section></section><section id="processing-data-in-r" class="level3"><h3 class="anchored" data-anchor-id="processing-data-in-r">Processing data in R</h3>
<section id="download-software" class="level4"><h4 class="anchored" data-anchor-id="download-software">Download software</h4>
<ul>
<li>
<strong>Step 1</strong>: Download either ‘R’ from CRAN <a href="https://www.r-project.org/">www.r-project.org</a> or ‘R open’ from Microsoft <a href="https://mran.microsoft.com/open">mran.microsoft.com/open</a>
</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R03.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R01.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 2</strong>: Download RStudio from <a href="https://www.rstudio.com/">www.rstudio.com/</a>
</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R02.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Open RStudio</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/R04.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
</section><section id="import-export-and-load-data-into-r" class="level4"><h4 class="anchored" data-anchor-id="import-export-and-load-data-into-r">Import, export and load data into R</h4>
<ul>
<li>
<strong>Step 1</strong>: Set working directory</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"C:/CCHS/Data/"</span><span class="op">)</span> <span class="co"># or something appropriate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>
<strong>Step 2</strong>: Read the dataset created from PSPP with cell values. We can also do a small check to see if the cell values are visible. For example, we choose a variable ‘CCCE_05A’, and tabulate it.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Hs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"cchs3b.csv"</span>, header <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">Hs</span><span class="op">$</span><span class="va">CCCE_05A</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus46.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 3</strong>: Save the RData file from R into a folder <code>SurveyData</code>:</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">Hs</span>, file <span class="op">=</span> <span class="st">"SurveyData/cchs3.RData"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>
<strong>Step 4</strong>: See the RData file saved in the directory extracted from R.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus43.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 5</strong>: Close R / RStudio and restart it. Environment window within RStudio should be empty.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus44.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>
<ul>
<li>
<strong>Step 6</strong>: Load the saved RData into R. Environment window within RStudio should have ‘Hs’ dataset.</li>
</ul>
<div class="cell">
<details><summary>Show the code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"SurveyData/cchs3.RData"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/accessing/abacus45.png" class="img-fluid" style="width:65.0%"></p>
</div>
</div>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./accessing1.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Survey data sources</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./accessing3.html" class="pagination-link">
        <span class="nav-page-text">Importing NHANES to R</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>