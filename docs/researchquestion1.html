<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>OER: Advanced Epidemiological Methods - Predictive question-1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./researchquestion2a.html" rel="next">
<link href="./researchquestion.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CVBPG0RQMY"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CVBPG0RQMY', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
<meta name="twitter:title" content="OER: Advanced Epidemiological Methods - Predictive question-1">
<meta name="twitter:description" content="This tutorial delves into processing and understanding the RHC dataset, which pertains to patients in the intensive care unit.">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked slimcontent">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Predictive question-1</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">OER: Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling6.html" class="sidebar-item-text sidebar-link">R Markdown</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">R Functions (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">Exercise (W)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Data accessing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">R Functions (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">Exercise (A)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research questions</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link active">Predictive question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">Predictive question-2a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link">Predictive question-2b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">Causal question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">Causal question-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">R functions (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz (Q)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">Causal roles</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">Confounding</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">Mediator</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">Collider</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">Z-bias</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">Collapsibility</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">Change-in-estimate</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">R functions (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">Quiz (R)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">Prediction ideas</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">Collinear predictors</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">Overfitting and performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">Bootstrap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">R functions (P)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">Quiz (P)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">Survey data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">CCHS: Revisiting PICOT</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link">CCHS: Assessing data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">CCHS: Bivariate analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">CCHS: Regression</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">CCHS: Performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">NHANES: Blood Pressure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">NHANES: Cholesterol</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">NHANES: Subsetting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">R functions (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">Quiz (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">Exercise (D)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">Missing data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata1.html" class="sidebar-item-text sidebar-link">Imputation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata2.html" class="sidebar-item-text sidebar-link">Imputation in NHANES</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata3.html" class="sidebar-item-text sidebar-link">Missing in outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata4.html" class="sidebar-item-text sidebar-link">Performance with NA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata5.html" class="sidebar-item-text sidebar-link">Subpopulations</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata6.html" class="sidebar-item-text sidebar-link">MCAR tests</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata7.html" class="sidebar-item-text sidebar-link">Effect modification</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">R functions (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataQ.html" class="sidebar-item-text sidebar-link">Quiz (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">Exercise (M)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">Propensity score</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore1.html" class="sidebar-item-text sidebar-link">Exact Matching (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore2.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore3.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (US)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore4.html" class="sidebar-item-text sidebar-link">PSM in BMI-diabetes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore5.html" class="sidebar-item-text sidebar-link">PSM with MI</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">R functions (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreQ.html" class="sidebar-item-text sidebar-link">Quiz (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">Exercise (S)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">Machine learning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning1.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning2.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning3.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning4.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning5.html" class="sidebar-item-text sidebar-link">Supervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6.html" class="sidebar-item-text sidebar-link">Unsupervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">R functions (L)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">ML in causal inference</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">R functions (C)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">Writing Tools</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1.html" class="sidebar-item-text sidebar-link">Collaborative Writing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting2.html" class="sidebar-item-text sidebar-link">Formatting Tools</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#working-with-a-predictive-question-using-rhc" id="toc-working-with-a-predictive-question-using-rhc" class="nav-link active" data-scroll-target="#working-with-a-predictive-question-using-rhc">Working with a Predictive question using RHC</a></li>
  <li><a href="#data-download" id="toc-data-download" class="nav-link" data-scroll-target="#data-download">Data download</a></li>
  <li><a href="#creating-analytic-data" id="toc-creating-analytic-data" class="nav-link" data-scroll-target="#creating-analytic-data">Creating analytic data</a></li>
  <li><a href="#notations" id="toc-notations" class="nav-link" data-scroll-target="#notations">Notations</a></li>
  <li><a href="#basic-data-exploration" id="toc-basic-data-exploration" class="nav-link" data-scroll-target="#basic-data-exploration">Basic data exploration</a></li>
  <li><a href="#predictive-vs.-causal-models" id="toc-predictive-vs.-causal-models" class="nav-link" data-scroll-target="#predictive-vs.-causal-models">Predictive vs.&nbsp;causal models</a></li>
  <li><a href="#video-content-optional" id="toc-video-content-optional" class="nav-link" data-scroll-target="#video-content-optional">Video content (optional)</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Predictive question-1</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="cell" data-hash="researchquestion1_cache/html/setup_8845ca562911897dbdad3ad98b3a4274">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Load required packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">require</span>(tableone)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">require</span>(Publish)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">require</span>(MatchIt)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">require</span>(cobalt)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">require</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="working-with-a-predictive-question-using-rhc" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="working-with-a-predictive-question-using-rhc">Working with a Predictive question using RHC</h3>
<p>This tutorial delves into processing and understanding the RHC dataset, which pertains to patients in the intensive care unit. The dataset is particularly centered around the implications of using right heart catheterization (RHC) in the early phases of care, with a focus on comparing two patient groups: those who received the RHC procedure and those who did not. The key outcome being analyzed is the 30-day survival rate. We will use this as an example to explain how to work with a predictive research question to build the analytic data.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="https://search.r-project.org/CRAN/refmans/ATbounds/html/RHC.html">Link for the RHC dataset</a></p>
</div></div><p><span class="citation" data-cites="connors1996effectiveness">(<a href="#ref-connors1996effectiveness" role="doc-biblioref">Connors et al. 1996</a>)</span> published an article in <a href="https://jamanetwork.com/journals/jama">JAMA</a>. The article is about managing or guiding therapy for the critically ill patients in the intensive care unit. They considered a number of <strong>health-outcomes</strong> such as</p>
<ul>
<li>
<em>length of stay</em> (hospital stay; measured continuously)</li>
<li>
<em>death</em> within certain period (death at any time up to 180 Days; measured as a binary variable)</li>
</ul>
<p>The original article was concerned about the association of right heart catheterization <em>(RHC)</em> use during the first 24 hours of care in the intensive care unit and the health-outcomes mentioned above.</p>
<p>But we will use this data as a case study for our <strong>prediction modelling</strong>. Traditional PICOT framework is designed primarily for clinical questions related to interventions, so when applying it to other areas like predictive modeling, some creative adaptation is needed.</p>
<table class="table">
<colgroup>
<col style="width: 11%">
<col style="width: 88%">
</colgroup>
<thead><tr class="header">
<th>Aspect</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>P</strong></td>
<td>Patients who are critically ill</td>
</tr>
<tr class="even">
<td><strong>I</strong></td>
<td>Not applicable, as we are dealing with a prediction model here</td>
</tr>
<tr class="odd">
<td><strong>C</strong></td>
<td>Not applicable, as we are dealing with a prediction model here</td>
</tr>
<tr class="even">
<td><strong>O</strong></td>
<td>in-hospital mortality</td>
</tr>
<tr class="odd">
<td><strong>T</strong></td>
<td>Between 1989 to 1994 (see the JAMA paper)</td>
</tr>
</tbody>
</table>

<div class="no-row-height column-margin column-container"><div class="">
<p>We are interested in developing a prediction model for the length of stay.</p>
</div></div></section><section id="data-download" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="data-download">Data download</h3>
<p>Data is freely available from <a href="https://hbiostat.org/data/">Vanderbilt Biostatistics</a>, variable list is available <a href="https://hbiostat.org/data/repo/rhc.html">here</a>, and the article is freely available from <a href="https://www.researchgate.net/profile/Neal-Dawson/publication/236311165_The_Effectiveness_of_Right_Heart_Catheterization_in_the_Initial_Care_of_Critically_III_Patients/links/00b4951fbfa1e051c1000000/The-Effectiveness-of-Right-Heart-Catheterization-in-the-Initial-Care-of-Critically-III-Patients.pdf?_sg%5B0%5D=w-YI1LtI2m34BhMjYD0VGHX5aKtQK5GC0LPU6kGK-_DtVUlZEYOa7_3mMfXk4kxuk0kkbv17Az5L_wNnXBrLnA.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_sg%5B1%5D=BjoiK5iqNKf-0ZsH38KwJJ4oUxNRQdVgxfyBeVp_c5Y1WEEspsEwnD1MXeDteXf4y5gsDvAKL-fwqzhoYP1OsiKWDDlX3ccFYn6yASd9oKKq.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_iepl=">researchgate</a>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="https://hbiostat.org/data/">RHC Data</a> amd search for right heart catheterization dataset</p>
</div><div class="">
<p><a href="https://hbiostat.org/data/repo/rhc.html">Variable list</a></p>
</div><div class="">
<p><a href="https://www.researchgate.net/profile/Neal-Dawson/publication/236311165_The_Effectiveness_of_Right_Heart_Catheterization_in_the_Initial_Care_of_Critically_III_Patients/links/00b4951fbfa1e051c1000000/The-Effectiveness-of-Right-Heart-Catheterization-in-the-Initial-Care-of-Critically-III-Patients.pdf?_sg%5B0%5D=w-YI1LtI2m34BhMjYD0VGHX5aKtQK5GC0LPU6kGK-_DtVUlZEYOa7_3mMfXk4kxuk0kkbv17Az5L_wNnXBrLnA.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_sg%5B1%5D=BjoiK5iqNKf-0ZsH38KwJJ4oUxNRQdVgxfyBeVp_c5Y1WEEspsEwnD1MXeDteXf4y5gsDvAKL-fwqzhoYP1OsiKWDDlX3ccFYn6yASd9oKKq.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_iepl=">Article</a></p>
</div></div>

<p>Let us download the dataset and save it for later use.</p>
<div class="cell" data-hash="researchquestion1_cache/html/download_18338561cb7e612bb39d036b0f9677ed">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>ObsData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://hbiostat.org/data/repo/rhc.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># Save the dataset</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="fu">saveRDS</span>(ObsData, <span class="at">file =</span> <span class="st">"Data/researchquestion/rhc.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="creating-analytic-data" class="level3"><h3 class="anchored" data-anchor-id="creating-analytic-data">Creating analytic data</h3>
<p>Now, we show the process of preparing analytic data, so that the variables generally match with the way the authors were coded in the original article. Below we show the process of creating the analytic data.</p>
<section id="add-column-for-outcome-length-of-stay" class="level4"><h4 class="anchored" data-anchor-id="add-column-for-outcome-length-of-stay">Add column for outcome: length of stay</h4>
<div class="cell" data-hash="researchquestion1_cache/html/addcol_a05cc55c04b75939ca9de34872474e38">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Length.of.Stay = date of discharge - study admission date</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>ObsData<span class="sc">$</span>Length.of.Stay <span class="ot">&lt;-</span> ObsData<span class="sc">$</span>dschdte <span class="sc">-</span> ObsData<span class="sc">$</span>sadmdte</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># Length.of.Stay = date of death - study admission date if date of discharge not available</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>ObsData<span class="sc">$</span>Length.of.Stay[<span class="fu">is.na</span>(ObsData<span class="sc">$</span>Length.of.Stay)] <span class="ot">&lt;-</span> </span>
<span id="cb3-6"><a href="#cb3-6"></a>  ObsData<span class="sc">$</span>dthdte[<span class="fu">is.na</span>(ObsData<span class="sc">$</span>Length.of.Stay)] <span class="sc">-</span> </span>
<span id="cb3-7"><a href="#cb3-7"></a>  ObsData<span class="sc">$</span>sadmdte[<span class="fu">is.na</span>(ObsData<span class="sc">$</span>Length.of.Stay)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="recoding-column-for-outcome-death" class="level4"><h4 class="anchored" data-anchor-id="recoding-column-for-outcome-death">Recoding column for outcome: death</h4>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Here we use the <code>ifelse</code> function to create a categorical variable. Other related functions are <code>cut</code>, <code>car</code>.</p>
</div>
</div>
<p>Let us recode our outcome variable as a binary variable:</p>
<div class="cell" data-hash="researchquestion1_cache/html/recode_8168ac437189814b692652103be6d25d">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>ObsData<span class="sc">$</span>death <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(ObsData<span class="sc">$</span>death <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="remove-unnecessary-outcomes" class="level4"><h4 class="anchored" data-anchor-id="remove-unnecessary-outcomes">Remove unnecessary outcomes</h4>
<p>Our next task is to remove unnecessary outcomes:</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are multiple ways to drop variables from a dataset. E.g., without using any package and using the <code>select</code> function from the dplyr package.</p>
</div>
</div>
<div class="cell" data-hash="researchquestion1_cache/html/remove_40920280e137a14d5a54bb179a5ecb22">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>ObsData <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ObsData, <span class="sc">!</span><span class="fu">c</span>(dthdte, lstctdte, dschdte, </span>
<span id="cb5-2"><a href="#cb5-2"></a>                            t3d30, dth30, surv2md1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="remove-unnecessary-and-problematic-variables" class="level4"><h4 class="anchored" data-anchor-id="remove-unnecessary-and-problematic-variables">Remove unnecessary and problematic variables</h4>
<p>Now we will drop unnecessary and problematic variables:</p>
<div class="cell" data-hash="researchquestion1_cache/html/remove2_405bc850e40d8825af50cfe359230cb4">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>ObsData <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ObsData, <span class="sc">!</span><span class="fu">c</span>(sadmdte, ptid, X, adld3p, urin1, cat2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="basic-data-cleanup" class="level4"><h4 class="anchored" data-anchor-id="basic-data-cleanup">Basic data cleanup</h4>
<p>Now we will do some basic cleanup.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>We an use the <code>lapply</code> function to convert all categorical variables to factors at once. Not that a similar function to <code>lapply</code> is <code>sapply</code>. The main difference is that sapply attempts to convert the result into a vector or matrix, while lapply returns a list.</p>
</div>
</div>
<div class="cell" data-hash="researchquestion1_cache/html/cleanup_6c42f91f45297a464144b9d6a0f0e069">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># convert all categorical variables to factors</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>factors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cat1"</span>, <span class="st">"ca"</span>, <span class="st">"death"</span>, <span class="st">"cardiohx"</span>, <span class="st">"chfhx"</span>, </span>
<span id="cb7-3"><a href="#cb7-3"></a>             <span class="st">"dementhx"</span>, <span class="st">"psychhx"</span>, <span class="st">"chrpulhx"</span>, <span class="st">"renalhx"</span>, </span>
<span id="cb7-4"><a href="#cb7-4"></a>             <span class="st">"liverhx"</span>, <span class="st">"gibledhx"</span>, <span class="st">"malighx"</span>, <span class="st">"immunhx"</span>, </span>
<span id="cb7-5"><a href="#cb7-5"></a>             <span class="st">"transhx"</span>, <span class="st">"amihx"</span>, <span class="st">"sex"</span>, <span class="st">"dnr1"</span>, <span class="st">"ninsclas"</span>, </span>
<span id="cb7-6"><a href="#cb7-6"></a>             <span class="st">"resp"</span>, <span class="st">"card"</span>, <span class="st">"neuro"</span>, <span class="st">"gastr"</span>, <span class="st">"renal"</span>, <span class="st">"meta"</span>, </span>
<span id="cb7-7"><a href="#cb7-7"></a>             <span class="st">"hema"</span>, <span class="st">"seps"</span>, <span class="st">"trauma"</span>, <span class="st">"ortho"</span>, <span class="st">"race"</span>, </span>
<span id="cb7-8"><a href="#cb7-8"></a>             <span class="st">"income"</span>)</span>
<span id="cb7-9"><a href="#cb7-9"></a>ObsData[factors] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(ObsData[factors], as.factor)</span>
<span id="cb7-10"><a href="#cb7-10"></a></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co"># convert RHC.use (RHC vs. No RHC) to a binary variable</span></span>
<span id="cb7-12"><a href="#cb7-12"></a>ObsData<span class="sc">$</span>RHC.use <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(ObsData<span class="sc">$</span>swang1 <span class="sc">==</span> <span class="st">"RHC"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb7-13"><a href="#cb7-13"></a>ObsData <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ObsData, <span class="sc">!</span>swang1)</span>
<span id="cb7-14"><a href="#cb7-14"></a></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co"># Categorize the variables to match with the original paper</span></span>
<span id="cb7-16"><a href="#cb7-16"></a>ObsData<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">cut</span>(ObsData<span class="sc">$</span>age, <span class="at">breaks=</span><span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="cn">Inf</span>),</span>
<span id="cb7-17"><a href="#cb7-17"></a>                   <span class="at">right=</span><span class="cn">FALSE</span>)</span>
<span id="cb7-18"><a href="#cb7-18"></a>ObsData<span class="sc">$</span>race <span class="ot">&lt;-</span> <span class="fu">factor</span>(ObsData<span class="sc">$</span>race, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"white"</span>,<span class="st">"black"</span>,<span class="st">"other"</span>))</span>
<span id="cb7-19"><a href="#cb7-19"></a>ObsData<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ObsData<span class="sc">$</span>sex)</span>
<span id="cb7-20"><a href="#cb7-20"></a>ObsData<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">relevel</span>(ObsData<span class="sc">$</span>sex, <span class="at">ref =</span> <span class="st">"Male"</span>)</span>
<span id="cb7-21"><a href="#cb7-21"></a>ObsData<span class="sc">$</span>cat1 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ObsData<span class="sc">$</span>cat1)</span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="fu">levels</span>(ObsData<span class="sc">$</span>cat1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ARF"</span>,<span class="st">"CHF"</span>,<span class="st">"Other"</span>,<span class="st">"Other"</span>,<span class="st">"Other"</span>,</span>
<span id="cb7-23"><a href="#cb7-23"></a>                          <span class="st">"Other"</span>,<span class="st">"Other"</span>,<span class="st">"MOSF"</span>,<span class="st">"MOSF"</span>)</span>
<span id="cb7-24"><a href="#cb7-24"></a>ObsData<span class="sc">$</span>ca <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ObsData<span class="sc">$</span>ca)</span>
<span id="cb7-25"><a href="#cb7-25"></a><span class="fu">levels</span>(ObsData<span class="sc">$</span>ca) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Metastatic"</span>,<span class="st">"None"</span>,<span class="st">"Localized (Yes)"</span>)</span>
<span id="cb7-26"><a href="#cb7-26"></a>ObsData<span class="sc">$</span>ca <span class="ot">&lt;-</span> <span class="fu">factor</span>(ObsData<span class="sc">$</span>ca, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"None"</span>, <span class="st">"Localized (Yes)"</span>,</span>
<span id="cb7-27"><a href="#cb7-27"></a>                                          <span class="st">"Metastatic"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="rename-variables" class="level4"><h4 class="anchored" data-anchor-id="rename-variables">Rename variables</h4>
<div class="cell" data-hash="researchquestion1_cache/html/rename2_a1df78bc21a30e96d6d46f7e49d2f088">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Rename the variables</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">names</span>(ObsData) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Disease.category"</span>, <span class="st">"Cancer"</span>, <span class="st">"Death"</span>, <span class="st">"Cardiovascular"</span>, </span>
<span id="cb8-3"><a href="#cb8-3"></a>                    <span class="st">"Congestive.HF"</span>, <span class="st">"Dementia"</span>, <span class="st">"Psychiatric"</span>, <span class="st">"Pulmonary"</span>, </span>
<span id="cb8-4"><a href="#cb8-4"></a>                    <span class="st">"Renal"</span>, <span class="st">"Hepatic"</span>, <span class="st">"GI.Bleed"</span>, <span class="st">"Tumor"</span>, </span>
<span id="cb8-5"><a href="#cb8-5"></a>                    <span class="st">"Immunosupperssion"</span>, <span class="st">"Transfer.hx"</span>, <span class="st">"MI"</span>, <span class="st">"age"</span>, <span class="st">"sex"</span>, </span>
<span id="cb8-6"><a href="#cb8-6"></a>                    <span class="st">"edu"</span>, <span class="st">"DASIndex"</span>, <span class="st">"APACHE.score"</span>, <span class="st">"Glasgow.Coma.Score"</span>, </span>
<span id="cb8-7"><a href="#cb8-7"></a>                    <span class="st">"blood.pressure"</span>, <span class="st">"WBC"</span>, <span class="st">"Heart.rate"</span>, <span class="st">"Respiratory.rate"</span>, </span>
<span id="cb8-8"><a href="#cb8-8"></a>                    <span class="st">"Temperature"</span>, <span class="st">"PaO2vs.FIO2"</span>, <span class="st">"Albumin"</span>, <span class="st">"Hematocrit"</span>, </span>
<span id="cb8-9"><a href="#cb8-9"></a>                    <span class="st">"Bilirubin"</span>, <span class="st">"Creatinine"</span>, <span class="st">"Sodium"</span>, <span class="st">"Potassium"</span>, <span class="st">"PaCo2"</span>, </span>
<span id="cb8-10"><a href="#cb8-10"></a>                    <span class="st">"PH"</span>, <span class="st">"Weight"</span>, <span class="st">"DNR.status"</span>, <span class="st">"Medical.insurance"</span>, </span>
<span id="cb8-11"><a href="#cb8-11"></a>                    <span class="st">"Respiratory.Diag"</span>, <span class="st">"Cardiovascular.Diag"</span>, </span>
<span id="cb8-12"><a href="#cb8-12"></a>                    <span class="st">"Neurological.Diag"</span>, <span class="st">"Gastrointestinal.Diag"</span>, <span class="st">"Renal.Diag"</span>,</span>
<span id="cb8-13"><a href="#cb8-13"></a>                    <span class="st">"Metabolic.Diag"</span>, <span class="st">"Hematologic.Diag"</span>, <span class="st">"Sepsis.Diag"</span>, </span>
<span id="cb8-14"><a href="#cb8-14"></a>                    <span class="st">"Trauma.Diag"</span>, <span class="st">"Orthopedic.Diag"</span>, <span class="st">"race"</span>, <span class="st">"income"</span>, </span>
<span id="cb8-15"><a href="#cb8-15"></a>                    <span class="st">"Length.of.Stay"</span>, <span class="st">"RHC.use"</span>)</span>
<span id="cb8-16"><a href="#cb8-16"></a></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co"># Save the dataset</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="fu">saveRDS</span>(ObsData, <span class="at">file =</span> <span class="st">"Data/researchquestion/rhcAnalytic.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="notations" class="level3"><h3 class="anchored" data-anchor-id="notations">Notations</h3>
<p>let us introduce with some notations:</p>
<table class="table">
<thead><tr class="header">
<th>Notations</th>
<th>Example in RHC study</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<span class="math inline">\(Y_1\)</span>: Observed outcome</td>
<td>length of stay</td>
</tr>
<tr class="even">
<td>
<span class="math inline">\(Y_2\)</span>: Observed outcome</td>
<td>death within 3 months</td>
</tr>
<tr class="odd">
<td>
<span class="math inline">\(L\)</span>: Covariates</td>
<td>See below</td>
</tr>
</tbody>
</table></section><section id="basic-data-exploration" class="level3"><h3 class="anchored" data-anchor-id="basic-data-exploration">Basic data exploration</h3>
<section id="dimension" class="level4"><h4 class="anchored" data-anchor-id="dimension">Dimension</h4>
<p>Let us the how many rows and columns we have:</p>
<div class="cell" data-hash="researchquestion1_cache/html/dim_e881887cdeabb7eea2b90f5aecaa95de">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">dim</span>(ObsData)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt; [1] 5735   52</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="comprehensive-summary" class="level4"><h4 class="anchored" data-anchor-id="comprehensive-summary">Comprehensive summary</h4>
<p>Let us see the summary statistics of the variables:</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>To see the comprehensive summary of the variables, we can use the <code>skim</code> function form skimr package or <code>describe</code> function from rms package</p>
</div>
</div>
<div class="cell" data-hash="researchquestion1_cache/html/summary_98a33827dfbcc73c01b3b05b63eaea27">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">require</span>(skimr)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#&gt; Loading required package: skimr</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#&gt; Warning: package 'skimr' was built under R version 4.3.1</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="fu">skim</span>(ObsData)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">ObsData</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">5735</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">52</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">31</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">21</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 20%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 40%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Disease.category</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">ARF: 2490, MOS: 1626, Oth: 1163, CHF: 456</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cancer</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Non: 4379, Loc: 972, Met: 384</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Death</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1: 3722, 0: 2013</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cardiovascular</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 4722, 1: 1013</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Congestive.HF</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 4714, 1: 1021</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dementia</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 5171, 1: 564</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Psychiatric</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 5349, 1: 386</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pulmonary</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 4646, 1: 1089</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Renal</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 5480, 1: 255</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hepatic</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 5334, 1: 401</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GI.Bleed</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 5550, 1: 185</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tumor</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 4419, 1: 1316</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Immunosupperssion</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 4192, 1: 1543</td>
</tr>
<tr class="even">
<td style="text-align: left;">Transfer.hx</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 5073, 1: 662</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MI</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 5535, 1: 200</td>
</tr>
<tr class="even">
<td style="text-align: left;">age</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">[-I: 1424, [60: 1389, [70: 1338, [50: 917</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sex</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Mal: 3192, Fem: 2543</td>
</tr>
<tr class="even">
<td style="text-align: left;">DNR.status</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 5081, Yes: 654</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Medical.insurance</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Pri: 1698, Med: 1458, Pri: 1236, Med: 647</td>
</tr>
<tr class="even">
<td style="text-align: left;">Respiratory.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 3622, Yes: 2113</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cardiovascular.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 3804, Yes: 1931</td>
</tr>
<tr class="even">
<td style="text-align: left;">Neurological.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 5042, Yes: 693</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gastrointestinal.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 4793, Yes: 942</td>
</tr>
<tr class="even">
<td style="text-align: left;">Renal.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 5440, Yes: 295</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Metabolic.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 5470, Yes: 265</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hematologic.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 5381, Yes: 354</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sepsis.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 4704, Yes: 1031</td>
</tr>
<tr class="even">
<td style="text-align: left;">Trauma.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 5683, Yes: 52</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Orthopedic.Diag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">No: 5728, Yes: 7</td>
</tr>
<tr class="even">
<td style="text-align: left;">race</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">whi: 4460, bla: 920, oth: 355</td>
</tr>
<tr class="odd">
<td style="text-align: left;">income</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Und: 3226, $11: 1165, $25: 893, &gt; $: 451</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 19%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 6%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">edu</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11.68</td>
<td style="text-align: right;">3.15</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">10.00</td>
<td style="text-align: right;">12.00</td>
<td style="text-align: right;">13.00</td>
<td style="text-align: right;">30.00</td>
<td style="text-align: left;">▁▇▃▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">DASIndex</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">20.50</td>
<td style="text-align: right;">5.32</td>
<td style="text-align: right;">11.00</td>
<td style="text-align: right;">16.06</td>
<td style="text-align: right;">19.75</td>
<td style="text-align: right;">23.43</td>
<td style="text-align: right;">33.00</td>
<td style="text-align: left;">▃▇▆▂▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">APACHE.score</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">54.67</td>
<td style="text-align: right;">19.96</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">41.00</td>
<td style="text-align: right;">54.00</td>
<td style="text-align: right;">67.00</td>
<td style="text-align: right;">147.00</td>
<td style="text-align: left;">▂▇▅▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Glasgow.Coma.Score</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21.00</td>
<td style="text-align: right;">30.27</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">41.00</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: left;">▇▂▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">blood.pressure</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">78.52</td>
<td style="text-align: right;">38.05</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: right;">63.00</td>
<td style="text-align: right;">115.00</td>
<td style="text-align: right;">259.00</td>
<td style="text-align: left;">▆▇▆▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">WBC</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">15.65</td>
<td style="text-align: right;">11.87</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">8.40</td>
<td style="text-align: right;">14.10</td>
<td style="text-align: right;">20.05</td>
<td style="text-align: right;">192.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Heart.rate</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">115.18</td>
<td style="text-align: right;">41.24</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">97.00</td>
<td style="text-align: right;">124.00</td>
<td style="text-align: right;">141.00</td>
<td style="text-align: right;">250.00</td>
<td style="text-align: left;">▁▂▇▂▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Respiratory.rate</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">28.09</td>
<td style="text-align: right;">14.08</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">14.00</td>
<td style="text-align: right;">30.00</td>
<td style="text-align: right;">38.00</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: left;">▅▇▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Temperature</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">37.62</td>
<td style="text-align: right;">1.77</td>
<td style="text-align: right;">27.00</td>
<td style="text-align: right;">36.09</td>
<td style="text-align: right;">38.09</td>
<td style="text-align: right;">39.00</td>
<td style="text-align: right;">43.00</td>
<td style="text-align: left;">▁▁▅▇▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">PaO2vs.FIO2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">222.27</td>
<td style="text-align: right;">114.95</td>
<td style="text-align: right;">11.60</td>
<td style="text-align: right;">133.31</td>
<td style="text-align: right;">202.50</td>
<td style="text-align: right;">316.62</td>
<td style="text-align: right;">937.50</td>
<td style="text-align: left;">▇▇▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Albumin</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.09</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.30</td>
<td style="text-align: right;">2.60</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: right;">29.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hematocrit</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">31.87</td>
<td style="text-align: right;">8.36</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">26.10</td>
<td style="text-align: right;">30.00</td>
<td style="text-align: right;">36.30</td>
<td style="text-align: right;">66.19</td>
<td style="text-align: left;">▁▆▇▃▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bilirubin</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.27</td>
<td style="text-align: right;">4.80</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">1.01</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">58.20</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Creatinine</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.13</td>
<td style="text-align: right;">2.05</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.50</td>
<td style="text-align: right;">2.40</td>
<td style="text-align: right;">25.10</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sodium</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">136.77</td>
<td style="text-align: right;">7.66</td>
<td style="text-align: right;">101.00</td>
<td style="text-align: right;">132.00</td>
<td style="text-align: right;">136.00</td>
<td style="text-align: right;">142.00</td>
<td style="text-align: right;">178.00</td>
<td style="text-align: left;">▁▂▇▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Potassium</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.07</td>
<td style="text-align: right;">1.03</td>
<td style="text-align: right;">1.10</td>
<td style="text-align: right;">3.40</td>
<td style="text-align: right;">3.80</td>
<td style="text-align: right;">4.60</td>
<td style="text-align: right;">11.90</td>
<td style="text-align: left;">▂▇▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PaCo2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">38.75</td>
<td style="text-align: right;">13.18</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">31.00</td>
<td style="text-align: right;">37.00</td>
<td style="text-align: right;">42.00</td>
<td style="text-align: right;">156.00</td>
<td style="text-align: left;">▃▇▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">PH</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7.39</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">6.58</td>
<td style="text-align: right;">7.34</td>
<td style="text-align: right;">7.40</td>
<td style="text-align: right;">7.46</td>
<td style="text-align: right;">7.77</td>
<td style="text-align: left;">▁▁▂▇▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Weight</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">67.83</td>
<td style="text-align: right;">29.06</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">56.30</td>
<td style="text-align: right;">70.00</td>
<td style="text-align: right;">83.70</td>
<td style="text-align: right;">244.00</td>
<td style="text-align: left;">▂▇▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Length.of.Stay</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21.56</td>
<td style="text-align: right;">25.87</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">7.00</td>
<td style="text-align: right;">14.00</td>
<td style="text-align: right;">25.00</td>
<td style="text-align: right;">394.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RHC.use</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▅</td>
</tr>
</tbody>
</table>
</div>
</div>
</section></section><section id="predictive-vs.-causal-models" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="predictive-vs.-causal-models">Predictive vs.&nbsp;causal models</h3>
<p>The focus of current document is predictive models (e.g., predicting a health outcome).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/researchquestion/dagpred.png" class="img-fluid" style="width:50.0%"></p>
</div>
</div>
<p>The original article by <span class="citation" data-cites="connors1996effectiveness">Connors et al. (<a href="#ref-connors1996effectiveness" role="doc-biblioref">1996</a>)</span> focused on the association of</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="citation" data-cites="connors1996effectiveness">Connors et al. (<a href="#ref-connors1996effectiveness" role="doc-biblioref">1996</a>)</span></p>
</div></div><ul>
<li>right heart catheterization <em>(RHC)</em> use during the first 24 hours of care in the intensive care unit (exposure of primary interest) and</li>
<li>the health-outcomes (such as length of stay).</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Images/researchquestion/dagci.png" class="img-fluid" style="width:50.0%"></p>
</div>
</div>
<p>Then the PICOT table changes as follows:</p>
<table class="table">
<thead><tr class="header">
<th>Aspect</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>P</strong></td>
<td>Patients who are critically ill</td>
</tr>
<tr class="even">
<td><strong>I</strong></td>
<td>Receiving a right heart catheterization (RHC)</td>
</tr>
<tr class="odd">
<td><strong>C</strong></td>
<td>Not receiving a right heart catheterization (RHC)</td>
</tr>
<tr class="even">
<td><strong>O</strong></td>
<td>length of stay</td>
</tr>
<tr class="odd">
<td><strong>T</strong></td>
<td>Between 1989 to 1994 (see the JAMA paper)</td>
</tr>
</tbody>
</table></section><section id="video-content-optional" class="level3"><h3 class="anchored" data-anchor-id="video-content-optional">Video content (optional)</h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For those who prefer a video walkthrough, feel free to watch the video below, which offers a description of an earlier version of the above content.</p>
</div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
<iframe src="https://www.youtube.com/embed/P37_A7sFTVY" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen="">
</iframe>
</div>
</section><section id="references" class="level3"><h3 class="anchored" data-anchor-id="references">References</h3>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-connors1996effectiveness" class="csl-entry" role="doc-biblioentry">
Connors, Alfred F, Theodore Speroff, Neal V Dawson, Charles Thomas, Frank E Harrell, Douglas Wagner, Norman Desbiens, et al. 1996. <span>“The Effectiveness of Right Heart Catheterization in the Initial Care of Critically III Patients.”</span> <em>Jama</em> 276 (11): 889–97. <a href="https://tinyurl.com/Connors1996">https://tinyurl.com/Connors1996</a>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./researchquestion.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Research questions</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./researchquestion2a.html" class="pagination-link">
        <span class="nav-page-text">Predictive question-2a</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb11" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">## Predictive question-1 {.unnumbered}</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="in">```{r setup, warning=FALSE, message=FALSE, cache=TRUE}</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co"># Load required packages</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="fu">require</span>(tableone)</span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="fu">require</span>(Publish)</span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="fu">require</span>(MatchIt)</span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="fu">require</span>(cobalt)</span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="fu">require</span>(ggplot2)</span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="in">```</span></span>
<span id="cb11-11"><a href="#cb11-11"></a></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="fu">### Working with a Predictive question using RHC</span></span>
<span id="cb11-13"><a href="#cb11-13"></a></span>
<span id="cb11-14"><a href="#cb11-14"></a>This tutorial delves into processing and understanding the RHC dataset, which pertains to patients in the intensive care unit. The dataset is particularly centered around the implications of using right heart catheterization (RHC) in the early phases of care, with a focus on comparing two patient groups: those who received the RHC procedure and those who did not. The key outcome being analyzed is the 30-day survival rate. We will use this as an example to explain how to work with a predictive research question to build the analytic data.</span>
<span id="cb11-15"><a href="#cb11-15"></a></span>
<span id="cb11-16"><a href="#cb11-16"></a>::: column-margin</span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="co">[</span><span class="ot">Link for the RHC dataset</span><span class="co">](https://search.r-project.org/CRAN/refmans/ATbounds/html/RHC.html)</span></span>
<span id="cb11-18"><a href="#cb11-18"></a>:::</span>
<span id="cb11-19"><a href="#cb11-19"></a></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="co">[</span><span class="ot">@connors1996effectiveness</span><span class="co">]</span> published an article in <span class="co">[</span><span class="ot">JAMA</span><span class="co">](https://jamanetwork.com/journals/jama)</span>. The article is about managing or guiding therapy for the critically ill patients in the intensive care unit. They considered a number of **health-outcomes** such as</span>
<span id="cb11-21"><a href="#cb11-21"></a></span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="ss">-   </span>*length of stay* (hospital stay; measured continuously)</span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="ss">-   </span>*death* within certain period (death at any time up to 180 Days; measured as a binary variable)</span>
<span id="cb11-24"><a href="#cb11-24"></a></span>
<span id="cb11-25"><a href="#cb11-25"></a>The original article was concerned about the association of right heart catheterization *(RHC)* use during the first 24 hours of care in the intensive care unit and the health-outcomes mentioned above.</span>
<span id="cb11-26"><a href="#cb11-26"></a></span>
<span id="cb11-27"><a href="#cb11-27"></a>But we will use this data as a case study for our **prediction modelling**. Traditional PICOT framework is designed primarily for clinical questions related to interventions, so when applying it to other areas like predictive modeling, some creative adaptation is needed.</span>
<span id="cb11-28"><a href="#cb11-28"></a></span>
<span id="cb11-29"><a href="#cb11-29"></a>| Aspect | Description                                                    |</span>
<span id="cb11-30"><a href="#cb11-30"></a>|--------|----------------------------------------------------------------|</span>
<span id="cb11-31"><a href="#cb11-31"></a>| **P**  | Patients who are critically ill                                |</span>
<span id="cb11-32"><a href="#cb11-32"></a>| **I**  | Not applicable, as we are dealing with a prediction model here |</span>
<span id="cb11-33"><a href="#cb11-33"></a>| **C**  | Not applicable, as we are dealing with a prediction model here |</span>
<span id="cb11-34"><a href="#cb11-34"></a>| **O**  | in-hospital mortality                                          |</span>
<span id="cb11-35"><a href="#cb11-35"></a>| **T**  | Between 1989 to 1994 (see the JAMA paper)                      |</span>
<span id="cb11-36"><a href="#cb11-36"></a></span>
<span id="cb11-37"><a href="#cb11-37"></a>::: column-margin</span>
<span id="cb11-38"><a href="#cb11-38"></a>We are interested in developing a prediction model for the length of stay.</span>
<span id="cb11-39"><a href="#cb11-39"></a>:::</span>
<span id="cb11-40"><a href="#cb11-40"></a></span>
<span id="cb11-41"><a href="#cb11-41"></a><span class="fu">### Data download</span></span>
<span id="cb11-42"><a href="#cb11-42"></a></span>
<span id="cb11-43"><a href="#cb11-43"></a>Data is freely available from <span class="co">[</span><span class="ot">Vanderbilt Biostatistics</span><span class="co">](https://hbiostat.org/data/)</span>, variable list is available <span class="co">[</span><span class="ot">here</span><span class="co">](https://hbiostat.org/data/repo/rhc.html)</span>, and the article is freely available from <span class="co">[</span><span class="ot">researchgate</span><span class="co">](https://www.researchgate.net/profile/Neal-Dawson/publication/236311165_The_Effectiveness_of_Right_Heart_Catheterization_in_the_Initial_Care_of_Critically_III_Patients/links/00b4951fbfa1e051c1000000/The-Effectiveness-of-Right-Heart-Catheterization-in-the-Initial-Care-of-Critically-III-Patients.pdf?_sg%5B0%5D=w-YI1LtI2m34BhMjYD0VGHX5aKtQK5GC0LPU6kGK-_DtVUlZEYOa7_3mMfXk4kxuk0kkbv17Az5L_wNnXBrLnA.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_sg%5B1%5D=BjoiK5iqNKf-0ZsH38KwJJ4oUxNRQdVgxfyBeVp_c5Y1WEEspsEwnD1MXeDteXf4y5gsDvAKL-fwqzhoYP1OsiKWDDlX3ccFYn6yASd9oKKq.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_iepl=)</span>.</span>
<span id="cb11-44"><a href="#cb11-44"></a></span>
<span id="cb11-45"><a href="#cb11-45"></a>::: column-margin</span>
<span id="cb11-46"><a href="#cb11-46"></a><span class="co">[</span><span class="ot">RHC Data</span><span class="co">](https://hbiostat.org/data/)</span> amd search for right heart catheterization dataset</span>
<span id="cb11-47"><a href="#cb11-47"></a>:::</span>
<span id="cb11-48"><a href="#cb11-48"></a></span>
<span id="cb11-49"><a href="#cb11-49"></a>::: column-margin</span>
<span id="cb11-50"><a href="#cb11-50"></a><span class="co">[</span><span class="ot">Variable list</span><span class="co">](https://hbiostat.org/data/repo/rhc.html)</span></span>
<span id="cb11-51"><a href="#cb11-51"></a>:::</span>
<span id="cb11-52"><a href="#cb11-52"></a></span>
<span id="cb11-53"><a href="#cb11-53"></a>::: column-margin</span>
<span id="cb11-54"><a href="#cb11-54"></a><span class="co">[</span><span class="ot">Article</span><span class="co">](https://www.researchgate.net/profile/Neal-Dawson/publication/236311165_The_Effectiveness_of_Right_Heart_Catheterization_in_the_Initial_Care_of_Critically_III_Patients/links/00b4951fbfa1e051c1000000/The-Effectiveness-of-Right-Heart-Catheterization-in-the-Initial-Care-of-Critically-III-Patients.pdf?_sg%5B0%5D=w-YI1LtI2m34BhMjYD0VGHX5aKtQK5GC0LPU6kGK-_DtVUlZEYOa7_3mMfXk4kxuk0kkbv17Az5L_wNnXBrLnA.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_sg%5B1%5D=BjoiK5iqNKf-0ZsH38KwJJ4oUxNRQdVgxfyBeVp_c5Y1WEEspsEwnD1MXeDteXf4y5gsDvAKL-fwqzhoYP1OsiKWDDlX3ccFYn6yASd9oKKq.cxps1WB76ZpE9eh5Jec453LXKtQ43wuYJ387_IkhN7ZyqQpnMH19d5QsQjdkAz0unUi-vBbjV9HVdx0kvP9K_Q.roLHhvXmlNj_o0ZyC9Ka5c1zj3W4kOJkxuthqWjtSIbB7feq5Am4P47RlHjT0ukvWHAWFaPol2f58a_0v9azaw&amp;_iepl=)</span></span>
<span id="cb11-55"><a href="#cb11-55"></a>:::</span>
<span id="cb11-56"><a href="#cb11-56"></a></span>
<span id="cb11-57"><a href="#cb11-57"></a>Let us download the dataset and save it for later use.</span>
<span id="cb11-58"><a href="#cb11-58"></a></span>
<span id="cb11-59"><a href="#cb11-59"></a><span class="in">```{r download, cache=TRUE}</span></span>
<span id="cb11-60"><a href="#cb11-60"></a><span class="co"># Load the dataset</span></span>
<span id="cb11-61"><a href="#cb11-61"></a>ObsData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://hbiostat.org/data/repo/rhc.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-62"><a href="#cb11-62"></a></span>
<span id="cb11-63"><a href="#cb11-63"></a><span class="co"># Save the dataset</span></span>
<span id="cb11-64"><a href="#cb11-64"></a><span class="fu">saveRDS</span>(ObsData, <span class="at">file =</span> <span class="st">"Data/researchquestion/rhc.RDS"</span>)</span>
<span id="cb11-65"><a href="#cb11-65"></a><span class="in">```</span></span>
<span id="cb11-66"><a href="#cb11-66"></a></span>
<span id="cb11-67"><a href="#cb11-67"></a><span class="fu">### Creating analytic data</span></span>
<span id="cb11-68"><a href="#cb11-68"></a></span>
<span id="cb11-69"><a href="#cb11-69"></a>Now, we show the process of preparing analytic data, so that the variables generally match with the way the authors were coded in the original article. Below we show the process of creating the analytic data.</span>
<span id="cb11-70"><a href="#cb11-70"></a></span>
<span id="cb11-71"><a href="#cb11-71"></a><span class="fu">#### Add column for outcome: length of stay</span></span>
<span id="cb11-72"><a href="#cb11-72"></a></span>
<span id="cb11-73"><a href="#cb11-73"></a><span class="in">```{r addcol, cache=TRUE}</span></span>
<span id="cb11-74"><a href="#cb11-74"></a><span class="co"># Length.of.Stay = date of discharge - study admission date</span></span>
<span id="cb11-75"><a href="#cb11-75"></a>ObsData<span class="sc">$</span>Length.of.Stay <span class="ot">&lt;-</span> ObsData<span class="sc">$</span>dschdte <span class="sc">-</span> ObsData<span class="sc">$</span>sadmdte</span>
<span id="cb11-76"><a href="#cb11-76"></a></span>
<span id="cb11-77"><a href="#cb11-77"></a><span class="co"># Length.of.Stay = date of death - study admission date if date of discharge not available</span></span>
<span id="cb11-78"><a href="#cb11-78"></a>ObsData<span class="sc">$</span>Length.of.Stay[<span class="fu">is.na</span>(ObsData<span class="sc">$</span>Length.of.Stay)] <span class="ot">&lt;-</span> </span>
<span id="cb11-79"><a href="#cb11-79"></a>  ObsData<span class="sc">$</span>dthdte[<span class="fu">is.na</span>(ObsData<span class="sc">$</span>Length.of.Stay)] <span class="sc">-</span> </span>
<span id="cb11-80"><a href="#cb11-80"></a>  ObsData<span class="sc">$</span>sadmdte[<span class="fu">is.na</span>(ObsData<span class="sc">$</span>Length.of.Stay)]</span>
<span id="cb11-81"><a href="#cb11-81"></a><span class="in">```</span></span>
<span id="cb11-82"><a href="#cb11-82"></a></span>
<span id="cb11-83"><a href="#cb11-83"></a><span class="fu">#### Recoding column for outcome: death</span></span>
<span id="cb11-84"><a href="#cb11-84"></a></span>
<span id="cb11-85"><a href="#cb11-85"></a>::: callout-tip</span>
<span id="cb11-86"><a href="#cb11-86"></a>Here we use the <span class="in">`ifelse`</span> function to create a categorical variable. Other related functions are <span class="in">`cut`</span>, <span class="in">`car`</span>.</span>
<span id="cb11-87"><a href="#cb11-87"></a>:::</span>
<span id="cb11-88"><a href="#cb11-88"></a></span>
<span id="cb11-89"><a href="#cb11-89"></a>Let us recode our outcome variable as a binary variable:</span>
<span id="cb11-90"><a href="#cb11-90"></a></span>
<span id="cb11-91"><a href="#cb11-91"></a><span class="in">```{r recode, cache=TRUE}</span></span>
<span id="cb11-92"><a href="#cb11-92"></a>ObsData<span class="sc">$</span>death <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(ObsData<span class="sc">$</span>death <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb11-93"><a href="#cb11-93"></a><span class="in">```</span></span>
<span id="cb11-94"><a href="#cb11-94"></a></span>
<span id="cb11-95"><a href="#cb11-95"></a><span class="fu">#### Remove unnecessary outcomes</span></span>
<span id="cb11-96"><a href="#cb11-96"></a></span>
<span id="cb11-97"><a href="#cb11-97"></a>Our next task is to remove unnecessary outcomes:</span>
<span id="cb11-98"><a href="#cb11-98"></a></span>
<span id="cb11-99"><a href="#cb11-99"></a>::: callout-tip</span>
<span id="cb11-100"><a href="#cb11-100"></a>There are multiple ways to drop variables from a dataset. E.g., without using any package and using the <span class="in">`select`</span> function from the dplyr package.</span>
<span id="cb11-101"><a href="#cb11-101"></a>:::</span>
<span id="cb11-102"><a href="#cb11-102"></a></span>
<span id="cb11-103"><a href="#cb11-103"></a><span class="in">```{r remove, cache=TRUE}</span></span>
<span id="cb11-104"><a href="#cb11-104"></a>ObsData <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ObsData, <span class="sc">!</span><span class="fu">c</span>(dthdte, lstctdte, dschdte, </span>
<span id="cb11-105"><a href="#cb11-105"></a>                            t3d30, dth30, surv2md1))</span>
<span id="cb11-106"><a href="#cb11-106"></a><span class="in">```</span></span>
<span id="cb11-107"><a href="#cb11-107"></a></span>
<span id="cb11-108"><a href="#cb11-108"></a><span class="fu">#### Remove unnecessary and problematic variables</span></span>
<span id="cb11-109"><a href="#cb11-109"></a></span>
<span id="cb11-110"><a href="#cb11-110"></a>Now we will drop unnecessary and problematic variables:</span>
<span id="cb11-111"><a href="#cb11-111"></a></span>
<span id="cb11-112"><a href="#cb11-112"></a><span class="in">```{r remove2, cache=TRUE}</span></span>
<span id="cb11-113"><a href="#cb11-113"></a>ObsData <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ObsData, <span class="sc">!</span><span class="fu">c</span>(sadmdte, ptid, X, adld3p, urin1, cat2))</span>
<span id="cb11-114"><a href="#cb11-114"></a><span class="in">```</span></span>
<span id="cb11-115"><a href="#cb11-115"></a></span>
<span id="cb11-116"><a href="#cb11-116"></a><span class="fu">#### Basic data cleanup</span></span>
<span id="cb11-117"><a href="#cb11-117"></a></span>
<span id="cb11-118"><a href="#cb11-118"></a>Now we will do some basic cleanup.</span>
<span id="cb11-119"><a href="#cb11-119"></a></span>
<span id="cb11-120"><a href="#cb11-120"></a>::: callout-tip</span>
<span id="cb11-121"><a href="#cb11-121"></a>We an use the <span class="in">`lapply`</span> function to convert all categorical variables to factors at once. Not that a similar function to <span class="in">`lapply`</span> is <span class="in">`sapply`</span>. The main difference is that sapply attempts to convert the result into a vector or matrix, while lapply returns a list.</span>
<span id="cb11-122"><a href="#cb11-122"></a>:::</span>
<span id="cb11-123"><a href="#cb11-123"></a></span>
<span id="cb11-124"><a href="#cb11-124"></a><span class="in">```{r cleanup, cache=TRUE}</span></span>
<span id="cb11-125"><a href="#cb11-125"></a><span class="co"># convert all categorical variables to factors</span></span>
<span id="cb11-126"><a href="#cb11-126"></a>factors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cat1"</span>, <span class="st">"ca"</span>, <span class="st">"death"</span>, <span class="st">"cardiohx"</span>, <span class="st">"chfhx"</span>, </span>
<span id="cb11-127"><a href="#cb11-127"></a>             <span class="st">"dementhx"</span>, <span class="st">"psychhx"</span>, <span class="st">"chrpulhx"</span>, <span class="st">"renalhx"</span>, </span>
<span id="cb11-128"><a href="#cb11-128"></a>             <span class="st">"liverhx"</span>, <span class="st">"gibledhx"</span>, <span class="st">"malighx"</span>, <span class="st">"immunhx"</span>, </span>
<span id="cb11-129"><a href="#cb11-129"></a>             <span class="st">"transhx"</span>, <span class="st">"amihx"</span>, <span class="st">"sex"</span>, <span class="st">"dnr1"</span>, <span class="st">"ninsclas"</span>, </span>
<span id="cb11-130"><a href="#cb11-130"></a>             <span class="st">"resp"</span>, <span class="st">"card"</span>, <span class="st">"neuro"</span>, <span class="st">"gastr"</span>, <span class="st">"renal"</span>, <span class="st">"meta"</span>, </span>
<span id="cb11-131"><a href="#cb11-131"></a>             <span class="st">"hema"</span>, <span class="st">"seps"</span>, <span class="st">"trauma"</span>, <span class="st">"ortho"</span>, <span class="st">"race"</span>, </span>
<span id="cb11-132"><a href="#cb11-132"></a>             <span class="st">"income"</span>)</span>
<span id="cb11-133"><a href="#cb11-133"></a>ObsData[factors] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(ObsData[factors], as.factor)</span>
<span id="cb11-134"><a href="#cb11-134"></a></span>
<span id="cb11-135"><a href="#cb11-135"></a><span class="co"># convert RHC.use (RHC vs. No RHC) to a binary variable</span></span>
<span id="cb11-136"><a href="#cb11-136"></a>ObsData<span class="sc">$</span>RHC.use <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(ObsData<span class="sc">$</span>swang1 <span class="sc">==</span> <span class="st">"RHC"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb11-137"><a href="#cb11-137"></a>ObsData <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ObsData, <span class="sc">!</span>swang1)</span>
<span id="cb11-138"><a href="#cb11-138"></a></span>
<span id="cb11-139"><a href="#cb11-139"></a><span class="co"># Categorize the variables to match with the original paper</span></span>
<span id="cb11-140"><a href="#cb11-140"></a>ObsData<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">cut</span>(ObsData<span class="sc">$</span>age, <span class="at">breaks=</span><span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="cn">Inf</span>),</span>
<span id="cb11-141"><a href="#cb11-141"></a>                   <span class="at">right=</span><span class="cn">FALSE</span>)</span>
<span id="cb11-142"><a href="#cb11-142"></a>ObsData<span class="sc">$</span>race <span class="ot">&lt;-</span> <span class="fu">factor</span>(ObsData<span class="sc">$</span>race, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"white"</span>,<span class="st">"black"</span>,<span class="st">"other"</span>))</span>
<span id="cb11-143"><a href="#cb11-143"></a>ObsData<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ObsData<span class="sc">$</span>sex)</span>
<span id="cb11-144"><a href="#cb11-144"></a>ObsData<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">relevel</span>(ObsData<span class="sc">$</span>sex, <span class="at">ref =</span> <span class="st">"Male"</span>)</span>
<span id="cb11-145"><a href="#cb11-145"></a>ObsData<span class="sc">$</span>cat1 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ObsData<span class="sc">$</span>cat1)</span>
<span id="cb11-146"><a href="#cb11-146"></a><span class="fu">levels</span>(ObsData<span class="sc">$</span>cat1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ARF"</span>,<span class="st">"CHF"</span>,<span class="st">"Other"</span>,<span class="st">"Other"</span>,<span class="st">"Other"</span>,</span>
<span id="cb11-147"><a href="#cb11-147"></a>                          <span class="st">"Other"</span>,<span class="st">"Other"</span>,<span class="st">"MOSF"</span>,<span class="st">"MOSF"</span>)</span>
<span id="cb11-148"><a href="#cb11-148"></a>ObsData<span class="sc">$</span>ca <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(ObsData<span class="sc">$</span>ca)</span>
<span id="cb11-149"><a href="#cb11-149"></a><span class="fu">levels</span>(ObsData<span class="sc">$</span>ca) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Metastatic"</span>,<span class="st">"None"</span>,<span class="st">"Localized (Yes)"</span>)</span>
<span id="cb11-150"><a href="#cb11-150"></a>ObsData<span class="sc">$</span>ca <span class="ot">&lt;-</span> <span class="fu">factor</span>(ObsData<span class="sc">$</span>ca, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"None"</span>, <span class="st">"Localized (Yes)"</span>,</span>
<span id="cb11-151"><a href="#cb11-151"></a>                                          <span class="st">"Metastatic"</span>))</span>
<span id="cb11-152"><a href="#cb11-152"></a><span class="in">```</span></span>
<span id="cb11-153"><a href="#cb11-153"></a></span>
<span id="cb11-154"><a href="#cb11-154"></a><span class="fu">#### Rename variables</span></span>
<span id="cb11-155"><a href="#cb11-155"></a></span>
<span id="cb11-156"><a href="#cb11-156"></a><span class="in">```{r rename2, cache=TRUE}</span></span>
<span id="cb11-157"><a href="#cb11-157"></a><span class="co"># Rename the variables</span></span>
<span id="cb11-158"><a href="#cb11-158"></a><span class="fu">names</span>(ObsData) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Disease.category"</span>, <span class="st">"Cancer"</span>, <span class="st">"Death"</span>, <span class="st">"Cardiovascular"</span>, </span>
<span id="cb11-159"><a href="#cb11-159"></a>                    <span class="st">"Congestive.HF"</span>, <span class="st">"Dementia"</span>, <span class="st">"Psychiatric"</span>, <span class="st">"Pulmonary"</span>, </span>
<span id="cb11-160"><a href="#cb11-160"></a>                    <span class="st">"Renal"</span>, <span class="st">"Hepatic"</span>, <span class="st">"GI.Bleed"</span>, <span class="st">"Tumor"</span>, </span>
<span id="cb11-161"><a href="#cb11-161"></a>                    <span class="st">"Immunosupperssion"</span>, <span class="st">"Transfer.hx"</span>, <span class="st">"MI"</span>, <span class="st">"age"</span>, <span class="st">"sex"</span>, </span>
<span id="cb11-162"><a href="#cb11-162"></a>                    <span class="st">"edu"</span>, <span class="st">"DASIndex"</span>, <span class="st">"APACHE.score"</span>, <span class="st">"Glasgow.Coma.Score"</span>, </span>
<span id="cb11-163"><a href="#cb11-163"></a>                    <span class="st">"blood.pressure"</span>, <span class="st">"WBC"</span>, <span class="st">"Heart.rate"</span>, <span class="st">"Respiratory.rate"</span>, </span>
<span id="cb11-164"><a href="#cb11-164"></a>                    <span class="st">"Temperature"</span>, <span class="st">"PaO2vs.FIO2"</span>, <span class="st">"Albumin"</span>, <span class="st">"Hematocrit"</span>, </span>
<span id="cb11-165"><a href="#cb11-165"></a>                    <span class="st">"Bilirubin"</span>, <span class="st">"Creatinine"</span>, <span class="st">"Sodium"</span>, <span class="st">"Potassium"</span>, <span class="st">"PaCo2"</span>, </span>
<span id="cb11-166"><a href="#cb11-166"></a>                    <span class="st">"PH"</span>, <span class="st">"Weight"</span>, <span class="st">"DNR.status"</span>, <span class="st">"Medical.insurance"</span>, </span>
<span id="cb11-167"><a href="#cb11-167"></a>                    <span class="st">"Respiratory.Diag"</span>, <span class="st">"Cardiovascular.Diag"</span>, </span>
<span id="cb11-168"><a href="#cb11-168"></a>                    <span class="st">"Neurological.Diag"</span>, <span class="st">"Gastrointestinal.Diag"</span>, <span class="st">"Renal.Diag"</span>,</span>
<span id="cb11-169"><a href="#cb11-169"></a>                    <span class="st">"Metabolic.Diag"</span>, <span class="st">"Hematologic.Diag"</span>, <span class="st">"Sepsis.Diag"</span>, </span>
<span id="cb11-170"><a href="#cb11-170"></a>                    <span class="st">"Trauma.Diag"</span>, <span class="st">"Orthopedic.Diag"</span>, <span class="st">"race"</span>, <span class="st">"income"</span>, </span>
<span id="cb11-171"><a href="#cb11-171"></a>                    <span class="st">"Length.of.Stay"</span>, <span class="st">"RHC.use"</span>)</span>
<span id="cb11-172"><a href="#cb11-172"></a></span>
<span id="cb11-173"><a href="#cb11-173"></a><span class="co"># Save the dataset</span></span>
<span id="cb11-174"><a href="#cb11-174"></a><span class="fu">saveRDS</span>(ObsData, <span class="at">file =</span> <span class="st">"Data/researchquestion/rhcAnalytic.RDS"</span>)</span>
<span id="cb11-175"><a href="#cb11-175"></a><span class="in">```</span></span>
<span id="cb11-176"><a href="#cb11-176"></a></span>
<span id="cb11-177"><a href="#cb11-177"></a><span class="fu">### Notations</span></span>
<span id="cb11-178"><a href="#cb11-178"></a></span>
<span id="cb11-179"><a href="#cb11-179"></a>let us introduce with some notations:</span>
<span id="cb11-180"><a href="#cb11-180"></a></span>
<span id="cb11-181"><a href="#cb11-181"></a>| Notations               | Example in RHC study  |</span>
<span id="cb11-182"><a href="#cb11-182"></a>|-------------------------|-----------------------|</span>
<span id="cb11-183"><a href="#cb11-183"></a>| $Y_1$: Observed outcome | length of stay        |</span>
<span id="cb11-184"><a href="#cb11-184"></a>| $Y_2$: Observed outcome | death within 3 months |</span>
<span id="cb11-185"><a href="#cb11-185"></a>| $L$: Covariates         | See below             |</span>
<span id="cb11-186"><a href="#cb11-186"></a></span>
<span id="cb11-187"><a href="#cb11-187"></a><span class="fu">### Basic data exploration</span></span>
<span id="cb11-188"><a href="#cb11-188"></a></span>
<span id="cb11-189"><a href="#cb11-189"></a><span class="fu">#### Dimension</span></span>
<span id="cb11-190"><a href="#cb11-190"></a></span>
<span id="cb11-191"><a href="#cb11-191"></a>Let us the how many rows and columns we have:</span>
<span id="cb11-192"><a href="#cb11-192"></a></span>
<span id="cb11-193"><a href="#cb11-193"></a><span class="in">```{r dim, cache=TRUE}</span></span>
<span id="cb11-194"><a href="#cb11-194"></a><span class="fu">dim</span>(ObsData)</span>
<span id="cb11-195"><a href="#cb11-195"></a><span class="in">```</span></span>
<span id="cb11-196"><a href="#cb11-196"></a></span>
<span id="cb11-197"><a href="#cb11-197"></a><span class="fu">#### Comprehensive summary</span></span>
<span id="cb11-198"><a href="#cb11-198"></a></span>
<span id="cb11-199"><a href="#cb11-199"></a>Let us see the summary statistics of the variables:</span>
<span id="cb11-200"><a href="#cb11-200"></a></span>
<span id="cb11-201"><a href="#cb11-201"></a>::: callout-tip</span>
<span id="cb11-202"><a href="#cb11-202"></a>To see the comprehensive summary of the variables, we can use the <span class="in">`skim`</span> function form skimr package or <span class="in">`describe`</span> function from rms package</span>
<span id="cb11-203"><a href="#cb11-203"></a>:::</span>
<span id="cb11-204"><a href="#cb11-204"></a></span>
<span id="cb11-205"><a href="#cb11-205"></a><span class="in">```{r summary, cache=TRUE}</span></span>
<span id="cb11-206"><a href="#cb11-206"></a><span class="fu">require</span>(skimr)</span>
<span id="cb11-207"><a href="#cb11-207"></a><span class="fu">skim</span>(ObsData)</span>
<span id="cb11-208"><a href="#cb11-208"></a><span class="in">```</span></span>
<span id="cb11-209"><a href="#cb11-209"></a></span>
<span id="cb11-210"><a href="#cb11-210"></a><span class="fu">### Predictive vs. causal models</span></span>
<span id="cb11-211"><a href="#cb11-211"></a></span>
<span id="cb11-212"><a href="#cb11-212"></a>The focus of current document is predictive models (e.g., predicting a health outcome).</span>
<span id="cb11-213"><a href="#cb11-213"></a></span>
<span id="cb11-214"><a href="#cb11-214"></a><span class="in">```{r plot27777, echo=FALSE, out.width = '50%'}</span></span>
<span id="cb11-215"><a href="#cb11-215"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/researchquestion/dagpred.png"</span>)</span>
<span id="cb11-216"><a href="#cb11-216"></a><span class="in">```</span></span>
<span id="cb11-217"><a href="#cb11-217"></a></span>
<span id="cb11-218"><a href="#cb11-218"></a>The original article by @connors1996effectiveness focused on the association of</span>
<span id="cb11-219"><a href="#cb11-219"></a></span>
<span id="cb11-220"><a href="#cb11-220"></a>::: column-margin</span>
<span id="cb11-221"><a href="#cb11-221"></a>@connors1996effectiveness</span>
<span id="cb11-222"><a href="#cb11-222"></a>:::</span>
<span id="cb11-223"><a href="#cb11-223"></a></span>
<span id="cb11-224"><a href="#cb11-224"></a><span class="ss">-   </span>right heart catheterization *(RHC)* use during the first 24 hours of care in the intensive care unit (exposure of primary interest) and</span>
<span id="cb11-225"><a href="#cb11-225"></a><span class="ss">-   </span>the health-outcomes (such as length of stay).</span>
<span id="cb11-226"><a href="#cb11-226"></a></span>
<span id="cb11-227"><a href="#cb11-227"></a><span class="in">```{r plot27777g, echo=FALSE, out.width = '50%'}</span></span>
<span id="cb11-228"><a href="#cb11-228"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"Images/researchquestion/dagci.png"</span>)</span>
<span id="cb11-229"><a href="#cb11-229"></a><span class="in">```</span></span>
<span id="cb11-230"><a href="#cb11-230"></a></span>
<span id="cb11-231"><a href="#cb11-231"></a>Then the PICOT table changes as follows:</span>
<span id="cb11-232"><a href="#cb11-232"></a></span>
<span id="cb11-233"><a href="#cb11-233"></a>| Aspect | Description                                       |</span>
<span id="cb11-234"><a href="#cb11-234"></a>|--------|---------------------------------------------------|</span>
<span id="cb11-235"><a href="#cb11-235"></a>| **P**  | Patients who are critically ill                   |</span>
<span id="cb11-236"><a href="#cb11-236"></a>| **I**  | Receiving a right heart catheterization (RHC)     |</span>
<span id="cb11-237"><a href="#cb11-237"></a>| **C**  | Not receiving a right heart catheterization (RHC) |</span>
<span id="cb11-238"><a href="#cb11-238"></a>| **O**  | length of stay                                    |</span>
<span id="cb11-239"><a href="#cb11-239"></a>| **T**  | Between 1989 to 1994 (see the JAMA paper)         |</span>
<span id="cb11-240"><a href="#cb11-240"></a></span>
<span id="cb11-241"><a href="#cb11-241"></a><span class="fu">### Video content (optional)</span></span>
<span id="cb11-242"><a href="#cb11-242"></a></span>
<span id="cb11-243"><a href="#cb11-243"></a>::: callout-tip</span>
<span id="cb11-244"><a href="#cb11-244"></a>For those who prefer a video walkthrough, feel free to watch the video below, which offers a description of an earlier version of the above content.</span>
<span id="cb11-245"><a href="#cb11-245"></a>:::</span>
<span id="cb11-246"><a href="#cb11-246"></a></span>
<span id="cb11-247"><a href="#cb11-247"></a>::: {style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"}</span>
<span id="cb11-248"><a href="#cb11-248"></a><span class="kw">&lt;iframe</span> <span class="er">src</span><span class="ot">=</span><span class="st">"https://www.youtube.com/embed/P37_A7sFTVY"</span> <span class="er">style</span><span class="ot">=</span><span class="st">"position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"</span> <span class="er">allowfullscreen</span><span class="kw">&gt;</span></span>
<span id="cb11-249"><a href="#cb11-249"></a></span>
<span id="cb11-250"><a href="#cb11-250"></a><span class="kw">&lt;/iframe&gt;</span></span>
<span id="cb11-251"><a href="#cb11-251"></a>:::</span>
<span id="cb11-252"><a href="#cb11-252"></a></span>
<span id="cb11-253"><a href="#cb11-253"></a><span class="fu">### References</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>