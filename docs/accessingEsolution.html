<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Advanced Epidemiological Methods - Exercise 1 Solution (A)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./accessingE2.html" rel="next">
<link href="./accessingE.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CVBPG0RQMY"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CVBPG0RQMY', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
<meta name="twitter:title" content="Advanced Epidemiological Methods - Exercise 1 Solution (A)">
<meta name="twitter:description" content="We will use the following article:">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Exercise 1 Solution (A)</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling6.html" class="sidebar-item-text sidebar-link">R Markdown</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">R Functions (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingS.html" class="sidebar-item-text sidebar-link">App (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">Exercise (W)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Accessing data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing0.html" class="sidebar-item-text sidebar-link">Concepts (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1i.html" class="sidebar-item-text sidebar-link">Descriptions</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing NHANES results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing5.html" class="sidebar-item-text sidebar-link">Importing NHIS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing7.html" class="sidebar-item-text sidebar-link">Linking mortality data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing8.html" class="sidebar-item-text sidebar-link">Replicate Data Creation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">R Functions (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingS.html" class="sidebar-item-text sidebar-link">App (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">Exercise 1 (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingEsolution.html" class="sidebar-item-text sidebar-link active">Exercise 1 Solution (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE2.html" class="sidebar-item-text sidebar-link">Exercise 2 (A)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research questions</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion0.html" class="sidebar-item-text sidebar-link">Concepts (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">Predictive question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">Predictive question-2a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link">Predictive question-2b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">Causal question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">Causal question-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">R functions (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionS.html" class="sidebar-item-text sidebar-link">App (Q)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">Causal roles</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding0.html" class="sidebar-item-text sidebar-link">Concepts (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">Confounding</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">Mediator</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">Collider</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3b.html" class="sidebar-item-text sidebar-link">Simpson’s Paradox</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">Z-bias</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">Collapsibility</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">Change-in-estimate</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">R functions (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">Quiz (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingE.html" class="sidebar-item-text sidebar-link">Exercise (R)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">Prediction ideas</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors0.html" class="sidebar-item-text sidebar-link">Concepts (P)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">Collinear predictors</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">Overfitting and performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">Data Splitting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">Bootstrap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">R functions (P)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">Quiz (P)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">Survey data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata0.html" class="sidebar-item-text sidebar-link">Concepts (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">CCHS: Revisiting PICOT</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link">CCHS: Assessing data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">CCHS: Bivariate analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">CCHS: Regression</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">CCHS: Performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">NHANES: Blood Pressure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">NHANES: Cholesterol</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">NHANES: Subsetting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">R functions (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">Quiz (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataS.html" class="sidebar-item-text sidebar-link">App (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">Exercise (D)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">Missing data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata0.html" class="sidebar-item-text sidebar-link">Concepts (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata1.html" class="sidebar-item-text sidebar-link">Imputation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata2.html" class="sidebar-item-text sidebar-link">Imputation in NHANES</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata3.html" class="sidebar-item-text sidebar-link">Missing in outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata4.html" class="sidebar-item-text sidebar-link">Performance with NA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata5.html" class="sidebar-item-text sidebar-link">Subpopulations</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata6.html" class="sidebar-item-text sidebar-link">MCAR tests</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata7.html" class="sidebar-item-text sidebar-link">Effect modification</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">R functions (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataQ.html" class="sidebar-item-text sidebar-link">Quiz (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataS.html" class="sidebar-item-text sidebar-link">App (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">Exercise (M)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">Propensity score</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore0.html" class="sidebar-item-text sidebar-link">Concepts (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore1.html" class="sidebar-item-text sidebar-link">Exact Matching (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore2.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore3.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (US)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore4.html" class="sidebar-item-text sidebar-link">PSM in BMI-diabetes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore5.html" class="sidebar-item-text sidebar-link">PSM with MI</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore6.html" class="sidebar-item-text sidebar-link">PS Weighting (US)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore7.html" class="sidebar-item-text sidebar-link">PSM with MI in subset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore8.html" class="sidebar-item-text sidebar-link">PSW with MI in subset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore9.html" class="sidebar-item-text sidebar-link">PSW with multiple tx</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">R functions (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreQ.html" class="sidebar-item-text sidebar-link">Quiz (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreS.html" class="sidebar-item-text sidebar-link">App (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">Exercise (S)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">Machine learning (ML)</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning0.html" class="sidebar-item-text sidebar-link">Concepts (L)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning1.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning2.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning3.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning4.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning5.html" class="sidebar-item-text sidebar-link">Supervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6.html" class="sidebar-item-text sidebar-link">Unsupervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6a.html" class="sidebar-item-text sidebar-link">NHIS Example</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6b.html" class="sidebar-item-text sidebar-link">Replicate Results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningQ.html" class="sidebar-item-text sidebar-link">Quiz (L)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">R functions (L)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">ML in causal inference</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal0.html" class="sidebar-item-text sidebar-link">Concepts (C)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal1.html" class="sidebar-item-text sidebar-link">Motivation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal2.html" class="sidebar-item-text sidebar-link">SuperLearner</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal3.html" class="sidebar-item-text sidebar-link">Binary Outcomes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal4.html" class="sidebar-item-text sidebar-link">Continuous Outcomes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal5.html" class="sidebar-item-text sidebar-link">Comparing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalQ.html" class="sidebar-item-text sidebar-link">Quiz (C)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">R functions (C)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./nonbinary.html" class="sidebar-item-text sidebar-link">Complex outcomes</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary0.html" class="sidebar-item-text sidebar-link">Concepts (N)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary1.html" class="sidebar-item-text sidebar-link">Polytomous and ordinal</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary2.html" class="sidebar-item-text sidebar-link">Survival analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary2a.html" class="sidebar-item-text sidebar-link">Survival analysis: NHANES</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary3.html" class="sidebar-item-text sidebar-link">Poisson</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinaryF.html" class="sidebar-item-text sidebar-link">R functions (N)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinaryQ.html" class="sidebar-item-text sidebar-link">Quiz (N)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./longitudinal.html" class="sidebar-item-text sidebar-link">Longitudinal data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal0.html" class="sidebar-item-text sidebar-link">Concepts (T)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal1.html" class="sidebar-item-text sidebar-link">Mixed effects models</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal2.html" class="sidebar-item-text sidebar-link">GEE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinalF.html" class="sidebar-item-text sidebar-link">R functions (T)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinalQ.html" class="sidebar-item-text sidebar-link">Quiz (T)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./mediation.html" class="sidebar-item-text sidebar-link">Mediation analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation0.html" class="sidebar-item-text sidebar-link">Concepts (I)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation1.html" class="sidebar-item-text sidebar-link">Baron and Kenny</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation2.html" class="sidebar-item-text sidebar-link">Justification</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation3.html" class="sidebar-item-text sidebar-link">Mediation Example</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediationF.html" class="sidebar-item-text sidebar-link">R functions (I)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediationQ.html" class="sidebar-item-text sidebar-link">Quiz (I)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">Writing tools</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1.html" class="sidebar-item-text sidebar-link">Collaborative Writing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting2.html" class="sidebar-item-text sidebar-link">Formatting Tools</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#question-1-60-grade" id="toc-question-1-60-grade" class="nav-link active" data-scroll-target="#question-1-60-grade">Question 1: [60% grade]</a>
  <ul class="collapse">
<li><a href="#a-importing-dataset" id="toc-a-importing-dataset" class="nav-link" data-scroll-target="#a-importing-dataset">1(a) Importing dataset</a></li>
  <li><a href="#b-subsetting-according-to-eligibility" id="toc-b-subsetting-according-to-eligibility" class="nav-link" data-scroll-target="#b-subsetting-according-to-eligibility">1(b) Subsetting according to eligibility</a></li>
  <li><a href="#c-retaining-necessary-variables" id="toc-c-retaining-necessary-variables" class="nav-link" data-scroll-target="#c-retaining-necessary-variables">1(c) Retaining necessary variables</a></li>
  <li><a href="#e-creating-analytic-dataset" id="toc-e-creating-analytic-dataset" class="nav-link" data-scroll-target="#e-creating-analytic-dataset">1(e) Creating analytic dataset</a></li>
  <li><a href="#f-number-of-columns-and-variable-names" id="toc-f-number-of-columns-and-variable-names" class="nav-link" data-scroll-target="#f-number-of-columns-and-variable-names">1(f) Number of columns and variable names</a></li>
  </ul>
</li>
  <li><a href="#question-2-table-1-20-grade" id="toc-question-2-table-1-20-grade" class="nav-link" data-scroll-target="#question-2-table-1-20-grade">Question 2: Table 1 [20% grade]</a></li>
  <li>
<a href="#question-3-20-grade" id="toc-question-3-20-grade" class="nav-link" data-scroll-target="#question-3-20-grade">Question 3: [20% grade]</a>
  <ul class="collapse">
<li><a href="#a-subset" id="toc-a-subset" class="nav-link" data-scroll-target="#a-subset">3(a) Subset</a></li>
  <li><a href="#b-recode" id="toc-b-recode" class="nav-link" data-scroll-target="#b-recode">3(b) Recode</a></li>
  <li><a href="#c-regression" id="toc-c-regression" class="nav-link" data-scroll-target="#c-regression">3(c) Regression</a></li>
  <li><a href="#d-reporting-odds-ratio" id="toc-d-reporting-odds-ratio" class="nav-link" data-scroll-target="#d-reporting-odds-ratio">3(d) Reporting odds ratio</a></li>
  </ul>
</li>
  <li><a href="#knit-your-file" id="toc-knit-your-file" class="nav-link" data-scroll-target="#knit-your-file">Knit your file</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">Exercise 1 Solution (A)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p>We will use the following article:</p>
<p>Palis, Marchand &amp; Oviedo-Joekes. (2020). The relationship between sense of community belonging and self-rated mental health among Canadians with mental or substance use disorders. Journal of Mental Health, 29(2): 168-175. DOI: <a href="https://www.tandfonline.com/doi/abs/10.1080/09638237.2018.1437602?journalCode=ijmh20">10.1080/09638237.2018.1437602</a> (available in the “Library Online Course Reserves”: <a href="https://www.researchgate.net/profile/Heather_Palis/publication/323136807_The_relationship_between_sense_of_community_belonging_and_self-rated_mental_health_among_Canadians_with_mental_or_substance_use_disorders/links/5a96ff210f7e9ba42974c0dd/The-relationship-between-sense-of-community-belonging-and-self-rated-mental-health-among-Canadians-with-mental-or-substance-use-disorders.pdf">open link</a>.</p>
<ul>
<li>Download the <a href="https://gsg.uottawa.ca/data/teaching/escc-cchs/fmgd_pumf/2012/cchs_mh_topical_index.pdf">CCHS MH topical index</a>
</li>
<li>Download the <a href="https://gsg.uottawa.ca/data/teaching/escc-cchs/fmgd_pumf/2012/cchs_mh_datadictionary.pdf">CCHS MH Data Dictionary</a>
</li>
</ul>
<section id="question-1-60-grade" class="level1"><h1>Question 1: [60% grade]</h1>
<section id="a-importing-dataset" class="level2"><h2 class="anchored" data-anchor-id="a-importing-dataset">1(a) Importing dataset</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Importing dataset</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">load</span>(<span class="st">"Data/accessing/cchsMH.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="b-subsetting-according-to-eligibility" class="level2"><h2 class="anchored" data-anchor-id="b-subsetting-according-to-eligibility">1(b) Subsetting according to eligibility</h2>
<p>Subset the dataset according to the eligibility criteria / restriction specified in the paper</p>
<ul>
<li>Identify the variable needed for eligibility criteria</li>
</ul>
<p><strong>Hint</strong></p>
<ul>
<li>Read the first paragraph of <strong>Analytic sample</strong> (page 2) for the eligibility criteria</li>
<li>Eligibility criteria was determined based on only <strong>one</strong> variable. Only work with ‘YES’ category.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Subsetting according to eligibility</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>dat <span class="ot">&lt;-</span> <span class="fu">subset</span>(cmh, MHPFY<span class="sc">==</span><span class="st">"YES"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="c-retaining-necessary-variables" class="level2"><h2 class="anchored" data-anchor-id="c-retaining-necessary-variables">1(c) Retaining necessary variables</h2>
<p>In the dataset, retain only the variables associated with outcome measure, explanatory variable, potential confounders and survey weight. There should be eight variables (one outcome, one exposure, five confounders, and one survey weight).</p>
<p>Here are the steps:</p>
<ul>
<li><p>Identify the outcome variable</p></li>
<li><p>Identify the explanatory variable</p></li>
<li><p>Identify the potential confounders</p></li>
<li><p>Identify the survey weight variable</p></li>
<li>
<p><strong>Hint</strong></p>
<ol type="1">
<li>Read</li>
</ol>
<ul>
<li>first and second paragraphs of <strong>Study variables</strong> for the outcome, explanatory and confounding variables</li>
<li>third paragraph of the <strong>Statistical analyses</strong> for the survey weights variable.</li>
</ul>
<ol start="2" type="1">
<li>There were <strong>five</strong> potential confounders.</li>
<li>Potentially useful functions for this exercise:</li>
</ol>
<ul>
<li><a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/match">%in%</a></li>
<li><a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/levels">levels</a></li>
<li><a href="https://rdrr.io/cran/car/man/recode.html">recode</a></li>
<li><a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/subset">subset</a></li>
<li><a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/factor">as.factor</a></li>
<li><a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/relevel">relevel</a></li>
<li>or <a href="https://ehsanx.github.io/intro2R/data-analysis-with-dplyr.html">dplyr ways</a>: <a href="https://www.rdocumentation.org/packages/dplyr/versions/0.7.8/topics/filter">filter</a>, <a href="https://www.rdocumentation.org/packages/dplyr/versions/0.7.8/topics/select">select</a>
</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">with</span>(dat, <span class="fu">data.frame</span>(<span class="at">srmh =</span> SCR_082, <span class="co"># Outcome - SMRH</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>                            <span class="at">community =</span> GEN_10, <span class="co"># explanatory - community belonging</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>                            <span class="at">sex =</span> DHH_SEX, <span class="co"># sex</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>                            <span class="at">age =</span> DHHGAGE, <span class="co"># age</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>                            <span class="at">race =</span> SDCGCGT, <span class="co"># respondent's racial identity</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>                            <span class="at">income =</span> INCG7, <span class="co"># main source of income</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>                            <span class="at">help =</span> PNC_01A, <span class="co"># received help for problems</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>                            <span class="at">weight =</span> WTS_M)) <span class="co"># sampling weight</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="e-creating-analytic-dataset" class="level2"><h2 class="anchored" data-anchor-id="e-creating-analytic-dataset">1(e) Creating analytic dataset</h2>
<p>Outcome variable has a category ‘NOT STATED’, but for our analysis, we will omit anyone associated with this category. Similarly, for explanatory variable, we have categories such as DON’T KNOW, REFUSAL and NOT STATED. We will omit anyone with these categories.</p>
<ul>
<li>Assign missing values for categories such as DON’T KNOW, REFUSAL and NOT STATED.</li>
<li>Recode the variables as shown in Table 1 in the article. You can use any function/package of your choice. Here is an example (but feel free to use other functions. In R there are many other ways to do this same task.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="do">## your code here</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># levels(your.data.frame$your.age.variable) &lt;- </span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#   list("15 to 24 years" = c("15 TO 19 YEARS", "20 TO 24 YEARS"),</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#        "25 to 34 years" = c("25 TO 29 YEARS", "30 TO 34 YEARS"),</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#        "35 to 44 years" = c("35 TO 39 YEARS", "40 TO 44 YEARS"),</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#        "45 to 54 years" = c("45 TO 49 YEARS", "50 TO 54 YEARS"),</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#        "55 to 64 years" = c("55 TO 59 YEARS", "60 TO 64 YEARS"),</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#        "65 years or older" = c("65 TO 69 YEARS", "70 TO 74 YEARS", </span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#        "75 TO 79 YEARS", "80 YEARS OR MORE"))</span></span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co"># Outcome variable: Self-rated Mental Health</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#table(dat$srmh, useNA = "always")</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>dat<span class="sc">$</span>srmh <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat<span class="sc">$</span>srmh, <span class="st">" c('FAIR','POOR') = 'Poor or Fair'; </span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="st">                        'GOOD' = 'Good'; c('EXCELLENT', 'VERY GOOD') = </span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="st">                        'Very good or excellent'; else = NA "</span>)</span>
<span id="cb4-16"><a href="#cb4-16"></a>dat<span class="sc">$</span>srmh <span class="ot">&lt;-</span> <span class="fu">factor</span>(dat<span class="sc">$</span>srmh, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Poor or Fair"</span>, <span class="st">"Good"</span>, <span class="st">"Very good or excellent"</span>))</span>
<span id="cb4-17"><a href="#cb4-17"></a></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co"># Explanatory variable: Community belonging</span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">#table(dat$community, useNA = "always")</span></span>
<span id="cb4-20"><a href="#cb4-20"></a>dat<span class="sc">$</span>community <span class="ot">&lt;-</span> <span class="fu">recode</span>(dat<span class="sc">$</span>community, <span class="at">recodes =</span> <span class="st">" 'VERY STRONG' = 'Very strong';</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="st">                        'SOMEWHAT STRONG' = 'Somewhat strong'; 'SOMEWHAT WEAK' = </span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="st">                        'Somewhat weak'; 'VERY WEAK' = 'Very weak'; else = NA "</span>)</span>
<span id="cb4-23"><a href="#cb4-23"></a>dat<span class="sc">$</span>community <span class="ot">&lt;-</span> <span class="fu">factor</span>(dat<span class="sc">$</span>community, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Very weak"</span>, <span class="st">"Somewhat weak"</span>,</span>
<span id="cb4-24"><a href="#cb4-24"></a>                                                  <span class="st">"Somewhat strong"</span>, <span class="st">"Very strong"</span>))</span>
<span id="cb4-25"><a href="#cb4-25"></a></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="co"># Sex</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="co">#table(dat$sex, useNA = "always")</span></span>
<span id="cb4-28"><a href="#cb4-28"></a>dat<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">recode</span>(dat<span class="sc">$</span>sex, <span class="at">recodes =</span> <span class="st">"'MALE' = 'Males'; 'FEMALE' = 'Females'; </span></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="st">                  else = NA"</span>)</span>
<span id="cb4-30"><a href="#cb4-30"></a></span>
<span id="cb4-31"><a href="#cb4-31"></a><span class="co"># Age group</span></span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="co">#table(dat$age, useNA = "always")</span></span>
<span id="cb4-33"><a href="#cb4-33"></a><span class="fu">levels</span>(dat<span class="sc">$</span>age) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"15 to 24 years"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"15 TO 19 YEARS"</span>, <span class="st">"20 TO 24 YEARS"</span>),</span>
<span id="cb4-34"><a href="#cb4-34"></a>                        <span class="st">"25 to 34 years"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"25 TO 29 YEARS"</span>, <span class="st">"30 TO 34 YEARS"</span>),</span>
<span id="cb4-35"><a href="#cb4-35"></a>                        <span class="st">"35 to 44 years"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"35 TO 39 YEARS"</span>, <span class="st">"40 TO 44 YEARS"</span>),</span>
<span id="cb4-36"><a href="#cb4-36"></a>                        <span class="st">"45 to 54 years"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"45 TO 49 YEARS"</span>, <span class="st">"50 TO 54 YEARS"</span>),</span>
<span id="cb4-37"><a href="#cb4-37"></a>                        <span class="st">"55 to 64 years"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"55 TO 59 YEARS"</span>, <span class="st">"60 TO 64 YEARS"</span>),</span>
<span id="cb4-38"><a href="#cb4-38"></a>                        <span class="st">"65 years or older"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"65 TO 69 YEARS"</span>, <span class="st">"70 TO 74 YEARS"</span>, </span>
<span id="cb4-39"><a href="#cb4-39"></a>                                                <span class="st">"75 TO 79 YEARS"</span>, <span class="st">"80 YEARS OR MORE"</span>))</span>
<span id="cb4-40"><a href="#cb4-40"></a></span>
<span id="cb4-41"><a href="#cb4-41"></a><span class="co"># Race/Ethnicity</span></span>
<span id="cb4-42"><a href="#cb4-42"></a><span class="co">#table(dat$race, useNA = "always")</span></span>
<span id="cb4-43"><a href="#cb4-43"></a>dat<span class="sc">$</span>race <span class="ot">&lt;-</span> <span class="fu">recode</span>(dat<span class="sc">$</span>race, <span class="st">" 'WHITE'='White'; 'NON-WHITE'='Non-white'; else=NA "</span>)</span>
<span id="cb4-44"><a href="#cb4-44"></a></span>
<span id="cb4-45"><a href="#cb4-45"></a><span class="co"># Income</span></span>
<span id="cb4-46"><a href="#cb4-46"></a><span class="co">#table(dat$income, useNA = "always") </span></span>
<span id="cb4-47"><a href="#cb4-47"></a><span class="fu">levels</span>(dat<span class="sc">$</span>income) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"Employment Income"</span> <span class="ot">=</span> <span class="st">"EMPLOYMENT INC."</span>,</span>
<span id="cb4-48"><a href="#cb4-48"></a>                           <span class="st">"Worker's Compensation"</span> <span class="ot">=</span> <span class="st">"EI/WORKER'S COMP"</span>,</span>
<span id="cb4-49"><a href="#cb4-49"></a>                           <span class="st">"Senior Benefits"</span> <span class="ot">=</span> <span class="st">"SENIOR BENEFITS"</span>, </span>
<span id="cb4-50"><a href="#cb4-50"></a>                           <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"OTHER"</span>,</span>
<span id="cb4-51"><a href="#cb4-51"></a>                           <span class="st">"Not applicable"</span> <span class="ot">=</span> <span class="st">"NOT APPLICABLE"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="f-number-of-columns-and-variable-names" class="level2"><h2 class="anchored" data-anchor-id="f-number-of-columns-and-variable-names">1(f) Number of columns and variable names</h2>
<p>Report the number of columns in your analytic dataset, and the variable names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Number of columns</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">ncol</span>(dat)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt; [1] 8</span></span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># Variable names</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="fu">names</span>(dat)</span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; [1] "srmh"      "community" "sex"       "age"       "race"      "income"   </span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; [7] "help"      "weight"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="question-2-table-1-20-grade" class="level1"><h1>Question 2: Table 1 [20% grade]</h1>
<p>Reproduce Table 1 presented in the article (or see below). Omit the ‘Main source of income’ variable from the table. The table you produce should report numbers as follows, with all columns as shown in the table. In other words, the numbers should match.</p>
<table class="table">
<colgroup>
<col style="width: 32%">
<col style="width: 11%">
<col style="width: 17%">
<col style="width: 11%">
<col style="width: 26%">
</colgroup>
<thead><tr class="header">
<th>Self-rated Mental Health Variable</th>
<th>Total n(%)</th>
<th>Poor or Fair n(%)</th>
<th>Good n(%)</th>
<th>Very good or excellent n(%)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Study sample</strong></td>
<td>2628 (100)</td>
<td>1002 (38.1)</td>
<td>885 (33.7)</td>
<td>741 (28.2)</td>
</tr>
<tr class="even">
<td><strong>Community belonging</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>- Very weak</td>
<td>480 (18.3)</td>
<td>282 (28.1)</td>
<td>118 (13.3)a</td>
<td>80 (10.8)a</td>
</tr>
<tr class="even">
<td>- Somewhat weak</td>
<td>857 (32.6)</td>
<td>358 (35.7)</td>
<td>309 (34.9)</td>
<td>190 (25.6)</td>
</tr>
<tr class="odd">
<td>- Somewhat strong</td>
<td>1005 (38.2)</td>
<td>288 (28.7)</td>
<td>362 (40.9)</td>
<td>355 (47.9)</td>
</tr>
<tr class="even">
<td>- Very strong</td>
<td>286 (10.9)</td>
<td>74 (7.4)a</td>
<td>96 (10.8)a</td>
<td>116 (15.7)a</td>
</tr>
<tr class="odd">
<td><strong>Sex</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>- Females</td>
<td>1407 (53.5)</td>
<td>616 (61.5)</td>
<td>487 (55.0)</td>
<td>304 (41.0)</td>
</tr>
<tr class="odd">
<td>- Males</td>
<td>1221 (46.5)</td>
<td>386 (38.5)</td>
<td>398 (45.0)</td>
<td>437 (59.0)</td>
</tr>
<tr class="even">
<td><strong>Age group</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>- 15 to 24 years</td>
<td>740 (28.2)</td>
<td>191 (19.1)</td>
<td>264 (29.8)</td>
<td>285 (38.5)</td>
</tr>
<tr class="even">
<td>- 25 to 34 years</td>
<td>475 (18.1)</td>
<td>141 (14.1)</td>
<td>167 (18.9)</td>
<td>167 (22.5)</td>
</tr>
<tr class="odd">
<td>- 35 to 44 years</td>
<td>393 (15.0)</td>
<td>185 (18.5)</td>
<td>119 (13.4)a</td>
<td>89 (12.0)a</td>
</tr>
<tr class="even">
<td>- 45 to 54 years</td>
<td>438 (16.6)</td>
<td>220 (22.0)</td>
<td>139 (15.7)</td>
<td>79 (10.7)a</td>
</tr>
<tr class="odd">
<td>- 55 to 64 years</td>
<td>379 (14.4)</td>
<td>198 (19.7)</td>
<td>113 (12.8)a</td>
<td>68 (9.2)a</td>
</tr>
<tr class="even">
<td>- 65 years or older</td>
<td>203 (7.7)</td>
<td>67 (6.6)a</td>
<td>83 (8.4)a</td>
<td>53 (7.1)b</td>
</tr>
<tr class="odd">
<td><strong>Race/Ethnicity</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>- Non-white</td>
<td>458 (17.4)</td>
<td>184 (18.4)</td>
<td>140 (15.8)</td>
<td>134 (18.1)</td>
</tr>
<tr class="odd">
<td>- White</td>
<td>2170 (82.6)</td>
<td>818 (81.6)</td>
<td>745 (84.2)</td>
<td>607 (81.9)</td>
</tr>
<tr class="even">
<td><strong>Main source of income</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>- Employment Income^d</td>
<td>1054 (40.1)</td>
<td>289 (28.8)</td>
<td>386 (43.6)</td>
<td>379 (51.1)</td>
</tr>
<tr class="even">
<td>- Worker’s Compensation^e</td>
<td>160 (6.1)</td>
<td>91 (9.1)a</td>
<td>44 (5.0)b</td>
<td>25 (3.4)c</td>
</tr>
<tr class="odd">
<td>- Senior Benefits^f</td>
<td>134 (5.1)</td>
<td>57 (5.7)a</td>
<td>42 (4.7)b</td>
<td>35 (4.7)</td>
</tr>
<tr class="even">
<td>- Other^g</td>
<td>184 (7.0)</td>
<td>82 (8.2)a</td>
<td>60 (6.8)a</td>
<td>42 (5.7)b</td>
</tr>
<tr class="odd">
<td>- Not applicable^h</td>
<td>851 (32.4)</td>
<td>402 (40.1)</td>
<td>263 (29.7)</td>
<td>186 (25.1)</td>
</tr>
<tr class="even">
<td>- Not Stated^i</td>
<td>245 (9.3)</td>
<td>81 (8.1)a</td>
<td>90 (10.2)a</td>
<td>74 (10.0)</td>
</tr>
</tbody>
</table>
<p><span class="math inline">\(^a\)</span> Coefficient of variation between 16.6 and 25.0%. <span class="math inline">\(^b\)</span> Coefficient of variation between 25.1 and 33.3%. <span class="math inline">\(^c\)</span> Coefficient of variation &gt; 33.3%. <span class="math inline">\(^d\)</span> Employment Income: Wages/salaries or self-employment. <span class="math inline">\(^e\)</span> Worker’s compensation: Employment insurance or worker’s compensation or social assistance/welfare. <span class="math inline">\(^f\)</span> Senior Benefits: Benefits from Canada or Quebec Pension Plan or job related retirement pensions, superannuation and annuities or RRSP/RRIF of Old Age Security and Guaranteed Income Supplement. <span class="math inline">\(^g\)</span> Other: Dividends/interest or child tax benefit or child support or alimony or other or no income. <span class="math inline">\(^h\)</span> Not applicable: Respondents who live in a household with only one person. The income variable “main source of personal income” is applicable only to those that live in a household of more than one person. <span class="math inline">\(^i\)</span> Not Stated: Question was not answered (don’t know, refusal, not stated).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Drop main source of income</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>dat <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dat,<span class="sc">-</span><span class="fu">c</span>(income))</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># Drop received help for problems </span></span>
<span id="cb6-5"><a href="#cb6-5"></a>dat <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dat,<span class="sc">-</span><span class="fu">c</span>(help))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Complete case data</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>dat <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">na.omit</span>(dat))</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"community"</span>, <span class="st">"sex"</span>, <span class="st">"age"</span>, <span class="st">"race"</span>)</span>
<span id="cb7-5"><a href="#cb7-5"></a></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co"># Summary table</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">CreateTableOne</span>(<span class="at">vars =</span> vars, <span class="at">data =</span> dat, <span class="at">strata =</span><span class="st">"srmh"</span>, <span class="at">includeNA =</span> F, <span class="at">test =</span> F, </span>
<span id="cb7-8"><a href="#cb7-8"></a>                       <span class="at">addOverall =</span> T)</span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#print(tab1, showAllLevels = T)</span></span>
<span id="cb7-10"><a href="#cb7-10"></a></span>
<span id="cb7-11"><a href="#cb7-11"></a>kableone <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb7-12"><a href="#cb7-12"></a>   <span class="fu">capture.output</span>(x <span class="ot">&lt;-</span> <span class="fu">print</span>(x, <span class="at">showAllLevels=</span> <span class="cn">TRUE</span>, <span class="at">padColnames =</span> <span class="cn">TRUE</span>, </span>
<span id="cb7-13"><a href="#cb7-13"></a>                             <span class="at">insertLevel =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-14"><a href="#cb7-14"></a>   knitr<span class="sc">::</span><span class="fu">kable</span>(x, ...)</span>
<span id="cb7-15"><a href="#cb7-15"></a>}</span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="fu">kableone</span>(tab1, <span class="at">printToggle =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 15%">
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 12%">
<col style="width: 25%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">level</th>
<th style="text-align: left;">Overall</th>
<th style="text-align: left;">Poor or Fair</th>
<th style="text-align: left;">Good</th>
<th style="text-align: left;">Very good or excellent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">n</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">2628</td>
<td style="text-align: left;">1002</td>
<td style="text-align: left;">885</td>
<td style="text-align: left;">741</td>
</tr>
<tr class="even">
<td style="text-align: left;">community (%)</td>
<td style="text-align: left;">Very weak</td>
<td style="text-align: left;">480 (18.3)</td>
<td style="text-align: left;">282 (28.1)</td>
<td style="text-align: left;">118 (13.3)</td>
<td style="text-align: left;">80 (10.8)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Somewhat weak</td>
<td style="text-align: left;">857 (32.6)</td>
<td style="text-align: left;">358 (35.7)</td>
<td style="text-align: left;">309 (34.9)</td>
<td style="text-align: left;">190 (25.6)</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Somewhat strong</td>
<td style="text-align: left;">1005 (38.2)</td>
<td style="text-align: left;">288 (28.7)</td>
<td style="text-align: left;">362 (40.9)</td>
<td style="text-align: left;">355 (47.9)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Very strong</td>
<td style="text-align: left;">286 (10.9)</td>
<td style="text-align: left;">74 ( 7.4)</td>
<td style="text-align: left;">96 (10.8)</td>
<td style="text-align: left;">116 (15.7)</td>
</tr>
<tr class="even">
<td style="text-align: left;">sex (%)</td>
<td style="text-align: left;">Females</td>
<td style="text-align: left;">1407 (53.5)</td>
<td style="text-align: left;">616 (61.5)</td>
<td style="text-align: left;">487 (55.0)</td>
<td style="text-align: left;">304 (41.0)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Males</td>
<td style="text-align: left;">1221 (46.5)</td>
<td style="text-align: left;">386 (38.5)</td>
<td style="text-align: left;">398 (45.0)</td>
<td style="text-align: left;">437 (59.0)</td>
</tr>
<tr class="even">
<td style="text-align: left;">age (%)</td>
<td style="text-align: left;">15 to 24 years</td>
<td style="text-align: left;">740 (28.2)</td>
<td style="text-align: left;">191 (19.1)</td>
<td style="text-align: left;">264 (29.8)</td>
<td style="text-align: left;">285 (38.5)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">25 to 34 years</td>
<td style="text-align: left;">475 (18.1)</td>
<td style="text-align: left;">141 (14.1)</td>
<td style="text-align: left;">167 (18.9)</td>
<td style="text-align: left;">167 (22.5)</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">35 to 44 years</td>
<td style="text-align: left;">393 (15.0)</td>
<td style="text-align: left;">185 (18.5)</td>
<td style="text-align: left;">119 (13.4)</td>
<td style="text-align: left;">89 (12.0)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">45 to 54 years</td>
<td style="text-align: left;">438 (16.7)</td>
<td style="text-align: left;">220 (22.0)</td>
<td style="text-align: left;">139 (15.7)</td>
<td style="text-align: left;">79 (10.7)</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">55 to 64 years</td>
<td style="text-align: left;">379 (14.4)</td>
<td style="text-align: left;">198 (19.8)</td>
<td style="text-align: left;">113 (12.8)</td>
<td style="text-align: left;">68 ( 9.2)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">65 years or older</td>
<td style="text-align: left;">203 ( 7.7)</td>
<td style="text-align: left;">67 ( 6.7)</td>
<td style="text-align: left;">83 ( 9.4)</td>
<td style="text-align: left;">53 ( 7.2)</td>
</tr>
<tr class="even">
<td style="text-align: left;">race (%)</td>
<td style="text-align: left;">Non-white</td>
<td style="text-align: left;">458 (17.4)</td>
<td style="text-align: left;">184 (18.4)</td>
<td style="text-align: left;">140 (15.8)</td>
<td style="text-align: left;">134 (18.1)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">White</td>
<td style="text-align: left;">2170 (82.6)</td>
<td style="text-align: left;">818 (81.6)</td>
<td style="text-align: left;">745 (84.2)</td>
<td style="text-align: left;">607 (81.9)</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="question-3-20-grade" class="level1"><h1>Question 3: [20% grade]</h1>
<section id="a-subset" class="level2"><h2 class="anchored" data-anchor-id="a-subset">3(a) Subset</h2>
<p>Subset the dataset excluding ‘Very good or excellent’ responses from the self-rated mental health variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>dat3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(dat, srmh <span class="sc">!=</span> <span class="st">"Very good or excellent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="b-recode" class="level2"><h2 class="anchored" data-anchor-id="b-recode">3(b) Recode</h2>
<p>Recode self-rated mental health variable and make it a binary variable: ‘Good’ vs.&nbsp;‘Poor’ (simplifying category labels only). Convert that variable to a factor variable with ‘Poor’ being the reference level.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>dat3<span class="sc">$</span>srmh <span class="ot">&lt;-</span> <span class="fu">recode</span>(dat3<span class="sc">$</span>srmh, <span class="at">recodes =</span> <span class="st">" 'Poor or Fair' = 'Poor'; 'Good' = 'Good'; </span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="st">                    else = NA"</span>, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Poor"</span>, <span class="st">"Good"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="c-regression" class="level2"><h2 class="anchored" data-anchor-id="c-regression">3(c) Regression</h2>
<p>Run a logistic regression model for finding the relationship between community belonging (Reference: Very weak) and self-rated mental health (Reference: Poor) among respondents with mental or substance use disorders. Adjust the model for three confounders: sex, age, and race/ethnicity. Do not need to report summary of the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">glm</span>(<span class="fu">I</span>(srmh<span class="sc">==</span><span class="st">"Good"</span>) <span class="sc">~</span> community <span class="sc">+</span> sex <span class="sc">+</span> age <span class="sc">+</span> race, <span class="at">data =</span> dat3, </span>
<span id="cb10-2"><a href="#cb10-2"></a>           <span class="at">family =</span> binomial)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="d-reporting-odds-ratio" class="level2"><h2 class="anchored" data-anchor-id="d-reporting-odds-ratio">3(d) Reporting odds ratio</h2>
<p>Report the odds ratios and associated confidence intervals. Publish or jtools package could be useful to report the odds ratios with confidence intervals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">require</span>(Publish)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">publish</span>(fit)</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt;   Variable             Units OddsRatio       CI.95    p-value </span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt;  community         Very weak       Ref                        </span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt;                Somewhat weak      1.93 [1.48;2.53]    &lt; 1e-04 </span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt;              Somewhat strong      2.90 [2.22;3.80]    &lt; 1e-04 </span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt;                  Very strong      3.32 [2.27;4.85]    &lt; 1e-04 </span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt;        sex           Females       Ref                        </span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co">#&gt;                        Males      1.32 [1.09;1.60]   0.003993 </span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">#&gt;        age    15 to 24 years       Ref                        </span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt;               25 to 34 years      0.85 [0.63;1.15]   0.292243 </span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">#&gt;               35 to 44 years      0.45 [0.33;0.61]    &lt; 1e-04 </span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">#&gt;               45 to 54 years      0.45 [0.34;0.61]    &lt; 1e-04 </span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="co">#&gt;               55 to 64 years      0.41 [0.30;0.56]    &lt; 1e-04 </span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="co">#&gt;            65 years or older      0.87 [0.59;1.27]   0.468623 </span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="co">#&gt;       race         Non-white       Ref                        </span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="co">#&gt;                        White      1.32 [1.03;1.71]   0.030025</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="knit-your-file" class="level1"><h1>Knit your file</h1>
<p>Please knit your file once you finished and submit the knitted PDF or doc file. Please also fill-up the following table:</p>
<p><strong>Group name</strong>: ** xyz **</p>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">Student initial</th>
<th style="text-align: left;">% contribution</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Student 1 initial</td>
<td style="text-align: left;">x%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Student 2 initial</td>
<td style="text-align: left;">x%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Student 3 initial</td>
<td style="text-align: left;">x%</td>
</tr>
</tbody>
</table>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./accessingE.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Exercise 1 (A)</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./accessingE2.html" class="pagination-link">
        <span class="nav-page-text">Exercise 2 (A)</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>