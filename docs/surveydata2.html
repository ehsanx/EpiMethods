<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>OER: Advanced Epidemiological Methods - CCHS: Assessing data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./surveydata3.html" rel="next">
<link href="./surveydata1.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="OER: Advanced Epidemiological Methods - CCHS: Assessing data">
<meta name="twitter:description" content="Let us load all the necessary packages for data manipulation, statistical analysis, and plotting.">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">CCHS: Assessing data</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">OER: Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">R Functions (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">Exercise (W)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Data accessing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">R Functions (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">Exercise (A)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research question</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">Predictive question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">Predictive question-2a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link">Predictive question-2b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">Causal question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">Causal question-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">R functions (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz (Q)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">Role of variables</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">Confounding</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">Mediator</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">Collider</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">Z-bias</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">Collapsibility</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">Change-in-estimate</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">R functions (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">Quiz (R)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">Prediction models</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">Collinear predictors</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">Overfitting and performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">Cross-vaildation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">Bootstrap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">R functions (P)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">Quiz (P)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">Survey data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">CCHS: Revisiting PICOT</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link active">CCHS: Assessing data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">CCHS: Bivariate analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">CCHS: Regression</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">CCHS: Performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">NHANES: Blood Pressure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">NHANES: Cholesterol</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">NHANES: Subsetting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">R functions (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">Quiz (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">Exercise (D)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">Missing data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">R functions (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">Exercise (M)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">Propensity score</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">R functions (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">Exercise (S)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">Reporting guidelines</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reportingF.html" class="sidebar-item-text sidebar-link">R functions (G)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">Machine learning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">R functions (L)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">ML in causal inference</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">R functions (C)</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#load-data" id="toc-load-data" class="nav-link active" data-scroll-target="#load-data">Load data</a></li>
  <li><a href="#checking" id="toc-checking" class="nav-link" data-scroll-target="#checking">Checking</a></li>
  <li><a href="#saving-dataset" id="toc-saving-dataset" class="nav-link" data-scroll-target="#saving-dataset">Saving dataset</a></li>
  <li><a href="#video-content-optional" id="toc-video-content-optional" class="nav-link" data-scroll-target="#video-content-optional">Video content (optional)</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">CCHS: Assessing data</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p>Let us load all the necessary packages for data manipulation, statistical analysis, and plotting.</p>
<div class="cell" data-hash="surveydata2_cache/html/setup_334264073240d36a0f514ed543ae66b4">
<details><summary>Show the code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Load required packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://r-survey.r-forge.r-project.org/survey/">survey</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/car/">car</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/kaz-yos/tableone">tableone</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="load-data" class="level3"><h3 class="anchored" data-anchor-id="load-data">Load data</h3>
<p>Data loading that we saved earlier:</p>
<div class="cell" data-hash="surveydata2_cache/html/load_f070285e272f910227f6ac016374d8d5">
<details><summary>Show the code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"Data/surveydata/cchs123.RData"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "analytic" "cc123a"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="checking" class="level3"><h3 class="anchored" data-anchor-id="checking">Checking</h3>
<section id="check-the-data-for-missingness" class="level4"><h4 class="anchored" data-anchor-id="check-the-data-for-missingness">Check the data for missingness</h4>
<p>Checks the dimensions of the data and runs functions to explore missing data, stratifying by some variables. Additionally, it plots the missing data for visualization.</p>
<div class="cell" data-hash="surveydata2_cache/html/miss0_9af4846e53acd4c9b7d1fb1fac53fbb7">
<details><summary>Show the code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 397173     24</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/kaz-yos/tableone">"tableone"</a></span><span class="op">)</span></span>
<span><span class="co">#CreateTableOne(data = analytic, includeNA = TRUE)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tableone/man/CreateTableOne.html">CreateTableOne</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">analytic</span>, strata <span class="op">=</span> <span class="st">"CVD"</span>, includeNA <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       Stratified by CVD</span></span>
<span><span class="co">#&gt;                        event                 no event              p      test</span></span>
<span><span class="co">#&gt;   n                        25524                371121                        </span></span>
<span><span class="co">#&gt;   CVD (%)                                                             NaN     </span></span>
<span><span class="co">#&gt;      event                 25524 (100.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      no event                  0 (  0.0)        371121 (100.0)                </span></span>
<span><span class="co">#&gt;      NA                        0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;   age (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      20-29 years             330 (  1.3)         48293 ( 13.0)                </span></span>
<span><span class="co">#&gt;      30-39 years             580 (  2.3)         63194 ( 17.0)                </span></span>
<span><span class="co">#&gt;      40-49 years            1498 (  5.9)         63549 ( 17.1)                </span></span>
<span><span class="co">#&gt;      50-59 years            3635 ( 14.2)         57300 ( 15.4)                </span></span>
<span><span class="co">#&gt;      60-64 years            2720 ( 10.7)         22497 (  6.1)                </span></span>
<span><span class="co">#&gt;      65 years and over     16496 ( 64.6)         64198 ( 17.3)                </span></span>
<span><span class="co">#&gt;      teen                    265 (  1.0)         52090 ( 14.0)                </span></span>
<span><span class="co">#&gt;   sex = Male (%)           12506 ( 49.0)        169776 ( 45.7)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   married (%)                                                      &lt;0.001     </span></span>
<span><span class="co">#&gt;      not single            13287 ( 52.1)        188687 ( 50.8)                </span></span>
<span><span class="co">#&gt;      single                12207 ( 47.8)        181811 ( 49.0)                </span></span>
<span><span class="co">#&gt;      NA                       30 (  0.1)           623 (  0.2)                </span></span>
<span><span class="co">#&gt;   race (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      Non-white              1276 (  5.0)         37323 ( 10.1)                </span></span>
<span><span class="co">#&gt;      White                 23629 ( 92.6)        325178 ( 87.6)                </span></span>
<span><span class="co">#&gt;      NA                      619 (  2.4)          8620 (  2.3)                </span></span>
<span><span class="co">#&gt;   edu (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      &lt; 2ndary              11547 ( 45.2)        112678 ( 30.4)                </span></span>
<span><span class="co">#&gt;      2nd grad.              3310 ( 13.0)         61355 ( 16.5)                </span></span>
<span><span class="co">#&gt;      Other 2nd grad.        1323 (  5.2)         27643 (  7.4)                </span></span>
<span><span class="co">#&gt;      Post-2nd grad.         8744 ( 34.3)        163052 ( 43.9)                </span></span>
<span><span class="co">#&gt;      NA                      600 (  2.4)          6393 (  1.7)                </span></span>
<span><span class="co">#&gt;   income (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      $29,999 or less       11664 ( 45.7)         89506 ( 24.1)                </span></span>
<span><span class="co">#&gt;      $30,000-$49,999        4871 ( 19.1)         72994 ( 19.7)                </span></span>
<span><span class="co">#&gt;      $50,000-$79,999        3193 ( 12.5)         81861 ( 22.1)                </span></span>
<span><span class="co">#&gt;      $80,000 or more        1905 (  7.5)         73768 ( 19.9)                </span></span>
<span><span class="co">#&gt;      NA                     3891 ( 15.2)         52992 ( 14.3)                </span></span>
<span><span class="co">#&gt;   bmi (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      Underweight             504 (  2.0)          9600 (  2.6)                </span></span>
<span><span class="co">#&gt;      healthy weight         7176 ( 28.1)        141200 ( 38.0)                </span></span>
<span><span class="co">#&gt;      Overweight            12104 ( 47.4)        153887 ( 41.5)                </span></span>
<span><span class="co">#&gt;      NA                     5740 ( 22.5)         66434 ( 17.9)                </span></span>
<span><span class="co">#&gt;   phyact (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Active                 3642 ( 14.3)         94844 ( 25.6)                </span></span>
<span><span class="co">#&gt;      Inactive              15494 ( 60.7)        174976 ( 47.1)                </span></span>
<span><span class="co">#&gt;      Moderate               4928 ( 19.3)         88480 ( 23.8)                </span></span>
<span><span class="co">#&gt;      NA                     1460 (  5.7)         12821 (  3.5)                </span></span>
<span><span class="co">#&gt;   doctor (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                     1134 (  4.4)         57425 ( 15.5)                </span></span>
<span><span class="co">#&gt;      Yes                   24384 ( 95.5)        313282 ( 84.4)                </span></span>
<span><span class="co">#&gt;      NA                        6 (  0.0)           414 (  0.1)                </span></span>
<span><span class="co">#&gt;   stress (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Not too stressed      20041 ( 78.5)        266358 ( 71.8)                </span></span>
<span><span class="co">#&gt;      stressed               5184 ( 20.3)         76986 ( 20.7)                </span></span>
<span><span class="co">#&gt;      NA                      299 (  1.2)         27777 (  7.5)                </span></span>
<span><span class="co">#&gt;   smoke (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current smoker         4481 ( 17.6)         93253 ( 25.1)                </span></span>
<span><span class="co">#&gt;      Former smoker         13927 ( 54.6)        143421 ( 38.6)                </span></span>
<span><span class="co">#&gt;      Never smoker           6981 ( 27.4)        132891 ( 35.8)                </span></span>
<span><span class="co">#&gt;      NA                      135 (  0.5)          1556 (  0.4)                </span></span>
<span><span class="co">#&gt;   drink (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current drinker       15852 ( 62.1)        279583 ( 75.3)                </span></span>
<span><span class="co">#&gt;      Former driker          6820 ( 26.7)         48373 ( 13.0)                </span></span>
<span><span class="co">#&gt;      Never drank            2421 (  9.5)         38195 ( 10.3)                </span></span>
<span><span class="co">#&gt;      NA                      431 (  1.7)          4970 (  1.3)                </span></span>
<span><span class="co">#&gt;   fruit (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      0-3 daily serving      4284 ( 16.8)         79088 ( 21.3)                </span></span>
<span><span class="co">#&gt;      4-6 daily serving     10527 ( 41.2)        148684 ( 40.1)                </span></span>
<span><span class="co">#&gt;      6+ daily serving       5047 ( 19.8)         73729 ( 19.9)                </span></span>
<span><span class="co">#&gt;      NA                     5666 ( 22.2)         69620 ( 18.8)                </span></span>
<span><span class="co">#&gt;   bp (%)                                                           &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                    12611 ( 49.4)        315344 ( 85.0)                </span></span>
<span><span class="co">#&gt;      Yes                   12857 ( 50.4)         55037 ( 14.8)                </span></span>
<span><span class="co">#&gt;      NA                       56 (  0.2)           740 (  0.2)                </span></span>
<span><span class="co">#&gt;   copd (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                    23378 ( 91.6)        267481 ( 72.1)                </span></span>
<span><span class="co">#&gt;      Yes                    1449 (  5.7)          3043 (  0.8)                </span></span>
<span><span class="co">#&gt;      NA                      697 (  2.7)        100597 ( 27.1)                </span></span>
<span><span class="co">#&gt;   diab (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                    20461 ( 80.2)        353817 ( 95.3)                </span></span>
<span><span class="co">#&gt;      Yes                    5038 ( 19.7)         17138 (  4.6)                </span></span>
<span><span class="co">#&gt;      NA                       25 (  0.1)           166 (  0.0)                </span></span>
<span><span class="co">#&gt;   province = South (%)     25271 ( 99.0)        363659 ( 98.0)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   weight (mean (SD))      152.58 (181.69)       203.40 (244.28)    &lt;0.001     </span></span>
<span><span class="co">#&gt;   cycle (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      11                     7968 ( 31.2)        122798 ( 33.1)                </span></span>
<span><span class="co">#&gt;      21                     9027 ( 35.4)        124838 ( 33.6)                </span></span>
<span><span class="co">#&gt;      31                     8529 ( 33.4)        123485 ( 33.3)                </span></span>
<span><span class="co">#&gt;   ID (mean (SD))       199839.07 (114705.35) 198466.74 (114661.51)  0.064     </span></span>
<span><span class="co">#&gt;   OA (%)                                                           &lt;0.001     </span></span>
<span><span class="co">#&gt;      Control               12655 ( 49.6)        301675 ( 81.3)                </span></span>
<span><span class="co">#&gt;      OA                     6522 ( 25.6)         34346 (  9.3)                </span></span>
<span><span class="co">#&gt;      NA                     6347 ( 24.9)         35100 (  9.5)                </span></span>
<span><span class="co">#&gt;   immigrate (%)                                                    &lt;0.001     </span></span>
<span><span class="co">#&gt;      &gt; 10 years             2295 (  9.0)         24409 (  6.6)                </span></span>
<span><span class="co">#&gt;      not immigrant         21342 ( 83.6)        316353 ( 85.2)                </span></span>
<span><span class="co">#&gt;      recent                  159 (  0.6)         10476 (  2.8)                </span></span>
<span><span class="co">#&gt;      NA                     1728 (  6.8)         19883 (  5.4)                </span></span>
<span><span class="co">#&gt;   province.check (%)                                                  NaN     </span></span>
<span><span class="co">#&gt;      NEWFOUNDLAND            519 (  2.0)          7398 (  2.0)                </span></span>
<span><span class="co">#&gt;      PEI                     567 (  2.2)          7172 (  1.9)                </span></span>
<span><span class="co">#&gt;      NOVA SCOTIA            1308 (  5.1)         14015 (  3.8)                </span></span>
<span><span class="co">#&gt;      NEW BRUNSWICK          1223 (  4.8)         13786 (  3.7)                </span></span>
<span><span class="co">#&gt;      QU\xc9BEC              1380 (  5.4)         20625 (  5.6)                </span></span>
<span><span class="co">#&gt;      ONTARIO                8596 ( 33.7)        115053 ( 31.0)                </span></span>
<span><span class="co">#&gt;      MANITOBA               1339 (  5.2)         22074 (  5.9)                </span></span>
<span><span class="co">#&gt;      SASKATCHEWAN           1542 (  6.0)         21782 (  5.9)                </span></span>
<span><span class="co">#&gt;      ALBERTA                1837 (  7.2)         38238 ( 10.3)                </span></span>
<span><span class="co">#&gt;      BRITISH COLUMBIA       2847 ( 11.2)         46834 ( 12.6)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNAVT        173 (  0.7)          4884 (  1.3)                </span></span>
<span><span class="co">#&gt;      NOT APPLICABLE            0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      DON'T KNOW                0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      REFUSAL                   0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      NOT STATED                0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      QUEBEC                 3839 ( 15.0)         52850 ( 14.2)                </span></span>
<span><span class="co">#&gt;      NFLD &amp; LAB.             274 (  1.1)          3832 (  1.0)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNA.          80 (  0.3)          2578 (  0.7)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tableone/man/CreateTableOne.html">CreateTableOne</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">analytic</span>, strata <span class="op">=</span> <span class="st">"OA"</span>, includeNA <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       Stratified by OA</span></span>
<span><span class="co">#&gt;                        Control               OA                    p      test</span></span>
<span><span class="co">#&gt;   n                       314542                 40943                        </span></span>
<span><span class="co">#&gt;   CVD (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      event                 12655 (  4.0)          6522 ( 15.9)                </span></span>
<span><span class="co">#&gt;      no event             301675 ( 95.9)         34346 ( 83.9)                </span></span>
<span><span class="co">#&gt;      NA                      212 (  0.1)            75 (  0.2)                </span></span>
<span><span class="co">#&gt;   age (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      20-29 years           46805 ( 14.9)           537 (  1.3)                </span></span>
<span><span class="co">#&gt;      30-39 years           59233 ( 18.8)          1622 (  4.0)                </span></span>
<span><span class="co">#&gt;      40-49 years           55598 ( 17.7)          4128 ( 10.1)                </span></span>
<span><span class="co">#&gt;      50-59 years           43746 ( 13.9)          8994 ( 22.0)                </span></span>
<span><span class="co">#&gt;      60-64 years           15772 (  5.0)          5100 ( 12.5)                </span></span>
<span><span class="co">#&gt;      65 years and over     41661 ( 13.2)         20436 ( 49.9)                </span></span>
<span><span class="co">#&gt;      teen                  51727 ( 16.4)           126 (  0.3)                </span></span>
<span><span class="co">#&gt;   sex = Male (%)          153889 ( 48.9)         11627 ( 28.4)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   married (%)                                                      &lt;0.001     </span></span>
<span><span class="co">#&gt;      not single           158065 ( 50.3)         21794 ( 53.2)                </span></span>
<span><span class="co">#&gt;      single               155952 ( 49.6)         19099 ( 46.6)                </span></span>
<span><span class="co">#&gt;      NA                      525 (  0.2)            50 (  0.1)                </span></span>
<span><span class="co">#&gt;   race (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      Non-white             34028 ( 10.8)          1803 (  4.4)                </span></span>
<span><span class="co">#&gt;      White                273378 ( 86.9)         38241 ( 93.4)                </span></span>
<span><span class="co">#&gt;      NA                     7136 (  2.3)           899 (  2.2)                </span></span>
<span><span class="co">#&gt;   edu (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      &lt; 2ndary              92831 ( 29.5)         14539 ( 35.5)                </span></span>
<span><span class="co">#&gt;      2nd grad.             52077 ( 16.6)          6291 ( 15.4)                </span></span>
<span><span class="co">#&gt;      Other 2nd grad.       24099 (  7.7)          2484 (  6.1)                </span></span>
<span><span class="co">#&gt;      Post-2nd grad.       140400 ( 44.6)         16887 ( 41.2)                </span></span>
<span><span class="co">#&gt;      NA                     5135 (  1.6)           742 (  1.8)                </span></span>
<span><span class="co">#&gt;   income (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      $29,999 or less       68530 ( 21.8)         16233 ( 39.6)                </span></span>
<span><span class="co">#&gt;      $30,000-$49,999       61697 ( 19.6)          8360 ( 20.4)                </span></span>
<span><span class="co">#&gt;      $50,000-$79,999       72657 ( 23.1)          6348 ( 15.5)                </span></span>
<span><span class="co">#&gt;      $80,000 or more       67458 ( 21.4)          4191 ( 10.2)                </span></span>
<span><span class="co">#&gt;      NA                    44200 ( 14.1)          5811 ( 14.2)                </span></span>
<span><span class="co">#&gt;   bmi (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      Underweight            8660 (  2.8)           715 (  1.7)                </span></span>
<span><span class="co">#&gt;      healthy weight       123416 ( 39.2)         12631 ( 30.9)                </span></span>
<span><span class="co">#&gt;      Overweight           123898 ( 39.4)         20715 ( 50.6)                </span></span>
<span><span class="co">#&gt;      NA                    58568 ( 18.6)          6882 ( 16.8)                </span></span>
<span><span class="co">#&gt;   phyact (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Active                84269 ( 26.8)          6968 ( 17.0)                </span></span>
<span><span class="co">#&gt;      Inactive             143058 ( 45.5)         23604 ( 57.7)                </span></span>
<span><span class="co">#&gt;      Moderate              75703 ( 24.1)          9176 ( 22.4)                </span></span>
<span><span class="co">#&gt;      NA                    11512 (  3.7)          1195 (  2.9)                </span></span>
<span><span class="co">#&gt;   doctor (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                    53335 ( 17.0)          2221 (  5.4)                </span></span>
<span><span class="co">#&gt;      Yes                  260802 ( 82.9)         38717 ( 94.6)                </span></span>
<span><span class="co">#&gt;      NA                      405 (  0.1)             5 (  0.0)                </span></span>
<span><span class="co">#&gt;   stress (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Not too stressed     223212 ( 71.0)         31769 ( 77.6)                </span></span>
<span><span class="co">#&gt;      stressed              63923 ( 20.3)          8998 ( 22.0)                </span></span>
<span><span class="co">#&gt;      NA                    27407 (  8.7)           176 (  0.4)                </span></span>
<span><span class="co">#&gt;   smoke (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current smoker        79521 ( 25.3)          8087 ( 19.8)                </span></span>
<span><span class="co">#&gt;      Former smoker        117745 ( 37.4)         20267 ( 49.5)                </span></span>
<span><span class="co">#&gt;      Never smoker         116006 ( 36.9)         12428 ( 30.4)                </span></span>
<span><span class="co">#&gt;      NA                     1270 (  0.4)           161 (  0.4)                </span></span>
<span><span class="co">#&gt;   drink (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current drinker      239223 ( 76.1)         28622 ( 69.9)                </span></span>
<span><span class="co">#&gt;      Former driker         37042 ( 11.8)          8668 ( 21.2)                </span></span>
<span><span class="co">#&gt;      Never drank           34185 ( 10.9)          3128 (  7.6)                </span></span>
<span><span class="co">#&gt;      NA                     4092 (  1.3)           525 (  1.3)                </span></span>
<span><span class="co">#&gt;   fruit (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      0-3 daily serving     68629 ( 21.8)          6571 ( 16.0)                </span></span>
<span><span class="co">#&gt;      4-6 daily serving    125177 ( 39.8)         17214 ( 42.0)                </span></span>
<span><span class="co">#&gt;      6+ daily serving      62121 ( 19.7)          9123 ( 22.3)                </span></span>
<span><span class="co">#&gt;      NA                    58615 ( 18.6)          8035 ( 19.6)                </span></span>
<span><span class="co">#&gt;   bp (%)                                                           &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   275443 ( 87.6)         25551 ( 62.4)                </span></span>
<span><span class="co">#&gt;      Yes                   38442 ( 12.2)         15341 ( 37.5)                </span></span>
<span><span class="co">#&gt;      NA                      657 (  0.2)            51 (  0.1)                </span></span>
<span><span class="co">#&gt;   copd (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   213719 ( 67.9)         39007 ( 95.3)                </span></span>
<span><span class="co">#&gt;      Yes                    2131 (  0.7)          1214 (  3.0)                </span></span>
<span><span class="co">#&gt;      NA                    98692 ( 31.4)           722 (  1.8)                </span></span>
<span><span class="co">#&gt;   diab (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   301943 ( 96.0)         36211 ( 88.4)                </span></span>
<span><span class="co">#&gt;      Yes                   12442 (  4.0)          4705 ( 11.5)                </span></span>
<span><span class="co">#&gt;      NA                      157 (  0.0)            27 (  0.1)                </span></span>
<span><span class="co">#&gt;   province = South (%)    307761 ( 97.8)         40507 ( 98.9)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   weight (mean (SD))      211.50 (251.46)       159.00 (188.84)    &lt;0.001     </span></span>
<span><span class="co">#&gt;   cycle (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      11                   106231 ( 33.8)         12052 ( 29.4)                </span></span>
<span><span class="co">#&gt;      21                   104530 ( 33.2)         14750 ( 36.0)                </span></span>
<span><span class="co">#&gt;      31                   103781 ( 33.0)         14141 ( 34.5)                </span></span>
<span><span class="co">#&gt;   ID (mean (SD))       197003.20 (115147.95) 204459.43 (113014.25) &lt;0.001     </span></span>
<span><span class="co">#&gt;   OA (%)                                                              NaN     </span></span>
<span><span class="co">#&gt;      Control              314542 (100.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      OA                        0 (  0.0)         40943 (100.0)                </span></span>
<span><span class="co">#&gt;      NA                        0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;   immigrate (%)                                                    &lt;0.001     </span></span>
<span><span class="co">#&gt;      &gt; 10 years            19385 (  6.2)          3622 (  8.8)                </span></span>
<span><span class="co">#&gt;      not immigrant        268962 ( 85.5)         34509 ( 84.3)                </span></span>
<span><span class="co">#&gt;      recent                10187 (  3.2)           151 (  0.4)                </span></span>
<span><span class="co">#&gt;      NA                    16008 (  5.1)          2661 (  6.5)                </span></span>
<span><span class="co">#&gt;   province.check (%)                                                  NaN     </span></span>
<span><span class="co">#&gt;      NEWFOUNDLAND           6315 (  2.0)           725 (  1.8)                </span></span>
<span><span class="co">#&gt;      PEI                    5892 (  1.9)           817 (  2.0)                </span></span>
<span><span class="co">#&gt;      NOVA SCOTIA           11081 (  3.5)          1880 (  4.6)                </span></span>
<span><span class="co">#&gt;      NEW BRUNSWICK         11517 (  3.7)          1693 (  4.1)                </span></span>
<span><span class="co">#&gt;      QU\xc9BEC             19111 (  6.1)          2035 (  5.0)                </span></span>
<span><span class="co">#&gt;      ONTARIO               95651 ( 30.4)         13669 ( 33.4)                </span></span>
<span><span class="co">#&gt;      MANITOBA              18050 (  5.7)          2272 (  5.5)                </span></span>
<span><span class="co">#&gt;      SASKATCHEWAN          17941 (  5.7)          2166 (  5.3)                </span></span>
<span><span class="co">#&gt;      ALBERTA               32207 ( 10.2)          3608 (  8.8)                </span></span>
<span><span class="co">#&gt;      BRITISH COLUMBIA      40034 ( 12.7)          4873 ( 11.9)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNAVT       4446 (  1.4)           273 (  0.7)                </span></span>
<span><span class="co">#&gt;      NOT APPLICABLE            0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      DON'T KNOW                0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      REFUSAL                   0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      NOT STATED                0 (  0.0)             0 (  0.0)                </span></span>
<span><span class="co">#&gt;      QUEBEC                46817 ( 14.9)          6366 ( 15.5)                </span></span>
<span><span class="co">#&gt;      NFLD &amp; LAB.            3145 (  1.0)           403 (  1.0)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNA.        2335 (  0.7)           163 (  0.4)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="http://boxuancui.github.io/DataExplorer/reference/plot_missing.html">plot_missing</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="surveydata2_files/figure-html/miss0-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="look-for-zero-cells" class="level4"><h4 class="anchored" data-anchor-id="look-for-zero-cells">Look for zero-cells</h4>
<p>Creates two new variables based on age groups and generates summary tables. It also comments on the presence of ‘zero cells’ in one of the variables, which might require further handling.</p>
<div class="cell" data-hash="surveydata2_cache/html/cells0_62ec403b25e29cda3819c4ac3877ffd4">
<details><summary>Show the code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">analytic</span><span class="op">$</span><span class="va">age.65p</span> <span class="op">&lt;-</span> <span class="va">analytic</span><span class="op">$</span><span class="va">age.teen</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">analytic</span><span class="op">$</span><span class="va">age.teen</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">age</span> <span class="op">==</span> <span class="st">"teen"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">analytic</span><span class="op">$</span><span class="va">age.65p</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">age</span> <span class="op">==</span> <span class="st">"65 years and over"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tableone/man/CreateTableOne.html">CreateTableOne</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">analytic</span>, strata <span class="op">=</span> <span class="st">"age.teen"</span>, includeNA <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       Stratified by age.teen</span></span>
<span><span class="co">#&gt;                        0                     1                     p      test</span></span>
<span><span class="co">#&gt;   n                       344786                 52387                        </span></span>
<span><span class="co">#&gt;   CVD (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      event                 25259 ( 7.3)            265 (  0.5)                </span></span>
<span><span class="co">#&gt;      no event             319031 (92.5)          52090 ( 99.4)                </span></span>
<span><span class="co">#&gt;      NA                      496 ( 0.1)             32 (  0.1)                </span></span>
<span><span class="co">#&gt;   age (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      20-29 years           48652 (14.1)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      30-39 years           63810 (18.5)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      40-49 years           65111 (18.9)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      50-59 years           61035 (17.7)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      60-64 years           25265 ( 7.3)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      65 years and over     80913 (23.5)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      teen                      0 ( 0.0)          52387 (100.0)                </span></span>
<span><span class="co">#&gt;   sex = Male (%)          155980 (45.2)          26543 ( 50.7)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   married (%)                                                      &lt;0.001     </span></span>
<span><span class="co">#&gt;      not single           201528 (58.5)            685 (  1.3)                </span></span>
<span><span class="co">#&gt;      single               142639 (41.4)          51660 ( 98.6)                </span></span>
<span><span class="co">#&gt;      NA                      619 ( 0.2)             42 (  0.1)                </span></span>
<span><span class="co">#&gt;   race (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      Non-white             31107 ( 9.0)           7534 ( 14.4)                </span></span>
<span><span class="co">#&gt;      White                305497 (88.6)          43725 ( 83.5)                </span></span>
<span><span class="co">#&gt;      NA                     8182 ( 2.4)           1128 (  2.2)                </span></span>
<span><span class="co">#&gt;   edu (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      &lt; 2ndary              83649 (24.3)          40776 ( 77.8)                </span></span>
<span><span class="co">#&gt;      2nd grad.             59205 (17.2)           5548 ( 10.6)                </span></span>
<span><span class="co">#&gt;      Other 2nd grad.       24580 ( 7.1)           4420 (  8.4)                </span></span>
<span><span class="co">#&gt;      Post-2nd grad.       170707 (49.5)           1265 (  2.4)                </span></span>
<span><span class="co">#&gt;      NA                     6645 ( 1.9)            378 (  0.7)                </span></span>
<span><span class="co">#&gt;   income (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      $29,999 or less       93630 (27.2)           7701 ( 14.7)                </span></span>
<span><span class="co">#&gt;      $30,000-$49,999       69798 (20.2)           8142 ( 15.5)                </span></span>
<span><span class="co">#&gt;      $50,000-$79,999       73596 (21.3)          11512 ( 22.0)                </span></span>
<span><span class="co">#&gt;      $80,000 or more       63697 (18.5)          12018 ( 22.9)                </span></span>
<span><span class="co">#&gt;      NA                    44065 (12.8)          13014 ( 24.8)                </span></span>
<span><span class="co">#&gt;   bmi (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      Underweight            7277 ( 2.1)           2839 (  5.4)                </span></span>
<span><span class="co">#&gt;      healthy weight       138611 (40.2)           9922 ( 18.9)                </span></span>
<span><span class="co">#&gt;      Overweight           163701 (47.5)           2520 (  4.8)                </span></span>
<span><span class="co">#&gt;      NA                    35197 (10.2)          37106 ( 70.8)                </span></span>
<span><span class="co">#&gt;   phyact (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Active                74738 (21.7)          23833 ( 45.5)                </span></span>
<span><span class="co">#&gt;      Inactive             176573 (51.2)          14166 ( 27.0)                </span></span>
<span><span class="co">#&gt;      Moderate              82158 (23.8)          11349 ( 21.7)                </span></span>
<span><span class="co">#&gt;      NA                    11317 ( 3.3)           3039 (  5.8)                </span></span>
<span><span class="co">#&gt;   doctor (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                    49874 (14.5)           8749 ( 16.7)                </span></span>
<span><span class="co">#&gt;      Yes                  294763 (85.5)          43342 ( 82.7)                </span></span>
<span><span class="co">#&gt;      NA                      149 ( 0.0)            296 (  0.6)                </span></span>
<span><span class="co">#&gt;   stress (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Not too stressed     265391 (77.0)          21353 ( 40.8)                </span></span>
<span><span class="co">#&gt;      stressed              78044 (22.6)           4253 (  8.1)                </span></span>
<span><span class="co">#&gt;      NA                     1351 ( 0.4)          26781 ( 51.1)                </span></span>
<span><span class="co">#&gt;   smoke (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current smoker        88986 (25.8)           8866 ( 16.9)                </span></span>
<span><span class="co">#&gt;      Former smoker        150004 (43.5)           7566 ( 14.4)                </span></span>
<span><span class="co">#&gt;      Never smoker         104332 (30.3)          35685 ( 68.1)                </span></span>
<span><span class="co">#&gt;      NA                     1464 ( 0.4)            270 (  0.5)                </span></span>
<span><span class="co">#&gt;   drink (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current drinker      268269 (77.8)          27464 ( 52.4)                </span></span>
<span><span class="co">#&gt;      Former driker         50929 (14.8)           4370 (  8.3)                </span></span>
<span><span class="co">#&gt;      Never drank           20754 ( 6.0)          19916 ( 38.0)                </span></span>
<span><span class="co">#&gt;      NA                     4834 ( 1.4)            637 (  1.2)                </span></span>
<span><span class="co">#&gt;   fruit (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      0-3 daily serving     72392 (21.0)          11049 ( 21.1)                </span></span>
<span><span class="co">#&gt;      4-6 daily serving    139753 (40.5)          19627 ( 37.5)                </span></span>
<span><span class="co">#&gt;      6+ daily serving      66831 (19.4)          12026 ( 23.0)                </span></span>
<span><span class="co">#&gt;      NA                    65810 (19.1)           9685 ( 18.5)                </span></span>
<span><span class="co">#&gt;   bp (%)                                                           &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   276318 (80.1)          51846 ( 99.0)                </span></span>
<span><span class="co">#&gt;      Yes                   67763 (19.7)            308 (  0.6)                </span></span>
<span><span class="co">#&gt;      NA                      705 ( 0.2)            233 (  0.4)                </span></span>
<span><span class="co">#&gt;   copd (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   291191 (84.5)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      Yes                    4508 ( 1.3)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      NA                    49087 (14.2)          52387 (100.0)                </span></span>
<span><span class="co">#&gt;   diab (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   322448 (93.5)          52141 ( 99.5)                </span></span>
<span><span class="co">#&gt;      Yes                   22032 ( 6.4)            199 (  0.4)                </span></span>
<span><span class="co">#&gt;      NA                      306 ( 0.1)             47 (  0.1)                </span></span>
<span><span class="co">#&gt;   province = South (%)    338450 (98.2)          51001 ( 97.4)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   weight (mean (SD))      201.76 (245.97)       189.09 (205.24)    &lt;0.001     </span></span>
<span><span class="co">#&gt;   cycle (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      11                   113323 (32.9)          17557 ( 33.5)                </span></span>
<span><span class="co">#&gt;      21                   115548 (33.5)          18524 ( 35.4)                </span></span>
<span><span class="co">#&gt;      31                   115915 (33.6)          16306 ( 31.1)                </span></span>
<span><span class="co">#&gt;   ID (mean (SD))       199143.77 (114810.36) 194922.59 (113553.38) &lt;0.001     </span></span>
<span><span class="co">#&gt;   OA (%)                                                           &lt;0.001     </span></span>
<span><span class="co">#&gt;      Control              262815 (76.2)          51727 ( 98.7)                </span></span>
<span><span class="co">#&gt;      OA                    40817 (11.8)            126 (  0.2)                </span></span>
<span><span class="co">#&gt;      NA                    41154 (11.9)            534 (  1.0)                </span></span>
<span><span class="co">#&gt;   immigrate (%)                                                    &lt;0.001     </span></span>
<span><span class="co">#&gt;      &gt; 10 years            25976 ( 7.5)            770 (  1.5)                </span></span>
<span><span class="co">#&gt;      not immigrant        289651 (84.0)          48427 ( 92.4)                </span></span>
<span><span class="co">#&gt;      recent                 8710 ( 2.5)           1934 (  3.7)                </span></span>
<span><span class="co">#&gt;      NA                    20449 ( 5.9)           1256 (  2.4)                </span></span>
<span><span class="co">#&gt;   province.check (%)                                                  NaN     </span></span>
<span><span class="co">#&gt;      NEWFOUNDLAND           6646 ( 1.9)           1278 (  2.4)                </span></span>
<span><span class="co">#&gt;      PEI                    6802 ( 2.0)            942 (  1.8)                </span></span>
<span><span class="co">#&gt;      NOVA SCOTIA           13337 ( 3.9)           2004 (  3.8)                </span></span>
<span><span class="co">#&gt;      NEW BRUNSWICK         13057 ( 3.8)           1968 (  3.8)                </span></span>
<span><span class="co">#&gt;      QU\xc9BEC             19186 ( 5.6)           2826 (  5.4)                </span></span>
<span><span class="co">#&gt;      ONTARIO              107768 (31.3)          16053 ( 30.6)                </span></span>
<span><span class="co">#&gt;      MANITOBA              20362 ( 5.9)           3092 (  5.9)                </span></span>
<span><span class="co">#&gt;      SASKATCHEWAN          20160 ( 5.8)           3201 (  6.1)                </span></span>
<span><span class="co">#&gt;      ALBERTA               34293 ( 9.9)           5834 ( 11.1)                </span></span>
<span><span class="co">#&gt;      BRITISH COLUMBIA      43431 (12.6)           6336 ( 12.1)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNAVT       4170 ( 1.2)            894 (  1.7)                </span></span>
<span><span class="co">#&gt;      NOT APPLICABLE            0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      DON'T KNOW                0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      REFUSAL                   0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      NOT STATED                0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      QUEBEC                49806 (14.4)           6958 ( 13.3)                </span></span>
<span><span class="co">#&gt;      NFLD &amp; LAB.            3602 ( 1.0)            509 (  1.0)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNA.        2166 ( 0.6)            492 (  0.9)                </span></span>
<span><span class="co">#&gt;   age.teen (mean (SD))      0.00 (0.00)           1.00 (0.00)      &lt;0.001     </span></span>
<span><span class="co">#&gt;   age.65p (mean (SD))       0.23 (0.42)           0.00 (0.00)      &lt;0.001</span></span>
<span><span class="co"># copd has zero cells</span></span>
<span><span class="co"># analytic$age[analytic$age == 'teen'] &lt;- NA (will set this if we use copd)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="surveydata2_cache/html/tab0_55a3a7749c0430280ea6214aec833ac6">
<details><summary>Show the code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/tableone/man/CreateTableOne.html">CreateTableOne</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">analytic</span>, strata <span class="op">=</span> <span class="st">"age.65p"</span>, includeNA <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       Stratified by age.65p</span></span>
<span><span class="co">#&gt;                        0                     1                     p      test</span></span>
<span><span class="co">#&gt;   n                       316260                 80913                        </span></span>
<span><span class="co">#&gt;   CVD (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      event                  9028 ( 2.9)          16496 ( 20.4)                </span></span>
<span><span class="co">#&gt;      no event             306923 (97.0)          64198 ( 79.3)                </span></span>
<span><span class="co">#&gt;      NA                      309 ( 0.1)            219 (  0.3)                </span></span>
<span><span class="co">#&gt;   age (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      20-29 years           48652 (15.4)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      30-39 years           63810 (20.2)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      40-49 years           65111 (20.6)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      50-59 years           61035 (19.3)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      60-64 years           25265 ( 8.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      65 years and over         0 ( 0.0)          80913 (100.0)                </span></span>
<span><span class="co">#&gt;      teen                  52387 (16.6)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;   sex = Male (%)          150152 (47.5)          32371 ( 40.0)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   married (%)                                                      &lt;0.001     </span></span>
<span><span class="co">#&gt;      not single           163660 (51.7)          38553 ( 47.6)                </span></span>
<span><span class="co">#&gt;      single               152077 (48.1)          42222 ( 52.2)                </span></span>
<span><span class="co">#&gt;      NA                      523 ( 0.2)            138 (  0.2)                </span></span>
<span><span class="co">#&gt;   race (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      Non-white             35329 (11.2)           3312 (  4.1)                </span></span>
<span><span class="co">#&gt;      White                274000 (86.6)          75222 ( 93.0)                </span></span>
<span><span class="co">#&gt;      NA                     6931 ( 2.2)           2379 (  2.9)                </span></span>
<span><span class="co">#&gt;   edu (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      &lt; 2ndary              84832 (26.8)          39593 ( 48.9)                </span></span>
<span><span class="co">#&gt;      2nd grad.             53974 (17.1)          10779 ( 13.3)                </span></span>
<span><span class="co">#&gt;      Other 2nd grad.       25305 ( 8.0)           3695 (  4.6)                </span></span>
<span><span class="co">#&gt;      Post-2nd grad.       147385 (46.6)          24587 ( 30.4)                </span></span>
<span><span class="co">#&gt;      NA                     4764 ( 1.5)           2259 (  2.8)                </span></span>
<span><span class="co">#&gt;   income (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      $29,999 or less       62513 (19.8)          38818 ( 48.0)                </span></span>
<span><span class="co">#&gt;      $30,000-$49,999       62296 (19.7)          15644 ( 19.3)                </span></span>
<span><span class="co">#&gt;      $50,000-$79,999       77283 (24.4)           7825 (  9.7)                </span></span>
<span><span class="co">#&gt;      $80,000 or more       72566 (22.9)           3149 (  3.9)                </span></span>
<span><span class="co">#&gt;      NA                    41602 (13.2)          15477 ( 19.1)                </span></span>
<span><span class="co">#&gt;   bmi (%)                                                          &lt;0.001     </span></span>
<span><span class="co">#&gt;      Underweight            8588 ( 2.7)           1528 (  1.9)                </span></span>
<span><span class="co">#&gt;      healthy weight       124932 (39.5)          23601 ( 29.2)                </span></span>
<span><span class="co">#&gt;      Overweight           136225 (43.1)          29996 ( 37.1)                </span></span>
<span><span class="co">#&gt;      NA                    46515 (14.7)          25788 ( 31.9)                </span></span>
<span><span class="co">#&gt;   phyact (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Active                85384 (27.0)          13187 ( 16.3)                </span></span>
<span><span class="co">#&gt;      Inactive             144019 (45.5)          46720 ( 57.7)                </span></span>
<span><span class="co">#&gt;      Moderate              76602 (24.2)          16905 ( 20.9)                </span></span>
<span><span class="co">#&gt;      NA                    10255 ( 3.2)           4101 (  5.1)                </span></span>
<span><span class="co">#&gt;   doctor (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                    53972 (17.1)           4651 (  5.7)                </span></span>
<span><span class="co">#&gt;      Yes                  261866 (82.8)          76239 ( 94.2)                </span></span>
<span><span class="co">#&gt;      NA                      422 ( 0.1)             23 (  0.0)                </span></span>
<span><span class="co">#&gt;   stress (%)                                                       &lt;0.001     </span></span>
<span><span class="co">#&gt;      Not too stressed     215454 (68.1)          71290 ( 88.1)                </span></span>
<span><span class="co">#&gt;      stressed              73402 (23.2)           8895 ( 11.0)                </span></span>
<span><span class="co">#&gt;      NA                    27404 ( 8.7)            728 (  0.9)                </span></span>
<span><span class="co">#&gt;   smoke (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current smoker        88068 (27.8)           9784 ( 12.1)                </span></span>
<span><span class="co">#&gt;      Former smoker        115111 (36.4)          42459 ( 52.5)                </span></span>
<span><span class="co">#&gt;      Never smoker         111879 (35.4)          28138 ( 34.8)                </span></span>
<span><span class="co">#&gt;      NA                     1202 ( 0.4)            532 (  0.7)                </span></span>
<span><span class="co">#&gt;   drink (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      Current drinker      245156 (77.5)          50577 ( 62.5)                </span></span>
<span><span class="co">#&gt;      Former driker         35401 (11.2)          19898 ( 24.6)                </span></span>
<span><span class="co">#&gt;      Never drank           31888 (10.1)           8782 ( 10.9)                </span></span>
<span><span class="co">#&gt;      NA                     3815 ( 1.2)           1656 (  2.0)                </span></span>
<span><span class="co">#&gt;   fruit (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      0-3 daily serving     72908 (23.1)          10533 ( 13.0)                </span></span>
<span><span class="co">#&gt;      4-6 daily serving    124621 (39.4)          34759 ( 43.0)                </span></span>
<span><span class="co">#&gt;      6+ daily serving      61855 (19.6)          17002 ( 21.0)                </span></span>
<span><span class="co">#&gt;      NA                    56876 (18.0)          18619 ( 23.0)                </span></span>
<span><span class="co">#&gt;   bp (%)                                                           &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   282174 (89.2)          45990 ( 56.8)                </span></span>
<span><span class="co">#&gt;      Yes                   33346 (10.5)          34725 ( 42.9)                </span></span>
<span><span class="co">#&gt;      NA                      740 ( 0.2)            198 (  0.2)                </span></span>
<span><span class="co">#&gt;   copd (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   213221 (67.4)          77970 ( 96.4)                </span></span>
<span><span class="co">#&gt;      Yes                    1791 ( 0.6)           2717 (  3.4)                </span></span>
<span><span class="co">#&gt;      NA                   101248 (32.0)            226 (  0.3)                </span></span>
<span><span class="co">#&gt;   diab (%)                                                         &lt;0.001     </span></span>
<span><span class="co">#&gt;      No                   305027 (96.4)          69562 ( 86.0)                </span></span>
<span><span class="co">#&gt;      Yes                   10974 ( 3.5)          11257 ( 13.9)                </span></span>
<span><span class="co">#&gt;      NA                      259 ( 0.1)             94 (  0.1)                </span></span>
<span><span class="co">#&gt;   province = South (%)    309016 (97.7)          80435 ( 99.4)     &lt;0.001     </span></span>
<span><span class="co">#&gt;   weight (mean (SD))      215.36 (255.33)       140.38 (160.88)    &lt;0.001     </span></span>
<span><span class="co">#&gt;   cycle (%)                                                        &lt;0.001     </span></span>
<span><span class="co">#&gt;      11                   106647 (33.7)          24233 ( 29.9)                </span></span>
<span><span class="co">#&gt;      21                   105506 (33.4)          28566 ( 35.3)                </span></span>
<span><span class="co">#&gt;      31                   104107 (32.9)          28114 ( 34.7)                </span></span>
<span><span class="co">#&gt;   ID (mean (SD))       197072.98 (115035.66) 204504.77 (112956.66) &lt;0.001     </span></span>
<span><span class="co">#&gt;   OA (%)                                                           &lt;0.001     </span></span>
<span><span class="co">#&gt;      Control              272881 (86.3)          41661 ( 51.5)                </span></span>
<span><span class="co">#&gt;      OA                    20507 ( 6.5)          20436 ( 25.3)                </span></span>
<span><span class="co">#&gt;      NA                    22872 ( 7.2)          18816 ( 23.3)                </span></span>
<span><span class="co">#&gt;   immigrate (%)                                                    &lt;0.001     </span></span>
<span><span class="co">#&gt;      &gt; 10 years            17607 ( 5.6)           9139 ( 11.3)                </span></span>
<span><span class="co">#&gt;      not immigrant        273622 (86.5)          64456 ( 79.7)                </span></span>
<span><span class="co">#&gt;      recent                10325 ( 3.3)            319 (  0.4)                </span></span>
<span><span class="co">#&gt;      NA                    14706 ( 4.6)           6999 (  8.7)                </span></span>
<span><span class="co">#&gt;   province.check (%)                                                  NaN     </span></span>
<span><span class="co">#&gt;      NEWFOUNDLAND           6665 ( 2.1)           1259 (  1.6)                </span></span>
<span><span class="co">#&gt;      PEI                    5993 ( 1.9)           1751 (  2.2)                </span></span>
<span><span class="co">#&gt;      NOVA SCOTIA           11896 ( 3.8)           3445 (  4.3)                </span></span>
<span><span class="co">#&gt;      NEW BRUNSWICK         11856 ( 3.7)           3169 (  3.9)                </span></span>
<span><span class="co">#&gt;      QU\xc9BEC             18128 ( 5.7)           3884 (  4.8)                </span></span>
<span><span class="co">#&gt;      ONTARIO               97660 (30.9)          26161 ( 32.3)                </span></span>
<span><span class="co">#&gt;      MANITOBA              17967 ( 5.7)           5487 (  6.8)                </span></span>
<span><span class="co">#&gt;      SASKATCHEWAN          17507 ( 5.5)           5854 (  7.2)                </span></span>
<span><span class="co">#&gt;      ALBERTA               33445 (10.6)           6682 (  8.3)                </span></span>
<span><span class="co">#&gt;      BRITISH COLUMBIA      39394 (12.5)          10373 ( 12.8)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNAVT       4765 ( 1.5)            299 (  0.4)                </span></span>
<span><span class="co">#&gt;      NOT APPLICABLE            0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      DON'T KNOW                0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      REFUSAL                   0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      NOT STATED                0 ( 0.0)              0 (  0.0)                </span></span>
<span><span class="co">#&gt;      QUEBEC                45226 (14.3)          11538 ( 14.3)                </span></span>
<span><span class="co">#&gt;      NFLD &amp; LAB.            3279 ( 1.0)            832 (  1.0)                </span></span>
<span><span class="co">#&gt;      YUKON/NWT/NUNA.        2479 ( 0.8)            179 (  0.2)                </span></span>
<span><span class="co">#&gt;   age.teen (mean (SD))      0.17 (0.37)           0.00 (0.00)      &lt;0.001     </span></span>
<span><span class="co">#&gt;   age.65p (mean (SD))       0.00 (0.00)           1.00 (0.00)      &lt;0.001</span></span>
<span><span class="va">analytic</span><span class="op">$</span><span class="va">age.65p</span> <span class="op">&lt;-</span> <span class="va">analytic</span><span class="op">$</span><span class="va">age.teen</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Produces frequency tables for multiple variable combinations to check the distribution of the data and identify issues.</p>
<div class="cell" data-hash="surveydata2_cache/html/tab1_961a77d7fcee4a6d4bc6d34e42fe1a1e">
<details><summary>Show the code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">$</span><span class="va">province.check</span>,<span class="va">analytic</span><span class="op">$</span><span class="va">fruit</span><span class="op">)</span></span>
<span><span class="co">#&gt;                   </span></span>
<span><span class="co">#&gt;                    0-3 daily serving 4-6 daily serving 6+ daily serving</span></span>
<span><span class="co">#&gt;   NEWFOUNDLAND                  2991              3401             1237</span></span>
<span><span class="co">#&gt;   PEI                           2280              3654             1506</span></span>
<span><span class="co">#&gt;   NOVA SCOTIA                   3089              4804             1974</span></span>
<span><span class="co">#&gt;   NEW BRUNSWICK                 2989              4730             1880</span></span>
<span><span class="co">#&gt;   QU\xc9BEC                     5568             10502             5786</span></span>
<span><span class="co">#&gt;   ONTARIO                      28752             59466            30746</span></span>
<span><span class="co">#&gt;   MANITOBA                      4561              7669             3095</span></span>
<span><span class="co">#&gt;   SASKATCHEWAN                  4173              7390             3003</span></span>
<span><span class="co">#&gt;   ALBERTA                      10828             18901             8251</span></span>
<span><span class="co">#&gt;   BRITISH COLUMBIA             10726             24422            12390</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNAVT              1829              2045             1023</span></span>
<span><span class="co">#&gt;   NOT APPLICABLE                   0                 0                0</span></span>
<span><span class="co">#&gt;   DON'T KNOW                       0                 0                0</span></span>
<span><span class="co">#&gt;   REFUSAL                          0                 0                0</span></span>
<span><span class="co">#&gt;   NOT STATED                       0                 0                0</span></span>
<span><span class="co">#&gt;   QUEBEC                        5655             12396             7966</span></span>
<span><span class="co">#&gt;   NFLD &amp; LAB.                      0                 0                0</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNA.                  0                 0                0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;       20-29 years       30-39 years       40-49 years       50-59 years </span></span>
<span><span class="co">#&gt;             48652             63810             65111             61035 </span></span>
<span><span class="co">#&gt;       60-64 years 65 years and over              teen </span></span>
<span><span class="co">#&gt;             25265             80913             52387</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">$</span><span class="va">copd</span>, <span class="va">analytic</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span>
<span><span class="co">#&gt;      </span></span>
<span><span class="co">#&gt;       20-29 years 30-39 years 40-49 years 50-59 years 60-64 years</span></span>
<span><span class="co">#&gt;   No            0       63645       64735       60203       24638</span></span>
<span><span class="co">#&gt;   Yes           0         117         320         768         586</span></span>
<span><span class="co">#&gt;      </span></span>
<span><span class="co">#&gt;       65 years and over  teen</span></span>
<span><span class="co">#&gt;   No              77970     0</span></span>
<span><span class="co">#&gt;   Yes              2717     0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">$</span><span class="va">stress</span>, <span class="va">analytic</span><span class="op">$</span><span class="va">age</span><span class="op">)</span> </span>
<span><span class="co">#&gt;                   </span></span>
<span><span class="co">#&gt;                    20-29 years 30-39 years 40-49 years 50-59 years 60-64 years</span></span>
<span><span class="co">#&gt;   Not too stressed       37117       45494       45316       45226       20948</span></span>
<span><span class="co">#&gt;   stressed               11472       18197       19639       15623        4218</span></span>
<span><span class="co">#&gt;                   </span></span>
<span><span class="co">#&gt;                    65 years and over  teen</span></span>
<span><span class="co">#&gt;   Not too stressed             71290 21353</span></span>
<span><span class="co">#&gt;   stressed                      8895  4253</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>universe 15 + is not an issue for <code>stress</code> as age starts from 20</li>
<li>
<code>copd</code> is problematic!</li>
</ul>
<p>Creates tables to look at the distribution of a specific variable across different cycles (time periods) of the survey. Notes differences and issues.</p>
<ul>
<li>
<code>fruit</code> variable measured in an <strong>optional component</strong> (not available in all cycles)</li>
</ul>
<div class="cell" data-hash="surveydata2_cache/html/tab2_352f3246e69a05a306071126bdeb7493">
<details><summary>Show the code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">$</span><span class="va">province.check</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">cycle</span><span class="op">==</span><span class="fl">11</span><span class="op">]</span>,</span>
<span>      <span class="va">analytic</span><span class="op">$</span><span class="va">fruit</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">cycle</span><span class="op">==</span><span class="fl">11</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;                   </span></span>
<span><span class="co">#&gt;                    0-3 daily serving 4-6 daily serving 6+ daily serving</span></span>
<span><span class="co">#&gt;   NEWFOUNDLAND                  1512              1643              689</span></span>
<span><span class="co">#&gt;   PEI                           1084              1738              773</span></span>
<span><span class="co">#&gt;   NOVA SCOTIA                   1732              2500             1036</span></span>
<span><span class="co">#&gt;   NEW BRUNSWICK                 1663              2363              934</span></span>
<span><span class="co">#&gt;   QU\xc9BEC                     5568             10502             5786</span></span>
<span><span class="co">#&gt;   ONTARIO                      10437             19478             8809</span></span>
<span><span class="co">#&gt;   MANITOBA                      2604              4214             1526</span></span>
<span><span class="co">#&gt;   SASKATCHEWAN                  2386              3957             1387</span></span>
<span><span class="co">#&gt;   ALBERTA                       4391              7050             2664</span></span>
<span><span class="co">#&gt;   BRITISH COLUMBIA              4321              9350             4278</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNAVT               999              1014              448</span></span>
<span><span class="co">#&gt;   NOT APPLICABLE                   0                 0                0</span></span>
<span><span class="co">#&gt;   DON'T KNOW                       0                 0                0</span></span>
<span><span class="co">#&gt;   REFUSAL                          0                 0                0</span></span>
<span><span class="co">#&gt;   NOT STATED                       0                 0                0</span></span>
<span><span class="co">#&gt;   QUEBEC                           0                 0                0</span></span>
<span><span class="co">#&gt;   NFLD &amp; LAB.                      0                 0                0</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNA.                  0                 0                0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="surveydata2_cache/html/tab3_bbc98f7aa3b50ab85d790de3eb0d0035">
<details><summary>Show the code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">$</span><span class="va">province.check</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">cycle</span><span class="op">==</span><span class="fl">21</span><span class="op">]</span>,</span>
<span>      <span class="va">analytic</span><span class="op">$</span><span class="va">fruit</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">cycle</span><span class="op">==</span><span class="fl">21</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;                   </span></span>
<span><span class="co">#&gt;                    0-3 daily serving 4-6 daily serving 6+ daily serving</span></span>
<span><span class="co">#&gt;   NEWFOUNDLAND                  1479              1758              548</span></span>
<span><span class="co">#&gt;   PEI                            615               947              344</span></span>
<span><span class="co">#&gt;   NOVA SCOTIA                   1357              2304              938</span></span>
<span><span class="co">#&gt;   NEW BRUNSWICK                 1326              2367              946</span></span>
<span><span class="co">#&gt;   QU\xc9BEC                        0                 0                0</span></span>
<span><span class="co">#&gt;   ONTARIO                       9365             20356            10933</span></span>
<span><span class="co">#&gt;   MANITOBA                      1957              3455             1569</span></span>
<span><span class="co">#&gt;   SASKATCHEWAN                  1787              3433             1616</span></span>
<span><span class="co">#&gt;   ALBERTA                       3326              6376             3046</span></span>
<span><span class="co">#&gt;   BRITISH COLUMBIA              3186              7727             4224</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNAVT               830              1031              575</span></span>
<span><span class="co">#&gt;   NOT APPLICABLE                   0                 0                0</span></span>
<span><span class="co">#&gt;   DON'T KNOW                       0                 0                0</span></span>
<span><span class="co">#&gt;   REFUSAL                          0                 0                0</span></span>
<span><span class="co">#&gt;   NOT STATED                       0                 0                0</span></span>
<span><span class="co">#&gt;   QUEBEC                        5655             12396             7966</span></span>
<span><span class="co">#&gt;   NFLD &amp; LAB.                      0                 0                0</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNA.                  0                 0                0</span></span>
<span><span class="co"># a different QUEBEC spelling used</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="surveydata2_cache/html/tab4_d4561c0c5451085f087e0184452cbaed">
<details><summary>Show the code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">$</span><span class="va">province.check</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">cycle</span><span class="op">==</span><span class="fl">31</span><span class="op">]</span>,</span>
<span>      <span class="va">analytic</span><span class="op">$</span><span class="va">fruit</span><span class="op">[</span><span class="va">analytic</span><span class="op">$</span><span class="va">cycle</span><span class="op">==</span><span class="fl">31</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;                   </span></span>
<span><span class="co">#&gt;                    0-3 daily serving 4-6 daily serving 6+ daily serving</span></span>
<span><span class="co">#&gt;   NEWFOUNDLAND                     0                 0                0</span></span>
<span><span class="co">#&gt;   PEI                            581               969              389</span></span>
<span><span class="co">#&gt;   NOVA SCOTIA                      0                 0                0</span></span>
<span><span class="co">#&gt;   NEW BRUNSWICK                    0                 0                0</span></span>
<span><span class="co">#&gt;   QU\xc9BEC                        0                 0                0</span></span>
<span><span class="co">#&gt;   ONTARIO                       8950             19632            11004</span></span>
<span><span class="co">#&gt;   MANITOBA                         0                 0                0</span></span>
<span><span class="co">#&gt;   SASKATCHEWAN                     0                 0                0</span></span>
<span><span class="co">#&gt;   ALBERTA                       3111              5475             2541</span></span>
<span><span class="co">#&gt;   BRITISH COLUMBIA              3219              7345             3888</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNAVT                 0                 0                0</span></span>
<span><span class="co">#&gt;   NOT APPLICABLE                   0                 0                0</span></span>
<span><span class="co">#&gt;   DON'T KNOW                       0                 0                0</span></span>
<span><span class="co">#&gt;   REFUSAL                          0                 0                0</span></span>
<span><span class="co">#&gt;   NOT STATED                       0                 0                0</span></span>
<span><span class="co">#&gt;   QUEBEC                           0                 0                0</span></span>
<span><span class="co">#&gt;   NFLD &amp; LAB.                      0                 0                0</span></span>
<span><span class="co">#&gt;   YUKON/NWT/NUNA.                  0                 0                0</span></span>
<span><span class="co"># The real problem!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>Look at data dictionaries in all cycles
<ul>
<li>cycle 1.1 FVCADTOT Universe: All respondents</li>
<li>cycle 2.1 FVCCDTOT Universe: All respondents</li>
<li>cycle 3.1 FVCEDTOT Universe: Respondents with FVCEFOPT = 1</li>
</ul>
</li>
</ul>
<p>Below we delete or modify problematic data, and removes unnecessary variables. Checks the dimensions before and after data cleanup.</p>
<div class="cell" data-hash="surveydata2_cache/html/analytic0_b10b777ad42048eb22a69d02378c8716">
<details><summary>Show the code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 397173     24</span></span>
<span><span class="va">analytic1</span> <span class="op">&lt;-</span> <span class="va">analytic</span></span>
<span><span class="co"># analytic1$South[analytic1$province.check == "NFLD &amp; LAB."] &lt;- NA</span></span>
<span><span class="co"># analytic1$South[analytic1$province.check == "YUKON/NWT/NUNA."] &lt;- NA</span></span>
<span><span class="co"># analytic1 &lt;- subset(analytic, province.check != "NFLD &amp; LAB." &amp; </span></span>
<span><span class="co">#                       province.check != "YUKON/NWT/NUNA." )</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">analytic1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 397173     24</span></span>
<span></span>
<span><span class="va">analytic1</span><span class="op">$</span><span class="va">copd</span> <span class="op">&lt;-</span> <span class="cn">NULL</span> <span class="co"># will bring this later for missing data analysis</span></span>
<span><span class="co"># CreateTableOne(data = analytic1, strata = "OA", includeNA = TRUE)</span></span>
<span><span class="co"># analytic1 &lt;- droplevels.data.frame(analytic1)</span></span>
<span><span class="va">analytic1</span><span class="op">$</span><span class="va">province.check</span> <span class="op">&lt;-</span> <span class="cn">NULL</span> <span class="co"># we already have simplified province variable</span></span>
<span><span class="co"># CreateTableOne(data = analytic1, strata = "OA", includeNA = TRUE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="set-appropriate-reference" class="level4"><h4 class="anchored" data-anchor-id="set-appropriate-reference">Set appropriate reference</h4>
<p>Save the original data (with missing values)!</p>
<div class="cell" data-hash="surveydata2_cache/html/analytic2_dc1a89fd7cd501349fbf74a897b4a634">
<details><summary>Show the code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">analytic.miss</span> <span class="op">&lt;-</span> <span class="va">analytic1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Relevels factors in the dataset so that a specific level is set as the reference level. This is often needed for statistical analysis.</p>
<div class="cell" data-hash="surveydata2_cache/html/analytic3_2180c81d9bdc79f6a96306542d9100f7">
<details><summary>Show the code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">smoke</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/relevel.html">relevel</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">smoke</span><span class="op">)</span>, ref<span class="op">=</span><span class="st">'Never smoker'</span><span class="op">)</span></span>
<span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">drink</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/relevel.html">relevel</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">drink</span><span class="op">)</span>, ref<span class="op">=</span><span class="st">'Never drank'</span><span class="op">)</span></span>
<span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">province</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/relevel.html">relevel</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">province</span><span class="op">)</span>, ref<span class="op">=</span><span class="st">'South'</span><span class="op">)</span></span>
<span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">immigrate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/relevel.html">relevel</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">analytic.miss</span><span class="op">$</span><span class="va">immigrate</span><span class="op">)</span>, ref<span class="op">=</span><span class="st">'not immigrant'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="complete-data-options" class="level4"><h4 class="anchored" data-anchor-id="complete-data-options">Complete data options</h4>
<p>Creates a new dataset that omits all rows containing any missing values. This is generally not recommended for most data analysis, as it can introduce bias.</p>
<div class="cell" data-hash="surveydata2_cache/html/analytic4_25019f1905519528343633ef272b83db">
<details><summary>Show the code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Wrong thing to do for survey data analysis!!</span></span>
<span><span class="va">analytic2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">analytic1</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">analytic2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 185613     22</span></span>
<span><span class="co"># tab1 &lt;- CreateTableOne(data = analytic2, strata = "OA", includeNA = TRUE)</span></span>
<span><span class="co"># print(tab1, test=FALSE, showAllLevels = TRUE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="saving-dataset" class="level3"><h3 class="anchored" data-anchor-id="saving-dataset">Saving dataset</h3>
<p>Let us check the dimensions of multiple data objects and then save them to a file for future use.</p>
<div class="cell" data-hash="surveydata2_cache/html/saveall_f7abd45e4ad21abdf6860296db3ac44b">
<details><summary>Show the code</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">cc123a</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 397173     25</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">analytic</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 397173     24</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">analytic.miss</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 397173     22</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">analytic2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 185613     22</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">analytic.miss</span>, <span class="va">analytic2</span>, file <span class="op">=</span> <span class="st">"Data/surveydata/cchs123b.RData"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="video-content-optional" class="level3"><h3 class="anchored" data-anchor-id="video-content-optional">Video content (optional)</h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For those who prefer a video walkthrough, feel free to watch the video below, which offers a description of an earlier version of the above content.</p>
</div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
<iframe src="https://www.youtube.com/embed/d5-dWdAhsZQ" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen="">
</iframe>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./surveydata1.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">CCHS: Revisiting PICOT</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./surveydata3.html" class="pagination-link">
        <span class="nav-page-text">CCHS: Bivariate analysis</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>