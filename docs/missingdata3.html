<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>OER: Advanced Epidemiological Methods - Missing in outcome</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./missingdata4.html" rel="next">
<link href="./missingdata2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CVBPG0RQMY"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CVBPG0RQMY', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="OER: Advanced Epidemiological Methods - Missing in outcome">
<meta name="twitter:description" content="This section provides a theoretical background on the concept of Multiple Imputation and then Deletion (MID).">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Missing in outcome</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">OER: Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling6.html" class="sidebar-item-text sidebar-link">R Markdown</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">R Functions (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">Exercise (W)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Data accessing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">R Functions (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">Exercise (A)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research questions</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">Predictive question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">Predictive question-2a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link">Predictive question-2b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">Causal question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">Causal question-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">R functions (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz (Q)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">Causal roles</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">Confounding</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">Mediator</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">Collider</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">Z-bias</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">Collapsibility</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">Change-in-estimate</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">R functions (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">Quiz (R)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">Prediction ideas</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">Collinear predictors</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">Overfitting and performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">Cross-vaildation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">Bootstrap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">R functions (P)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">Quiz (P)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">Survey data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">CCHS: Revisiting PICOT</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link">CCHS: Assessing data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">CCHS: Bivariate analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">CCHS: Regression</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">CCHS: Performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">NHANES: Blood Pressure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">NHANES: Cholesterol</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">NHANES: Subsetting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">R functions (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">Quiz (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">Exercise (D)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">Missing data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata1.html" class="sidebar-item-text sidebar-link">Imputation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata2.html" class="sidebar-item-text sidebar-link">Imputation in NHANES</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata3.html" class="sidebar-item-text sidebar-link active">Missing in outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata4.html" class="sidebar-item-text sidebar-link">Performance with NA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata5.html" class="sidebar-item-text sidebar-link">Subpopulations</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata6.html" class="sidebar-item-text sidebar-link">MCAR tests</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata7.html" class="sidebar-item-text sidebar-link">Effect modification</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">R functions (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataQ.html" class="sidebar-item-text sidebar-link">Quiz (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">Exercise (M)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">Propensity score</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore1.html" class="sidebar-item-text sidebar-link">Exact Matching (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore2.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore3.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (US)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore4.html" class="sidebar-item-text sidebar-link">PSM in BMI-diabetes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore5.html" class="sidebar-item-text sidebar-link">PSM with MI</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">R functions (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreQ.html" class="sidebar-item-text sidebar-link">Quiz (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">Exercise (S)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">Machine learning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">R functions (L)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">ML in causal inference</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">R functions (C)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">Writing Tools</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1.html" class="sidebar-item-text sidebar-link">Collaborative Writing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting2.html" class="sidebar-item-text sidebar-link">Formatting Tools</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#data" id="toc-data" class="nav-link active" data-scroll-target="#data">Data</a></li>
  <li><a href="#outcome-and-exposure-has-missing" id="toc-outcome-and-exposure-has-missing" class="nav-link" data-scroll-target="#outcome-and-exposure-has-missing">Outcome and exposure has missing</a></li>
  <li><a href="#impute-as-usual" id="toc-impute-as-usual" class="nav-link" data-scroll-target="#impute-as-usual">Impute as usual</a></li>
  <li><a href="#include-a-missing-indicator-y-a" id="toc-include-a-missing-indicator-y-a" class="nav-link" data-scroll-target="#include-a-missing-indicator-y-a">Include a missing indicator (Y &amp; A)</a></li>
  <li><a href="#design-subset-and-fit" id="toc-design-subset-and-fit" class="nav-link" data-scroll-target="#design-subset-and-fit">Design, subset and fit</a></li>
  <li><a href="#pooled-results" id="toc-pooled-results" class="nav-link" data-scroll-target="#pooled-results">Pooled results</a></li>
  <li><a href="#report-or" id="toc-report-or" class="nav-link" data-scroll-target="#report-or">Report OR</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Missing in outcome</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p>This section provides a theoretical background on the concept of Multiple Imputation and then Deletion (MID). It highlights the challenges of imputing dependent and exposure variables and introduces the idea of using auxiliary variables to aid imputation. The section also contrasts the results of traditional MI with MID, especially when the number of imputed datasets is high.</p>
<ul>
<li>Often researchers are reluctant to impute values in the <strong>dependent variable</strong> (and exposure variable). Particularly, for dependent variable, imputation might not help too much.</li>
<li>However, if you have a good <strong>auxiliary variable</strong> (e.g., strongly correlated predictor, that are not used in the main analysis), often multiple imputation method can help. Use of auxiliary variables is one of the greatest strengths of MI methods.</li>
<li>MI algorithm generally do not have any special treatment for dependent variable in its original form, and hence <strong>ignoring dependent variable completely</strong> may not be a good idea in many scenarios.</li>
<li>Multiple imputation followed by deletion of imputed outcomes is known as <strong>MID</strong>. This is very popular, especially when you have high percentage missing values in the outcome variable (e.g., 20%-50%). For low missing % in outcome, the advantage can be minimal.</li>
<li>We are extending this idea to deletion of <strong>imputed exposures</strong> as well (researchers are often reluctant to impute primary exposure of interest).</li>
<li>Original MI and MID may result in similar results when m (<strong>number of imputed datasets</strong>) is higher.</li>
</ul>
<section id="data" class="level3"><h3 class="anchored" data-anchor-id="data">Data</h3>
<p>In the initial chunk, we load several packages that provide functions and tools necessary for the subsequent analysis. These packages facilitate multiple imputation, data visualization, and statistical modeling among other tasks.</p>
<div class="cell" data-hash="missingdata3_cache/html/setup_08227ac9e9caef05eceb71c00b267c49">
<details><summary>Show the code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Load required packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/amices/mice">mice</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/statistikat/VIM">VIM</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jtools.jacob-long.com">jtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://r-survey.r-forge.r-project.org/survey/">survey</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">mitools</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We load the necessary data:</p>
<div class="cell" data-hash="missingdata3_cache/html/load_5bb85f1ec1fffb3034338072cc99ed19">
<details><summary>Show the code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"Data/missingdata/NHANES17.RData"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The data is briefly inspected to understand its structure. An identifier column is added to uniquely identify each row or observation in the dataset.</p>
<div class="cell" data-hash="missingdata3_cache/html/data1_5d62dfd9ad6e4bc02895a27cee0e07b9">
<details><summary>Show the code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/amices/mice">mice</a></span><span class="op">)</span></span>
<span><span class="va">nhanes2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["age"],"name":[1],"type":["fct"],"align":["left"]},{"label":["bmi"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["hyp"],"name":[3],"type":["fct"],"align":["left"]},{"label":["chl"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"20-39","2":"NA","3":"NA","4":"NA","_rn_":"1"},{"1":"40-59","2":"22.7","3":"no","4":"187","_rn_":"2"},{"1":"20-39","2":"NA","3":"no","4":"187","_rn_":"3"},{"1":"60-99","2":"NA","3":"NA","4":"NA","_rn_":"4"},{"1":"20-39","2":"20.4","3":"no","4":"113","_rn_":"5"},{"1":"60-99","2":"NA","3":"NA","4":"184","_rn_":"6"},{"1":"20-39","2":"22.5","3":"no","4":"118","_rn_":"7"},{"1":"20-39","2":"30.1","3":"no","4":"187","_rn_":"8"},{"1":"40-59","2":"22.0","3":"no","4":"238","_rn_":"9"},{"1":"40-59","2":"NA","3":"NA","4":"NA","_rn_":"10"},{"1":"20-39","2":"NA","3":"NA","4":"NA","_rn_":"11"},{"1":"40-59","2":"NA","3":"NA","4":"NA","_rn_":"12"},{"1":"60-99","2":"21.7","3":"no","4":"206","_rn_":"13"},{"1":"40-59","2":"28.7","3":"yes","4":"204","_rn_":"14"},{"1":"20-39","2":"29.6","3":"no","4":"NA","_rn_":"15"},{"1":"20-39","2":"NA","3":"NA","4":"NA","_rn_":"16"},{"1":"60-99","2":"27.2","3":"yes","4":"284","_rn_":"17"},{"1":"40-59","2":"26.3","3":"yes","4":"199","_rn_":"18"},{"1":"20-39","2":"35.3","3":"no","4":"218","_rn_":"19"},{"1":"60-99","2":"25.5","3":"yes","4":"NA","_rn_":"20"},{"1":"20-39","2":"NA","3":"NA","4":"NA","_rn_":"21"},{"1":"20-39","2":"33.2","3":"no","4":"229","_rn_":"22"},{"1":"20-39","2":"27.5","3":"no","4":"131","_rn_":"23"},{"1":"60-99","2":"24.9","3":"no","4":"NA","_rn_":"24"},{"1":"40-59","2":"27.4","3":"no","4":"186","_rn_":"25"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<details><summary>Show the code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">nhanes2</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">nhanes2</span><span class="op">)</span></span>
<span><span class="va">nhanes2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["age"],"name":[1],"type":["fct"],"align":["left"]},{"label":["bmi"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["hyp"],"name":[3],"type":["fct"],"align":["left"]},{"label":["chl"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["id"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"20-39","2":"NA","3":"NA","4":"NA","5":"1","_rn_":"1"},{"1":"40-59","2":"22.7","3":"no","4":"187","5":"2","_rn_":"2"},{"1":"20-39","2":"NA","3":"no","4":"187","5":"3","_rn_":"3"},{"1":"60-99","2":"NA","3":"NA","4":"NA","5":"4","_rn_":"4"},{"1":"20-39","2":"20.4","3":"no","4":"113","5":"5","_rn_":"5"},{"1":"60-99","2":"NA","3":"NA","4":"184","5":"6","_rn_":"6"},{"1":"20-39","2":"22.5","3":"no","4":"118","5":"7","_rn_":"7"},{"1":"20-39","2":"30.1","3":"no","4":"187","5":"8","_rn_":"8"},{"1":"40-59","2":"22.0","3":"no","4":"238","5":"9","_rn_":"9"},{"1":"40-59","2":"NA","3":"NA","4":"NA","5":"10","_rn_":"10"},{"1":"20-39","2":"NA","3":"NA","4":"NA","5":"11","_rn_":"11"},{"1":"40-59","2":"NA","3":"NA","4":"NA","5":"12","_rn_":"12"},{"1":"60-99","2":"21.7","3":"no","4":"206","5":"13","_rn_":"13"},{"1":"40-59","2":"28.7","3":"yes","4":"204","5":"14","_rn_":"14"},{"1":"20-39","2":"29.6","3":"no","4":"NA","5":"15","_rn_":"15"},{"1":"20-39","2":"NA","3":"NA","4":"NA","5":"16","_rn_":"16"},{"1":"60-99","2":"27.2","3":"yes","4":"284","5":"17","_rn_":"17"},{"1":"40-59","2":"26.3","3":"yes","4":"199","5":"18","_rn_":"18"},{"1":"20-39","2":"35.3","3":"no","4":"218","5":"19","_rn_":"19"},{"1":"60-99","2":"25.5","3":"yes","4":"NA","5":"20","_rn_":"20"},{"1":"20-39","2":"NA","3":"NA","4":"NA","5":"21","_rn_":"21"},{"1":"20-39","2":"33.2","3":"no","4":"229","5":"22","_rn_":"22"},{"1":"20-39","2":"27.5","3":"no","4":"131","5":"23","_rn_":"23"},{"1":"60-99","2":"24.9","3":"no","4":"NA","5":"24","_rn_":"24"},{"1":"40-59","2":"27.4","3":"no","4":"186","5":"25","_rn_":"25"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="outcome-and-exposure-has-missing" class="level3"><h3 class="anchored" data-anchor-id="outcome-and-exposure-has-missing">Outcome and exposure has missing</h3>
<p>This chunk focuses on identifying which rows have missing values in both the outcome and exposure variables. The outcome and exposure variables are crucial for the analysis, so understanding where they are missing is essential.</p>
<div class="cell" data-hash="missingdata3_cache/html/miss0_49197055dc4e7e8643ea92fdf3c79987">
<details><summary>Show the code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># assume outcome = bmi and exposure = chl </span></span>
<span><span class="va">nhanes2.excludingYA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">nhanes2</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">bmi</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">chl</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="va">nhanes2.excludingYA</span> <span class="co"># data without missing A and Y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["age"],"name":[1],"type":["fct"],"align":["left"]},{"label":["bmi"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["hyp"],"name":[3],"type":["fct"],"align":["left"]},{"label":["chl"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["id"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"40-59","2":"22.7","3":"no","4":"187","5":"2","_rn_":"2"},{"1":"20-39","2":"20.4","3":"no","4":"113","5":"5","_rn_":"5"},{"1":"20-39","2":"22.5","3":"no","4":"118","5":"7","_rn_":"7"},{"1":"20-39","2":"30.1","3":"no","4":"187","5":"8","_rn_":"8"},{"1":"40-59","2":"22.0","3":"no","4":"238","5":"9","_rn_":"9"},{"1":"60-99","2":"21.7","3":"no","4":"206","5":"13","_rn_":"13"},{"1":"40-59","2":"28.7","3":"yes","4":"204","5":"14","_rn_":"14"},{"1":"60-99","2":"27.2","3":"yes","4":"284","5":"17","_rn_":"17"},{"1":"40-59","2":"26.3","3":"yes","4":"199","5":"18","_rn_":"18"},{"1":"20-39","2":"35.3","3":"no","4":"218","5":"19","_rn_":"19"},{"1":"20-39","2":"33.2","3":"no","4":"229","5":"22","_rn_":"22"},{"1":"20-39","2":"27.5","3":"no","4":"131","5":"23","_rn_":"23"},{"1":"40-59","2":"27.4","3":"no","4":"186","5":"25","_rn_":"25"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<details><summary>Show the code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># identify ids of subjects with missing A &amp; Y </span></span>
<span><span class="va">nhanes2.excludingYA</span><span class="op">$</span><span class="va">id</span></span>
<span><span class="co">#&gt;  [1]  2  5  7  8  9 13 14 17 18 19 22 23 25</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="impute-as-usual" class="level3"><h3 class="anchored" data-anchor-id="impute-as-usual">Impute as usual</h3>
<p>Using the entire dataset, missing values are imputed. This is done by first initializing an imputation model and then performing the imputation to create multiple datasets where missing values are filled in. The result is a list of datasets with imputed values. That means, we impute Y and A for now, as well as other covariates with missing values.</p>
<div class="cell" data-hash="missingdata3_cache/html/imp0_a3a306d4c82f322b52356c15e284d832">
<details><summary>Show the code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># use full data to impute </span></span>
<span><span class="va">ini</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://amices.org/mice/reference/mice.html">mice</a></span><span class="op">(</span><span class="va">nhanes2</span>, pri <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">ini</span><span class="op">$</span><span class="va">method</span></span>
<span><span class="co">#&gt;      age      bmi      hyp      chl       id </span></span>
<span><span class="co">#&gt;       ""    "pmm" "logreg"    "pmm"       ""</span></span>
<span><span class="va">pred</span> <span class="op">&lt;-</span> <span class="va">ini</span><span class="op">$</span><span class="va">predictorMatrix</span></span>
<span><span class="va">pred</span></span>
<span><span class="co">#&gt;     age bmi hyp chl id</span></span>
<span><span class="co">#&gt; age   0   1   1   1  1</span></span>
<span><span class="co">#&gt; bmi   1   0   1   1  1</span></span>
<span><span class="co">#&gt; hyp   1   1   0   1  1</span></span>
<span><span class="co">#&gt; chl   1   1   1   0  1</span></span>
<span><span class="co">#&gt; id    1   1   1   1  0</span></span>
<span><span class="va">pred</span><span class="op">[</span>,<span class="st">"id"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span> <span class="co"># as this is not a predictor</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">imp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://amices.org/mice/reference/mice.html">mice</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">nhanes2</span>, m<span class="op">=</span><span class="va">m</span>, maxit<span class="op">=</span><span class="fl">3</span>, seed<span class="op">=</span><span class="fl">504007</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  iter imp variable</span></span>
<span><span class="co">#&gt;   1   1  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   1   2  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   1   3  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   1   4  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   1   5  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   2   1  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   2   2  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   2   3  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   2   4  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   2   5  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   3   1  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   3   2  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   3   3  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   3   4  bmi  hyp  chl</span></span>
<span><span class="co">#&gt;   3   5  bmi  hyp  chl</span></span>
<span><span class="co"># list format in m data</span></span>
<span><span class="va">impdata</span> <span class="op">&lt;-</span> <span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html">complete</a></span><span class="op">(</span><span class="va">imp</span>, action <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="va">impdata</span> <span class="co"># all IDs are present</span></span>
<span><span class="co">#&gt; $`1`</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id</span></span>
<span><span class="co">#&gt; 1  20-39 20.4  no 187  1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2</span></span>
<span><span class="co">#&gt; 3  20-39 27.4  no 187  3</span></span>
<span><span class="co">#&gt; 4  60-99 25.5 yes 204  4</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5</span></span>
<span><span class="co">#&gt; 6  60-99 22.5 yes 184  6</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9</span></span>
<span><span class="co">#&gt; 10 40-59 20.4  no 199 10</span></span>
<span><span class="co">#&gt; 11 20-39 27.5  no 199 11</span></span>
<span><span class="co">#&gt; 12 40-59 26.3  no 284 12</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 187 15</span></span>
<span><span class="co">#&gt; 16 20-39 35.3 yes 204 16</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 284 20</span></span>
<span><span class="co">#&gt; 21 20-39 35.3 yes 184 21</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 218 24</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2`</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id</span></span>
<span><span class="co">#&gt; 1  20-39 28.7 yes 238  1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2</span></span>
<span><span class="co">#&gt; 3  20-39 30.1  no 187  3</span></span>
<span><span class="co">#&gt; 4  60-99 22.5 yes 218  4</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5</span></span>
<span><span class="co">#&gt; 6  60-99 20.4 yes 184  6</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9</span></span>
<span><span class="co">#&gt; 10 40-59 22.5 yes 238 10</span></span>
<span><span class="co">#&gt; 11 20-39 26.3 yes 118 11</span></span>
<span><span class="co">#&gt; 12 40-59 20.4  no 199 12</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 187 15</span></span>
<span><span class="co">#&gt; 16 20-39 24.9  no 238 16</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 218 20</span></span>
<span><span class="co">#&gt; 21 20-39 27.5  no 187 21</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 218 24</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`3`</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id</span></span>
<span><span class="co">#&gt; 1  20-39 25.5  no 229  1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2</span></span>
<span><span class="co">#&gt; 3  20-39 22.0  no 187  3</span></span>
<span><span class="co">#&gt; 4  60-99 20.4  no 199  4</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5</span></span>
<span><span class="co">#&gt; 6  60-99 22.7  no 184  6</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9</span></span>
<span><span class="co">#&gt; 10 40-59 27.4  no 184 10</span></span>
<span><span class="co">#&gt; 11 20-39 30.1  no 238 11</span></span>
<span><span class="co">#&gt; 12 40-59 22.0  no 186 12</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 229 15</span></span>
<span><span class="co">#&gt; 16 20-39 22.0  no 118 16</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 218 20</span></span>
<span><span class="co">#&gt; 21 20-39 29.6  no 131 21</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 218 24</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`4`</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id</span></span>
<span><span class="co">#&gt; 1  20-39 24.9  no 187  1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2</span></span>
<span><span class="co">#&gt; 3  20-39 27.4  no 187  3</span></span>
<span><span class="co">#&gt; 4  60-99 24.9 yes 206  4</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5</span></span>
<span><span class="co">#&gt; 6  60-99 22.5  no 184  6</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9</span></span>
<span><span class="co">#&gt; 10 40-59 26.3 yes 187 10</span></span>
<span><span class="co">#&gt; 11 20-39 29.6  no 229 11</span></span>
<span><span class="co">#&gt; 12 40-59 27.4  no 204 12</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 186 15</span></span>
<span><span class="co">#&gt; 16 20-39 35.3  no 184 16</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 199 20</span></span>
<span><span class="co">#&gt; 21 20-39 27.5  no 187 21</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 284 24</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`5`</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id</span></span>
<span><span class="co">#&gt; 1  20-39 27.2  no 238  1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2</span></span>
<span><span class="co">#&gt; 3  20-39 24.9  no 187  3</span></span>
<span><span class="co">#&gt; 4  60-99 20.4  no 229  4</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5</span></span>
<span><span class="co">#&gt; 6  60-99 21.7  no 184  6</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9</span></span>
<span><span class="co">#&gt; 10 40-59 20.4 yes 187 10</span></span>
<span><span class="co">#&gt; 11 20-39 25.5  no 118 11</span></span>
<span><span class="co">#&gt; 12 40-59 21.7  no 187 12</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 199 15</span></span>
<span><span class="co">#&gt; 16 20-39 27.5  no 187 16</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 206 20</span></span>
<span><span class="co">#&gt; 21 20-39 33.2  no 206 21</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 204 24</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "mild" "list"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="include-a-missing-indicator-y-a" class="level3"><h3 class="anchored" data-anchor-id="include-a-missing-indicator-y-a">Include a missing indicator (Y &amp; A)</h3>
<p>For each imputed dataset, a new column is added to indicate whether the outcome and exposure variables were originally missing. This missing indicator column will be used later to subset the data.</p>
<div class="cell" data-hash="missingdata3_cache/html/imp1_afc1700e5506d36b9a424b599cce728e">
<details><summary>Show the code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Define formula (making binary Y)</span></span>
<span><span class="va">formula</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html">as.formula</a></span><span class="op">(</span><span class="st">"I(bmi&gt;25) ~ chl + hyp"</span><span class="op">)</span></span>
<span><span class="va">data.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"list"</span>, <span class="va">m</span><span class="op">)</span></span>
<span><span class="co"># subset the data without Y and A's that had missing values</span></span>
<span><span class="co"># and record those subset data</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">m</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">analytic.i</span> <span class="op">&lt;-</span> <span class="va">impdata</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">analytic.i</span><span class="op">$</span><span class="va">miss</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>  <span class="va">analytic.i</span><span class="op">$</span><span class="va">miss</span><span class="op">[</span><span class="va">analytic.i</span><span class="op">$</span><span class="va">id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">nhanes2.excludingYA</span><span class="op">$</span><span class="va">id</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>  <span class="va">data.list</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">analytic.i</span></span>
<span><span class="op">}</span></span>
<span><span class="va">data.list</span>  <span class="co"># only relevant IDs are present</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id miss</span></span>
<span><span class="co">#&gt; 1  20-39 20.4  no 187  1    1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2    0</span></span>
<span><span class="co">#&gt; 3  20-39 27.4  no 187  3    1</span></span>
<span><span class="co">#&gt; 4  60-99 25.5 yes 204  4    1</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5    0</span></span>
<span><span class="co">#&gt; 6  60-99 22.5 yes 184  6    1</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7    0</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8    0</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9    0</span></span>
<span><span class="co">#&gt; 10 40-59 20.4  no 199 10    1</span></span>
<span><span class="co">#&gt; 11 20-39 27.5  no 199 11    1</span></span>
<span><span class="co">#&gt; 12 40-59 26.3  no 284 12    1</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13    0</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14    0</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 187 15    1</span></span>
<span><span class="co">#&gt; 16 20-39 35.3 yes 204 16    1</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17    0</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18    0</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19    0</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 284 20    1</span></span>
<span><span class="co">#&gt; 21 20-39 35.3 yes 184 21    1</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22    0</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23    0</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 218 24    1</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id miss</span></span>
<span><span class="co">#&gt; 1  20-39 28.7 yes 238  1    1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2    0</span></span>
<span><span class="co">#&gt; 3  20-39 30.1  no 187  3    1</span></span>
<span><span class="co">#&gt; 4  60-99 22.5 yes 218  4    1</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5    0</span></span>
<span><span class="co">#&gt; 6  60-99 20.4 yes 184  6    1</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7    0</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8    0</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9    0</span></span>
<span><span class="co">#&gt; 10 40-59 22.5 yes 238 10    1</span></span>
<span><span class="co">#&gt; 11 20-39 26.3 yes 118 11    1</span></span>
<span><span class="co">#&gt; 12 40-59 20.4  no 199 12    1</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13    0</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14    0</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 187 15    1</span></span>
<span><span class="co">#&gt; 16 20-39 24.9  no 238 16    1</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17    0</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18    0</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19    0</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 218 20    1</span></span>
<span><span class="co">#&gt; 21 20-39 27.5  no 187 21    1</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22    0</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23    0</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 218 24    1</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id miss</span></span>
<span><span class="co">#&gt; 1  20-39 25.5  no 229  1    1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2    0</span></span>
<span><span class="co">#&gt; 3  20-39 22.0  no 187  3    1</span></span>
<span><span class="co">#&gt; 4  60-99 20.4  no 199  4    1</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5    0</span></span>
<span><span class="co">#&gt; 6  60-99 22.7  no 184  6    1</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7    0</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8    0</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9    0</span></span>
<span><span class="co">#&gt; 10 40-59 27.4  no 184 10    1</span></span>
<span><span class="co">#&gt; 11 20-39 30.1  no 238 11    1</span></span>
<span><span class="co">#&gt; 12 40-59 22.0  no 186 12    1</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13    0</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14    0</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 229 15    1</span></span>
<span><span class="co">#&gt; 16 20-39 22.0  no 118 16    1</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17    0</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18    0</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19    0</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 218 20    1</span></span>
<span><span class="co">#&gt; 21 20-39 29.6  no 131 21    1</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22    0</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23    0</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 218 24    1</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id miss</span></span>
<span><span class="co">#&gt; 1  20-39 24.9  no 187  1    1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2    0</span></span>
<span><span class="co">#&gt; 3  20-39 27.4  no 187  3    1</span></span>
<span><span class="co">#&gt; 4  60-99 24.9 yes 206  4    1</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5    0</span></span>
<span><span class="co">#&gt; 6  60-99 22.5  no 184  6    1</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7    0</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8    0</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9    0</span></span>
<span><span class="co">#&gt; 10 40-59 26.3 yes 187 10    1</span></span>
<span><span class="co">#&gt; 11 20-39 29.6  no 229 11    1</span></span>
<span><span class="co">#&gt; 12 40-59 27.4  no 204 12    1</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13    0</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14    0</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 186 15    1</span></span>
<span><span class="co">#&gt; 16 20-39 35.3  no 184 16    1</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17    0</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18    0</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19    0</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 199 20    1</span></span>
<span><span class="co">#&gt; 21 20-39 27.5  no 187 21    1</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22    0</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23    0</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 284 24    1</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt;      age  bmi hyp chl id miss</span></span>
<span><span class="co">#&gt; 1  20-39 27.2  no 238  1    1</span></span>
<span><span class="co">#&gt; 2  40-59 22.7  no 187  2    0</span></span>
<span><span class="co">#&gt; 3  20-39 24.9  no 187  3    1</span></span>
<span><span class="co">#&gt; 4  60-99 20.4  no 229  4    1</span></span>
<span><span class="co">#&gt; 5  20-39 20.4  no 113  5    0</span></span>
<span><span class="co">#&gt; 6  60-99 21.7  no 184  6    1</span></span>
<span><span class="co">#&gt; 7  20-39 22.5  no 118  7    0</span></span>
<span><span class="co">#&gt; 8  20-39 30.1  no 187  8    0</span></span>
<span><span class="co">#&gt; 9  40-59 22.0  no 238  9    0</span></span>
<span><span class="co">#&gt; 10 40-59 20.4 yes 187 10    1</span></span>
<span><span class="co">#&gt; 11 20-39 25.5  no 118 11    1</span></span>
<span><span class="co">#&gt; 12 40-59 21.7  no 187 12    1</span></span>
<span><span class="co">#&gt; 13 60-99 21.7  no 206 13    0</span></span>
<span><span class="co">#&gt; 14 40-59 28.7 yes 204 14    0</span></span>
<span><span class="co">#&gt; 15 20-39 29.6  no 199 15    1</span></span>
<span><span class="co">#&gt; 16 20-39 27.5  no 187 16    1</span></span>
<span><span class="co">#&gt; 17 60-99 27.2 yes 284 17    0</span></span>
<span><span class="co">#&gt; 18 40-59 26.3 yes 199 18    0</span></span>
<span><span class="co">#&gt; 19 20-39 35.3  no 218 19    0</span></span>
<span><span class="co">#&gt; 20 60-99 25.5 yes 206 20    1</span></span>
<span><span class="co">#&gt; 21 20-39 33.2  no 206 21    1</span></span>
<span><span class="co">#&gt; 22 20-39 33.2  no 229 22    0</span></span>
<span><span class="co">#&gt; 23 20-39 27.5  no 131 23    0</span></span>
<span><span class="co">#&gt; 24 60-99 24.9  no 204 24    1</span></span>
<span><span class="co">#&gt; 25 40-59 27.4  no 186 25    0</span></span>
<span><span class="co"># record the fits from each data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="design-subset-and-fit" class="level3"><h3 class="anchored" data-anchor-id="design-subset-and-fit">Design, subset and fit</h3>
<p>For each imputed dataset, a statistical model is fitted. Before fitting, the data is structured to account for survey design features. Only rows without originally missing outcome and exposure values are used for model fitting. The results of the model fitting for each dataset are stored for later analysis.</p>
<div class="cell" data-hash="missingdata3_cache/html/imp2_cf9d2dc3e2e58af451bec9c3fde2cb2f">
<details><summary>Show the code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="http://r-survey.r-forge.r-project.org/survey/">survey</a></span><span class="op">)</span></span>
<span><span class="va">fit.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"list"</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">m</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">analytic.i</span> <span class="op">&lt;-</span> <span class="va">data.list</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="co"># assigning survey features = 1</span></span>
<span>  <span class="va">w.design0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survey/man/svydesign.html">svydesign</a></span><span class="op">(</span>id<span class="op">=</span><span class="op">~</span><span class="fl">1</span>, weights<span class="op">=</span><span class="op">~</span><span class="fl">1</span>,</span>
<span>                        data<span class="op">=</span><span class="va">analytic.i</span><span class="op">)</span></span>
<span>  <span class="va">w.design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">w.design0</span>, <span class="va">miss</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survey/man/svyglm.html">svyglm</a></span><span class="op">(</span><span class="va">formula</span>, design<span class="op">=</span><span class="va">w.design</span>, family<span class="op">=</span><span class="va">binomial</span><span class="op">)</span></span>
<span>  <span class="va">fit.list</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span>  <span class="va">fit</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="pooled-results" class="level3"><h3 class="anchored" data-anchor-id="pooled-results">Pooled results</h3>
<p>After fitting models to each imputed dataset, the results are combined or pooled. This pooled result provides a more robust estimate by considering the variability across the imputed datasets.</p>
<div class="cell" data-hash="missingdata3_cache/html/imp3_b425475ecdc5ba3380b95b058d6de9d0">
<details><summary>Show the code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va">mitools</span><span class="op">)</span></span>
<span><span class="va">pooled.estimates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mitools/man/MIcombine.html">MIcombine</a></span><span class="op">(</span><span class="va">fit.list</span><span class="op">)</span></span>
<span><span class="va">pooled.estimates</span></span>
<span><span class="co">#&gt; Multiple imputation results:</span></span>
<span><span class="co">#&gt;       MIcombine.default(fit.list)</span></span>
<span><span class="co">#&gt;                  results         se</span></span>
<span><span class="co">#&gt; (Intercept) -1.769918773 2.73723080</span></span>
<span><span class="co">#&gt; chl          0.009747869 0.01499608</span></span>
<span><span class="co">#&gt; hypyes      18.128613035 1.05775401</span></span>
<span></span>
<span><span class="co"># or you can do it this way</span></span>
<span><span class="va">betas</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/mitools/man/MIextract.html">MIextract</a></span><span class="op">(</span><span class="va">fit.list</span>,fun<span class="op">=</span><span class="va">coef</span><span class="op">)</span></span>
<span><span class="va">vars</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/mitools/man/MIextract.html">MIextract</a></span><span class="op">(</span><span class="va">fit.list</span>, fun<span class="op">=</span><span class="va">vcov</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/mitools/man/MIcombine.html">MIcombine</a></span><span class="op">(</span><span class="va">betas</span>,<span class="va">vars</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Multiple imputation results:</span></span>
<span><span class="co">#&gt;       MIcombine.default(betas, vars)</span></span>
<span><span class="co">#&gt;                  results         se      (lower      upper) missInfo</span></span>
<span><span class="co">#&gt; (Intercept) -1.769918773 2.73723080 -7.13479255  3.59495501      0 %</span></span>
<span><span class="co">#&gt; chl          0.009747869 0.01499608 -0.01964391  0.03913964      0 %</span></span>
<span><span class="co">#&gt; hypyes      18.128613035 1.05775401 16.05545326 20.20177281      0 %</span></span>
<span></span>
<span><span class="co"># report beta coef</span></span>
<span><span class="va">sum.pooled</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">pooled.estimates</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Multiple imputation results:</span></span>
<span><span class="co">#&gt;       MIcombine.default(fit.list)</span></span>
<span><span class="co">#&gt;             results    se (lower upper) missInfo</span></span>
<span><span class="co">#&gt; (Intercept) -1.7699 2.737  -7.13  3.595      0 %</span></span>
<span><span class="co">#&gt; chl          0.0097 0.015  -0.02  0.039      0 %</span></span>
<span><span class="co">#&gt; hypyes      18.1286 1.058  16.06 20.202      0 %</span></span>
<span><span class="va">sum.pooled</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["results"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["se"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["(lower"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["upper)"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["missInfo"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"-1.769918773","2":"2.73723080","3":"-7.13479255","4":"3.59495501","5":"0 %","_rn_":"(Intercept)"},{"1":"0.009747869","2":"0.01499608","3":"-0.01964391","4":"0.03913964","5":"0 %","_rn_":"chl"},{"1":"18.128613035","2":"1.05775401","3":"16.05545326","4":"20.20177281","5":"0 %","_rn_":"hypyes"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="report-or" class="level3"><h3 class="anchored" data-anchor-id="report-or">Report OR</h3>
<p>The pooled results are further processed to calculate and report odds ratios, which provide insights into the relationships between variables in the context of logistic regression.</p>
<div class="cell" data-hash="missingdata3_cache/html/imp4_257fa3400e3e6b461af84a167f52f080">
<details><summary>Show the code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">sum.pooled.OR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">pooled.estimates</span>, logeffect<span class="op">=</span><span class="cn">TRUE</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Multiple imputation results:</span></span>
<span><span class="co">#&gt;       MIcombine.default(fit.list)</span></span>
<span><span class="co">#&gt;             results      se  (lower  upper) missInfo</span></span>
<span><span class="co">#&gt; (Intercept) 1.7e-01 4.7e-01 8.0e-04 3.6e+01      0 %</span></span>
<span><span class="co">#&gt; chl         1.0e+00 1.5e-02 9.8e-01 1.0e+00      0 %</span></span>
<span><span class="co">#&gt; hypyes      7.5e+07 7.9e+07 9.4e+06 5.9e+08      0 %</span></span>
<span><span class="va">sum.pooled.OR</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["results"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["se"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["(lower"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["upper)"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["missInfo"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"1.703468e-01","2":"4.662786e-01","3":"7.968911e-04","4":"3.641406e+01","5":"0 %","_rn_":"(Intercept)"},{"1":"1.009796e+00","2":"1.514297e-02","3":"9.805478e-01","4":"1.039916e+00","5":"0 %","_rn_":"chl"},{"1":"7.467180e+07","2":"7.898439e+07","3":"9.392793e+06","4":"5.936336e+08","5":"0 %","_rn_":"hypyes"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Using publish package may be possible, but requires complicated process. Look for <code>publish.MIresult</code> (but this can be complicated).</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./missingdata2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Imputation in NHANES</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./missingdata4.html" class="pagination-link">
        <span class="nav-page-text">Performance with NA</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>