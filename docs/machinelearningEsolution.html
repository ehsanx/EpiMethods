<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Exercise 1 Solution (L) – Advanced Epidemiological Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./machinelearningCausal.html" rel="next">
<link href="./machinelearningE.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ae0b5334a1ec0bf99af3d0c304a697d2.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d7467a78f02d1547bfd7f7d524b2f508.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CVBPG0RQMY"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CVBPG0RQMY', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="Exercise 1 Solution (L) – Advanced Epidemiological Methods">
<meta name="twitter:description" content="">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./machinelearning.html">Machine learning (ML)</a></li><li class="breadcrumb-item"><a href="./machinelearningEsolution.html">Exercise 1 Solution (L)</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Project</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data wrangling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Automating tasks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing dataset</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data manipulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Import external data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summary tables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Functions (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (W)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (W)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Accessing data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survey data sources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1i.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descriptions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing CCHS to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing NHANES to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reproducing NHANES results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Importing NHIS to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linking mortality data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Replicate Data Creation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Functions (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE1vibep1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (A) Vibe Part 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE1vibep2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (A) Vibe Part 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE2solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 Solution (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 3 (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE3solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 3 Solution (A)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE3vibe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 3 (A) Vibe</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./exploring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploratory Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploring0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Univariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploring1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploring2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful Packages</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research questions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (Q)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive question-1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive question-2a</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive question-2b</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal question-1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal question-2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (Q)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (Q)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (Q)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./Simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Simulation1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Monte Carlo Simulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Simulation2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Performance Measures</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Simulation3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Estimating Causal Effects</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal roles</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confounding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mediator</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collider</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simpson’s Paradox</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Z-bias</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collapsibility</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Change-in-estimate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingE2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 (R)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingE2solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 2 Solution (R)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prediction ideas</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (P)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collinear predictors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Binary outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overfitting and performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Splitting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bootstrap</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (P)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (P)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survey data analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Revisiting PICOT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Assessing data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Bivariate analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CCHS: Performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Blood Pressure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Cholesterol</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Subsetting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Reliability Standards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata9c.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHANES: Performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (D)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (D)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missing data analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Imputation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Imputation in NHANES</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missing in outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Performance with NA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Subpopulations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MCAR tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Effect modification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (M)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 Solution (M)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity score</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exact Matching (CCHS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM in OA-CVD (CCHS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM in OA-CVD (US)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM in BMI-diabetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM with MI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PS Weighting (US)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSM with MI in subset</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSW with MI in subset</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSW with multiple tx</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (S)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreEsolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 solution (S)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Machine learning (ML)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data spliting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Binary outcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Supervised learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unsupervised learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NHIS Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Replicate Results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise 1 (L)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningEsolution.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Exercise 1 Solution (L)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML in causal inference</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (C)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Motivation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SuperLearner</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Binary Outcomes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous Outcomes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausal5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparing results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (C)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (C)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./nonbinary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Complex outcomes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (N)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polytomous and ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary2a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival analysis: NHANES</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinary3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Poisson</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinaryF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (N)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonbinaryQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (N)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Longitudinal data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (T)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed effects models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinal2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GEE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinalF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (T)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./longitudinalQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (T)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./mediation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mediation analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts (I)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Baron and Kenny</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Justification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediation3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mediation Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediationF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R functions (I)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mediationQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quiz (I)</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Writing tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git and GitHub</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1a.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Configure Git in RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1b.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Create and Clone a Git Repository</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1c.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Updating Repository Contents from RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Formatting Tools</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#question-1-creating-data" id="toc-question-1-creating-data" class="nav-link active" data-scroll-target="#question-1-creating-data">Question 1: Creating data</a>
  <ul class="collapse">
<li><a href="#a-downloading-the-datasets" id="toc-a-downloading-the-datasets" class="nav-link" data-scroll-target="#a-downloading-the-datasets">1(a) Downloading the datasets</a></li>
  <li><a href="#b-recoding" id="toc-b-recoding" class="nav-link" data-scroll-target="#b-recoding">1(b) Recoding</a></li>
  <li><a href="#c-keep-relevant-variables" id="toc-c-keep-relevant-variables" class="nav-link" data-scroll-target="#c-keep-relevant-variables">1(c) Keep relevant variables</a></li>
  <li><a href="#d-weight-normalization" id="toc-d-weight-normalization" class="nav-link" data-scroll-target="#d-weight-normalization">1(d) Weight normalization</a></li>
  <li><a href="#e-analytic-dataset" id="toc-e-analytic-dataset" class="nav-link" data-scroll-target="#e-analytic-dataset">1(e) Analytic dataset</a></li>
  <li><a href="#f-complete-case-data" id="toc-f-complete-case-data" class="nav-link" data-scroll-target="#f-complete-case-data">1(f) Complete case data</a></li>
  <li><a href="#g-save-daatsets" id="toc-g-save-daatsets" class="nav-link" data-scroll-target="#g-save-daatsets">1(g) Save daatsets</a></li>
  </ul>
</li>
  <li>
<a href="#question-2-importing-data-and-creating-table-1" id="toc-question-2-importing-data-and-creating-table-1" class="nav-link" data-scroll-target="#question-2-importing-data-and-creating-table-1">Question 2: Importing data and creating Table 1</a>
  <ul class="collapse">
<li><a href="#a-importing-dataset" id="toc-a-importing-dataset" class="nav-link" data-scroll-target="#a-importing-dataset">2(a) Importing dataset</a></li>
  <li><a href="#b-creating-table-1" id="toc-b-creating-table-1" class="nav-link" data-scroll-target="#b-creating-table-1">2(b) Creating Table 1</a></li>
  </ul>
</li>
  <li>
<a href="#question-3-prediction-using-split-sample-approach" id="toc-question-3-prediction-using-split-sample-approach" class="nav-link" data-scroll-target="#question-3-prediction-using-split-sample-approach">Question 3: Prediction using split sample approach</a>
  <ul class="collapse">
<li><a href="#a-split-the-data-into-training-and-test" id="toc-a-split-the-data-into-training-and-test" class="nav-link" data-scroll-target="#a-split-the-data-into-training-and-test">3(a) Split the data into training and test</a></li>
  <li><a href="#b-prediction-with-design-adjusted-logistic" id="toc-b-prediction-with-design-adjusted-logistic" class="nav-link" data-scroll-target="#b-prediction-with-design-adjusted-logistic">3(b) Prediction with design-adjusted logistic</a></li>
  <li><a href="#c-prediction-with-lasso" id="toc-c-prediction-with-lasso" class="nav-link" data-scroll-target="#c-prediction-with-lasso">3(c) Prediction with LASSO</a></li>
  </ul>
</li>
  <li><a href="#question-4-prediction-using-croos-validation-approach-optional" id="toc-question-4-prediction-using-croos-validation-approach-optional" class="nav-link" data-scroll-target="#question-4-prediction-using-croos-validation-approach-optional">Question 4: Prediction using croos-validation approach [optional]</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./machinelearning.html">Machine learning (ML)</a></li><li class="breadcrumb-item"><a href="./machinelearningEsolution.html">Exercise 1 Solution (L)</a></li></ol></nav><div class="quarto-title">
<h1 class="title">Exercise 1 Solution (L)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>We will revisit the article by <a href="https://jamanetwork.com/journals/jama/article-abstract/2526639">Flegal et al.&nbsp;(2016)</a>. We will use the same dataset as in the previous lab exercise on <a href="https://ehsanx.github.io/EpiMethods/surveydataE.html">survey data analysis</a>, with some additional predictors in predicting obesity.</p>
<p>Our primary aim is to predict <strong>grade 3 obesity</strong> with the following predictors:</p>
<ul>
<li>Age: Age in years at screening</li>
<li>Gender</li>
<li>Race: Race/ethnicity</li>
<li>Education: Education level</li>
<li>Smoking: Smoking status</li>
<li>Physical activity: Level of vigorous work activity</li>
<li>Sleep: Hours of sleep</li>
<li>High blood pressure: Ever doctor told a high blood pressure</li>
<li>General health: General health condition</li>
</ul>
<section id="question-1-creating-data" class="level2"><h2 class="anchored" data-anchor-id="question-1-creating-data">Question 1: Creating data</h2>
<section id="a-downloading-the-datasets" class="level3"><h3 class="anchored" data-anchor-id="a-downloading-the-datasets">1(a) Downloading the datasets</h3>
<p>You can see how datasets are downloaded and merged:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(nhanesA)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co"># library(SASxport)</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(plyr)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"># Demographic data</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>demo <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DEMO_H'</span>) <span class="co"># Both males and females: 0 - 150 YEARS</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>demo1 <span class="ot">&lt;-</span> demo[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>                <span class="st">"RIDAGEYR"</span>, <span class="co"># Age in years at screening</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>                <span class="st">"RIAGENDR"</span>, <span class="co"># gender</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>                <span class="st">"DMDEDUC2"</span>, <span class="co"># Education level - Adults 20+</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>                <span class="st">"RIDRETH3"</span>, <span class="co"># Race/Hispanic origin w/ NH Asian</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>                <span class="st">"RIDEXPRG"</span>, <span class="co"># Pregnancy status at exam</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>                <span class="st">"WTINT2YR"</span>, <span class="co">#  Full sample 2 year weights</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>                <span class="st">"SDMVPSU"</span>, <span class="co"># Masked variance pseudo-PSU</span></span>
<span id="cb1-15"><a href="#cb1-15"></a>                <span class="st">"SDMVSTRA"</span>)] <span class="co"># Masked variance pseudo-stratum</span></span>
<span id="cb1-16"><a href="#cb1-16"></a>demo_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(demo1)</span>
<span id="cb1-17"><a href="#cb1-17"></a>demo2 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'DEMO_H'</span>, demo_vars, <span class="at">data =</span> demo1)</span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co"># BMI</span></span>
<span id="cb1-20"><a href="#cb1-20"></a>bmx <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BMX_H'</span>)</span>
<span id="cb1-21"><a href="#cb1-21"></a>bmx1 <span class="ot">&lt;-</span> bmx[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb1-22"><a href="#cb1-22"></a>              <span class="st">"BMXBMI"</span>)] <span class="co"># Body Mass Index (kg/m**2): 2 YEARS - 150 YEARS</span></span>
<span id="cb1-23"><a href="#cb1-23"></a>bmx_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(bmx1)</span>
<span id="cb1-24"><a href="#cb1-24"></a>bmx2 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BMX_H'</span>, bmx_vars, <span class="at">data =</span> bmx1)</span>
<span id="cb1-25"><a href="#cb1-25"></a></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co"># Smoking</span></span>
<span id="cb1-27"><a href="#cb1-27"></a>smq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'SMQ_H'</span>)</span>
<span id="cb1-28"><a href="#cb1-28"></a>smq1 <span class="ot">&lt;-</span> smq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb1-29"><a href="#cb1-29"></a>              <span class="st">"SMQ020"</span>, <span class="co"># Smoked at least 100 cigarettes in life</span></span>
<span id="cb1-30"><a href="#cb1-30"></a>              <span class="st">"SMQ040"</span>)] <span class="co"># Do you now smoke cigarettes?: 18 YEARS - 150 YEARS</span></span>
<span id="cb1-31"><a href="#cb1-31"></a>smq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(smq1)</span>
<span id="cb1-32"><a href="#cb1-32"></a>smq2 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'SMQ_H'</span>, smq_vars, <span class="at">data =</span> smq1)</span>
<span id="cb1-33"><a href="#cb1-33"></a></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="co"># Physical activity</span></span>
<span id="cb1-35"><a href="#cb1-35"></a>paq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'PAQ_H'</span>)</span>
<span id="cb1-36"><a href="#cb1-36"></a>paq1 <span class="ot">&lt;-</span> paq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb1-37"><a href="#cb1-37"></a>              <span class="st">"PAQ605"</span>)] <span class="co"># Vigorous work activity</span></span>
<span id="cb1-38"><a href="#cb1-38"></a>paq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(paq1)</span>
<span id="cb1-39"><a href="#cb1-39"></a>paq2 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'PAQ_H'</span>, paq_vars, <span class="at">data =</span> paq1)</span>
<span id="cb1-40"><a href="#cb1-40"></a></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="co"># Sleep</span></span>
<span id="cb1-42"><a href="#cb1-42"></a>slq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'SLQ_H'</span>)</span>
<span id="cb1-43"><a href="#cb1-43"></a>slq1 <span class="ot">&lt;-</span> slq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb1-44"><a href="#cb1-44"></a>              <span class="st">"SLD010H"</span>)] <span class="co"># Hours of sleep</span></span>
<span id="cb1-45"><a href="#cb1-45"></a>slq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(slq1)</span>
<span id="cb1-46"><a href="#cb1-46"></a>slq2 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'SLQ_H'</span>, slq_vars, <span class="at">data =</span> slq1)</span>
<span id="cb1-47"><a href="#cb1-47"></a></span>
<span id="cb1-48"><a href="#cb1-48"></a><span class="co"># High blood pressure</span></span>
<span id="cb1-49"><a href="#cb1-49"></a>bpq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BPQ_H'</span>)</span>
<span id="cb1-50"><a href="#cb1-50"></a>bpq1 <span class="ot">&lt;-</span> bpq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb1-51"><a href="#cb1-51"></a>              <span class="st">"BPQ020"</span>)] <span class="co"># Ever told you had high blood pressure</span></span>
<span id="cb1-52"><a href="#cb1-52"></a>bpq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(bpq1)</span>
<span id="cb1-53"><a href="#cb1-53"></a>bpq2 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'BPQ_H'</span>, bpq_vars, <span class="at">data =</span> bpq1)</span>
<span id="cb1-54"><a href="#cb1-54"></a></span>
<span id="cb1-55"><a href="#cb1-55"></a><span class="co"># General health condition</span></span>
<span id="cb1-56"><a href="#cb1-56"></a>huq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'HUQ_H'</span>)</span>
<span id="cb1-57"><a href="#cb1-57"></a>huq1 <span class="ot">&lt;-</span> huq[<span class="fu">c</span>(<span class="st">"SEQN"</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb1-58"><a href="#cb1-58"></a>              <span class="st">"HUQ010"</span>)] <span class="co"># General health condition</span></span>
<span id="cb1-59"><a href="#cb1-59"></a>huq_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(huq1)</span>
<span id="cb1-60"><a href="#cb1-60"></a>huq2 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">'HUQ_H'</span>, huq_vars, <span class="at">data =</span> huq1)</span>
<span id="cb1-61"><a href="#cb1-61"></a></span>
<span id="cb1-62"><a href="#cb1-62"></a><span class="co"># Combined data</span></span>
<span id="cb1-63"><a href="#cb1-63"></a>dat.full <span class="ot">&lt;-</span> <span class="fu">join_all</span>(<span class="fu">list</span>(demo2, bmx2, smq2, paq2, slq2, bpq2, huq2), <span class="at">by =</span> <span class="st">"SEQN"</span>,</span>
<span id="cb1-64"><a href="#cb1-64"></a>                     <span class="at">type=</span><span class="st">'full'</span>) </span>
<span id="cb1-65"><a href="#cb1-65"></a><span class="fu">dim</span>(dat.full) <span class="co"># N = 10,175</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="b-recoding" class="level3"><h3 class="anchored" data-anchor-id="b-recoding">1(b) Recoding</h3>
<p>Let us recode the outcome and predictors to make them suitable for analysis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Survey design</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>dat.full<span class="sc">$</span>survey.weight <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>WTINT2YR</span>
<span id="cb2-3"><a href="#cb2-3"></a>dat.full<span class="sc">$</span>psu <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>SDMVPSU</span>
<span id="cb2-4"><a href="#cb2-4"></a>dat.full<span class="sc">$</span>strata <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>SDMVSTRA</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co"># Class 3 obesity - BMI &gt;= 40 kg/m^2</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="fu">summary</span>(dat.full<span class="sc">$</span>BMXBMI)</span>
<span id="cb2-8"><a href="#cb2-8"></a>dat.full<span class="sc">$</span>obesity <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(dat.full<span class="sc">$</span>BMXBMI <span class="sc">&gt;=</span> <span class="dv">40</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>obesity, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-10"><a href="#cb2-10"></a></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co"># Age</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>dat.full<span class="sc">$</span>age.cat <span class="ot">&lt;-</span> <span class="fu">cut</span>(dat.full<span class="sc">$</span>RIDAGEYR, <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="cn">Inf</span>), <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>age.cat, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-14"><a href="#cb2-14"></a></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="co"># Gender</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>dat.full<span class="sc">$</span>gender <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>RIAGENDR</span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>gender, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-18"><a href="#cb2-18"></a></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="co"># Race/Hispanic origin group</span></span>
<span id="cb2-20"><a href="#cb2-20"></a>dat.full<span class="sc">$</span>race <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>RIDRETH3</span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>age.cat, dat.full<span class="sc">$</span>race, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-22"><a href="#cb2-22"></a>dat.full<span class="sc">$</span>race <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat.full<span class="sc">$</span>race, </span>
<span id="cb2-23"><a href="#cb2-23"></a>                             <span class="st">" 'Non-Hispanic White'='White'; </span></span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="st">                             'Non-Hispanic Black' = 'Black'; </span></span>
<span id="cb2-25"><a href="#cb2-25"></a><span class="st">                             c('Mexican American','Other Hispanic')='Hispanic'; </span></span>
<span id="cb2-26"><a href="#cb2-26"></a><span class="st">                             c('Non-Hispanic Asian', </span></span>
<span id="cb2-27"><a href="#cb2-27"></a><span class="st">                             'Other Race - Including Multi-Rac')= 'Other';</span></span>
<span id="cb2-28"><a href="#cb2-28"></a><span class="st">                             else=NA"</span>, </span>
<span id="cb2-29"><a href="#cb2-29"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"White"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Other"</span>))</span>
<span id="cb2-30"><a href="#cb2-30"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>race, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-31"><a href="#cb2-31"></a></span>
<span id="cb2-32"><a href="#cb2-32"></a><span class="co"># Education</span></span>
<span id="cb2-33"><a href="#cb2-33"></a>dat.full<span class="sc">$</span>education <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>DMDEDUC2</span>
<span id="cb2-34"><a href="#cb2-34"></a>dat.full<span class="sc">$</span>education <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat.full<span class="sc">$</span>education, </span>
<span id="cb2-35"><a href="#cb2-35"></a>                                  <span class="st">" c('Some college or AA degree', </span></span>
<span id="cb2-36"><a href="#cb2-36"></a><span class="st">                                  'College graduate or above') = '&gt;High school'; </span></span>
<span id="cb2-37"><a href="#cb2-37"></a><span class="st">                                  'High school graduate/GED or equi' = 'High school';</span></span>
<span id="cb2-38"><a href="#cb2-38"></a><span class="st">                                  c('Less than 9th grade',</span></span>
<span id="cb2-39"><a href="#cb2-39"></a><span class="st">                                  '9-11th grade (Includes 12th grad') = </span></span>
<span id="cb2-40"><a href="#cb2-40"></a><span class="st">                                  '&lt;High school'; </span></span>
<span id="cb2-41"><a href="#cb2-41"></a><span class="st">                                  else = NA"</span>, </span>
<span id="cb2-42"><a href="#cb2-42"></a>                                  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"&lt;High school"</span>, <span class="st">"High school"</span>, </span>
<span id="cb2-43"><a href="#cb2-43"></a>                                                    <span class="st">"&gt;High school"</span>))</span>
<span id="cb2-44"><a href="#cb2-44"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>education, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-45"><a href="#cb2-45"></a></span>
<span id="cb2-46"><a href="#cb2-46"></a><span class="co"># Smoking status</span></span>
<span id="cb2-47"><a href="#cb2-47"></a>dat.full<span class="sc">$</span>smoking <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>SMQ020</span>
<span id="cb2-48"><a href="#cb2-48"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>smoking, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-49"><a href="#cb2-49"></a>dat.full<span class="sc">$</span>smoking <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat.full<span class="sc">$</span>smoking, <span class="st">" 'Yes'='Current smoker'; </span></span>
<span id="cb2-50"><a href="#cb2-50"></a><span class="st">                                'No'='Never smoker'; else=NA  "</span>,</span>
<span id="cb2-51"><a href="#cb2-51"></a>                                <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Never smoker"</span>, <span class="st">"Former smoker"</span>, </span>
<span id="cb2-52"><a href="#cb2-52"></a>                                           <span class="st">"Current smoker"</span>))</span>
<span id="cb2-53"><a href="#cb2-53"></a>dat.full<span class="sc">$</span>smoking[dat.full<span class="sc">$</span>SMQ040 <span class="sc">==</span> <span class="st">"Not at all"</span>] <span class="ot">&lt;-</span> <span class="st">"Former smoker"</span></span>
<span id="cb2-54"><a href="#cb2-54"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>smoking, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-55"><a href="#cb2-55"></a></span>
<span id="cb2-56"><a href="#cb2-56"></a><span class="co"># Physical activity</span></span>
<span id="cb2-57"><a href="#cb2-57"></a>dat.full<span class="sc">$</span>physical.activity <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>PAQ605</span>
<span id="cb2-58"><a href="#cb2-58"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>physical.activity, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-59"><a href="#cb2-59"></a>dat.full<span class="sc">$</span>physical.activity <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat.full<span class="sc">$</span>physical.activity, </span>
<span id="cb2-60"><a href="#cb2-60"></a>                                          <span class="st">" 'Yes'='Yes'; 'No'='No'; else=NA "</span>, </span>
<span id="cb2-61"><a href="#cb2-61"></a>                                          <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>))</span>
<span id="cb2-62"><a href="#cb2-62"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>physical.activity, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-63"><a href="#cb2-63"></a></span>
<span id="cb2-64"><a href="#cb2-64"></a><span class="co"># Sleep</span></span>
<span id="cb2-65"><a href="#cb2-65"></a>dat.full<span class="sc">$</span>sleep <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>SLD010H</span>
<span id="cb2-66"><a href="#cb2-66"></a>dat.full<span class="sc">$</span>sleep <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat.full<span class="sc">$</span>sleep, <span class="st">" 1:6 = 'Less than 7'; 7:9 = '7-9'; </span></span>
<span id="cb2-67"><a href="#cb2-67"></a><span class="st">                              10:24 = 'More than 9';  else=NA "</span>,</span>
<span id="cb2-68"><a href="#cb2-68"></a>                              <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Less than 7"</span>, <span class="st">"7-9"</span>, <span class="st">"More than 9"</span>))</span>
<span id="cb2-69"><a href="#cb2-69"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>sleep, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-70"><a href="#cb2-70"></a></span>
<span id="cb2-71"><a href="#cb2-71"></a><span class="co"># High blood pressure</span></span>
<span id="cb2-72"><a href="#cb2-72"></a>dat.full<span class="sc">$</span>high.blood.pressure <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>BPQ020</span>
<span id="cb2-73"><a href="#cb2-73"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>high.blood.pressure, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-74"><a href="#cb2-74"></a>dat.full<span class="sc">$</span>high.blood.pressure <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat.full<span class="sc">$</span>high.blood.pressure, </span>
<span id="cb2-75"><a href="#cb2-75"></a>                                            <span class="st">" 'Yes'='Yes'; 'No'='No'; else=NA "</span>,</span>
<span id="cb2-76"><a href="#cb2-76"></a>                                            <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>))</span>
<span id="cb2-77"><a href="#cb2-77"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>high.blood.pressure, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-78"><a href="#cb2-78"></a></span>
<span id="cb2-79"><a href="#cb2-79"></a><span class="co"># General health condition</span></span>
<span id="cb2-80"><a href="#cb2-80"></a>dat.full<span class="sc">$</span>general.health <span class="ot">&lt;-</span> dat.full<span class="sc">$</span>HUQ010</span>
<span id="cb2-81"><a href="#cb2-81"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>general.health, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb2-82"><a href="#cb2-82"></a>dat.full<span class="sc">$</span>general.health <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(dat.full<span class="sc">$</span>general.health, </span>
<span id="cb2-83"><a href="#cb2-83"></a>                                       <span class="st">"c('Excellent,', 'Very good,')=</span></span>
<span id="cb2-84"><a href="#cb2-84"></a><span class="st">                                       'Very good or Excellent'; </span></span>
<span id="cb2-85"><a href="#cb2-85"></a><span class="st">                                       'Good,'='Good';</span></span>
<span id="cb2-86"><a href="#cb2-86"></a><span class="st">                                       c('Fair, or', 'Poor?') ='Poor or Fair'; </span></span>
<span id="cb2-87"><a href="#cb2-87"></a><span class="st">                                       else=NA  "</span>,</span>
<span id="cb2-88"><a href="#cb2-88"></a>                                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Poor or Fair"</span>, <span class="st">"Good"</span>, </span>
<span id="cb2-89"><a href="#cb2-89"></a>                                                  <span class="st">"Very good or Excellent"</span>))</span>
<span id="cb2-90"><a href="#cb2-90"></a><span class="fu">table</span>(dat.full<span class="sc">$</span>general.health, <span class="at">useNA =</span> <span class="st">"always"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="c-keep-relevant-variables" class="level3"><h3 class="anchored" data-anchor-id="c-keep-relevant-variables">1(c) Keep relevant variables</h3>
<p>Let’s keep only the relevant variables for this exercise:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Keep relevant variables</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="co"># Unique identifier</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="st">"SEQN"</span>, </span>
<span id="cb3-5"><a href="#cb3-5"></a>  </span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="co"># Survey features</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="st">"survey.weight"</span>, <span class="st">"psu"</span>, <span class="st">"strata"</span>, </span>
<span id="cb3-8"><a href="#cb3-8"></a>  </span>
<span id="cb3-9"><a href="#cb3-9"></a>  <span class="co"># Eligibility</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>  <span class="st">"RIDAGEYR"</span>, <span class="st">"BMXBMI"</span>, <span class="st">"RIDEXPRG"</span>,</span>
<span id="cb3-11"><a href="#cb3-11"></a>  </span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="co"># Outcome</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="st">"obesity"</span>, </span>
<span id="cb3-14"><a href="#cb3-14"></a>  </span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="co"># Predictors</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>  <span class="st">"age.cat"</span>, <span class="st">"gender"</span>, <span class="st">"race"</span>, <span class="st">"education"</span>, <span class="st">"smoking"</span>, <span class="st">"physical.activity"</span>, </span>
<span id="cb3-17"><a href="#cb3-17"></a>  <span class="st">"sleep"</span>, <span class="st">"high.blood.pressure"</span>, <span class="st">"general.health"</span>)</span>
<span id="cb3-18"><a href="#cb3-18"></a></span>
<span id="cb3-19"><a href="#cb3-19"></a>dat.full2 <span class="ot">&lt;-</span> dat.full[,vars]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="d-weight-normalization" class="level3"><h3 class="anchored" data-anchor-id="d-weight-normalization">1(d) Weight normalization</h3>
<p>Large weights can cause issues when evaluating model performance. Let’s normalize the survey weights to address this problem:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>dat.full2<span class="sc">$</span>wgt <span class="ot">&lt;-</span> dat.full2<span class="sc">$</span>survey.weight <span class="sc">*</span> <span class="fu">nrow</span>(dat.full2)<span class="sc">/</span><span class="fu">sum</span>(dat.full2<span class="sc">$</span>survey.weight)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">summary</span>(dat.full2<span class="sc">$</span>wgt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="e-analytic-dataset" class="level3"><h3 class="anchored" data-anchor-id="e-analytic-dataset">1(e) Analytic dataset</h3>
<p>The authors restricted their study to - adults aged 20 years and more, - non-missing body mass index, and - non-pregnant</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Aged 20 years or more</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>dat.analytic <span class="ot">&lt;-</span> <span class="fu">subset</span>(dat.full2, RIDAGEYR<span class="sc">&gt;=</span><span class="dv">20</span>) <span class="co"># N = 5,769</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co"># Non-missing outcome</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>dat.analytic <span class="ot">&lt;-</span> <span class="fu">subset</span>(dat.analytic, <span class="sc">!</span><span class="fu">is.na</span>(BMXBMI)) <span class="co"># N = 5,520</span></span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co"># Non-pregnant</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="fu">table</span>(dat.analytic<span class="sc">$</span>RIDEXPRG)</span>
<span id="cb5-9"><a href="#cb5-9"></a>dat.analytic <span class="ot">&lt;-</span> <span class="fu">subset</span>(dat.analytic, <span class="fu">is.na</span>(RIDEXPRG) <span class="sc">|</span> RIDEXPRG <span class="sc">!=</span> </span>
<span id="cb5-10"><a href="#cb5-10"></a>                         <span class="st">"Yes, positive lab pregnancy test"</span>) <span class="co"># N = 5,455</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="fu">nrow</span>(dat.analytic)</span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co"># Drop irrelevant variables</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>dat.analytic<span class="sc">$</span>RIDAGEYR <span class="ot">&lt;-</span> dat.analytic<span class="sc">$</span>BMXBMI <span class="ot">&lt;-</span> dat.analytic<span class="sc">$</span>RIDEXPRG <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="f-complete-case-data" class="level3"><h3 class="anchored" data-anchor-id="f-complete-case-data">1(f) Complete case data</h3>
<p>Below is the code for creating the complete case dataset (no missing for the outcome or predictors):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Drop missing values</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>dat.complete <span class="ot">&lt;-</span> dat.analytic[<span class="fu">complete.cases</span>(dat.analytic),] <span class="co"># N = 5,433</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="g-save-daatsets" class="level3"><h3 class="anchored" data-anchor-id="g-save-daatsets">1(g) Save daatsets</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">save</span>(dat.full, dat.full2, dat.analytic, dat.complete, <span class="at">file =</span> <span class="st">"Data/machinelearning/Flegal2016_v2.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="question-2-importing-data-and-creating-table-1" class="level2"><h2 class="anchored" data-anchor-id="question-2-importing-data-and-creating-table-1">Question 2: Importing data and creating Table 1</h2>
<section id="a-importing-dataset" class="level3"><h3 class="anchored" data-anchor-id="a-importing-dataset">2(a) Importing dataset</h3>
<p>Let’s load the dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">load</span>(<span class="st">"Data/machinelearning/Flegal2016_v2.RData"</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">ls</span>()</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">#&gt; [1] "dat.analytic" "dat.complete" "dat.full"     "dat.full2"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here,</p>
<ul>
<li>dat.full: the full dataset with all variables</li>
<li>dat.full2: the full dataset with only relevant variables for this exercise</li>
<li>dat.analytic: the analytic dataset with only adults aged 20 years and more, non-missing BMI, and non-pregnant</li>
<li>dat.complete: the complete case dataset without missing values in the outcome and predictors</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">names</span>(dat.full2)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt;  [1] "SEQN"                "survey.weight"       "psu"                </span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">#&gt;  [4] "strata"              "RIDAGEYR"            "BMXBMI"             </span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt;  [7] "RIDEXPRG"            "obesity"             "age.cat"            </span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt; [10] "gender"              "race"                "education"          </span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt; [13] "smoking"             "physical.activity"   "sleep"              </span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt; [16] "high.blood.pressure" "general.health"      "wgt"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="b-creating-table-1" class="level3"><h3 class="anchored" data-anchor-id="b-creating-table-1">2(b) Creating Table 1</h3>
<p>Let’s create Table 1 for the complete case dataset with unweighted frequencies:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">library</span>(tableone)</span>
<span id="cb10-2"><a href="#cb10-2"></a>predictors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"age.cat"</span>, <span class="st">"gender"</span>, <span class="st">"race"</span>, <span class="st">"education"</span>, <span class="st">"smoking"</span>, </span>
<span id="cb10-3"><a href="#cb10-3"></a>                <span class="st">"physical.activity"</span>, <span class="st">"sleep"</span>, <span class="st">"high.blood.pressure"</span>, </span>
<span id="cb10-4"><a href="#cb10-4"></a>                <span class="st">"general.health"</span>)</span>
<span id="cb10-5"><a href="#cb10-5"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">CreateTableOne</span>(<span class="at">vars =</span> predictors, <span class="at">strata =</span> <span class="st">"obesity"</span>, </span>
<span id="cb10-6"><a href="#cb10-6"></a>                       <span class="at">data =</span> dat.complete, <span class="at">test =</span> F, <span class="at">addOverall =</span> T)</span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="fu">print</span>(tab1, <span class="at">format=</span><span class="st">"f"</span>) <span class="co"># Showing only frequencies </span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co">#&gt;                            Stratified by obesity</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="co">#&gt;                             Overall 0    1  </span></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="co">#&gt;   n                         5433    5023 410</span></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="co">#&gt;   age.cat                                   </span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">#&gt;      [20,40)                1806    1659 147</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co">#&gt;      [40,60)                1892    1728 164</span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="co">#&gt;      [60,Inf)               1735    1636  99</span></span>
<span id="cb10-15"><a href="#cb10-15"></a><span class="co">#&gt;   gender = Female           2807    2531 276</span></span>
<span id="cb10-16"><a href="#cb10-16"></a><span class="co">#&gt;   race                                      </span></span>
<span id="cb10-17"><a href="#cb10-17"></a><span class="co">#&gt;      White                  2333    2157 176</span></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="co">#&gt;      Black                  1109     976 133</span></span>
<span id="cb10-19"><a href="#cb10-19"></a><span class="co">#&gt;      Hispanic               1208    1125  83</span></span>
<span id="cb10-20"><a href="#cb10-20"></a><span class="co">#&gt;      Other                   783     765  18</span></span>
<span id="cb10-21"><a href="#cb10-21"></a><span class="co">#&gt;   education                                 </span></span>
<span id="cb10-22"><a href="#cb10-22"></a><span class="co">#&gt;      &lt;High school           1171    1092  79</span></span>
<span id="cb10-23"><a href="#cb10-23"></a><span class="co">#&gt;      High school            1216    1116 100</span></span>
<span id="cb10-24"><a href="#cb10-24"></a><span class="co">#&gt;      &gt;High school           3046    2815 231</span></span>
<span id="cb10-25"><a href="#cb10-25"></a><span class="co">#&gt;   smoking                                   </span></span>
<span id="cb10-26"><a href="#cb10-26"></a><span class="co">#&gt;      Never smoker           3054    2828 226</span></span>
<span id="cb10-27"><a href="#cb10-27"></a><span class="co">#&gt;      Former smoker          1261    1159 102</span></span>
<span id="cb10-28"><a href="#cb10-28"></a><span class="co">#&gt;      Current smoker         1118    1036  82</span></span>
<span id="cb10-29"><a href="#cb10-29"></a><span class="co">#&gt;   physical.activity = Yes    984     917  67</span></span>
<span id="cb10-30"><a href="#cb10-30"></a><span class="co">#&gt;   sleep                                     </span></span>
<span id="cb10-31"><a href="#cb10-31"></a><span class="co">#&gt;      7-9                    3174    2971 203</span></span>
<span id="cb10-32"><a href="#cb10-32"></a><span class="co">#&gt;      Less than 7            2084    1896 188</span></span>
<span id="cb10-33"><a href="#cb10-33"></a><span class="co">#&gt;      More than 9             175     156  19</span></span>
<span id="cb10-34"><a href="#cb10-34"></a><span class="co">#&gt;   high.blood.pressure = Yes 2037    1810 227</span></span>
<span id="cb10-35"><a href="#cb10-35"></a><span class="co">#&gt;   general.health                            </span></span>
<span id="cb10-36"><a href="#cb10-36"></a><span class="co">#&gt;      Poor or Fair           1260    1084 176</span></span>
<span id="cb10-37"><a href="#cb10-37"></a><span class="co">#&gt;      Good                   2065    1911 154</span></span>
<span id="cb10-38"><a href="#cb10-38"></a><span class="co">#&gt;      Very good or Excellent 2108    2028  80</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="question-3-prediction-using-split-sample-approach" class="level2"><h2 class="anchored" data-anchor-id="question-3-prediction-using-split-sample-approach">Question 3: Prediction using split sample approach</h2>
<p>In this exercise, we will use the split-sample approach to predict obesity. We will create our training and test data using a 60-40 split for the training and test data. We will use the following two methods to predict obesity:</p>
<ul>
<li>Design-adjusted logistic with all survey features (psu, strata, and survey weights)</li>
<li>LASSO with survey weights</li>
</ul>
<section id="a-split-the-data-into-training-and-test" class="level3"><h3 class="anchored" data-anchor-id="a-split-the-data-into-training-and-test">3(a) Split the data into training and test</h3>
<p>Let us create our training and test data using the split-sample approach:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">set.seed</span>(<span class="dv">900</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a>dat.complete<span class="sc">$</span>datasplit <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="fu">nrow</span>(dat.complete), <span class="at">size =</span> <span class="dv">1</span>, <span class="at">prob =</span> <span class="fl">0.6</span>) </span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">table</span>(dat.complete<span class="sc">$</span>datasplit)</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt; </span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt;    0    1 </span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt; 2130 3303</span></span>
<span id="cb11-7"><a href="#cb11-7"></a></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co"># Training data</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>dat.train <span class="ot">&lt;-</span> dat.complete[dat.complete<span class="sc">$</span>datasplit <span class="sc">==</span> <span class="dv">1</span>,]</span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="fu">dim</span>(dat.train)</span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt; [1] 3303   16</span></span>
<span id="cb11-12"><a href="#cb11-12"></a></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co"># Test data</span></span>
<span id="cb11-14"><a href="#cb11-14"></a>dat.test <span class="ot">&lt;-</span> dat.complete[dat.complete<span class="sc">$</span>datasplit <span class="sc">==</span> <span class="dv">0</span>,]</span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="fu">dim</span>(dat.test)</span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="co">#&gt; [1] 2130   16</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="b-prediction-with-design-adjusted-logistic" class="level3"><h3 class="anchored" data-anchor-id="b-prediction-with-design-adjusted-logistic">3(b) Prediction with design-adjusted logistic</h3>
<p>We will use the design-adjusted logistic regression to predict obesity with the following predictors:</p>
<ul>
<li>age.cat, gender, race, education, smoking, physical.activity, sleep, high.blood.pressure, general.health</li>
</ul>
<p>Instructions:</p>
<ul>
<li>1: Create the survey design on the full data and subset the design for those individuals in the training data.</li>
<li>2: Use the <strong>training data design</strong> created in step 1 to fit the model</li>
<li>3: Use the test data to predict the probability of obesity.</li>
<li>4: Calculate AUC on the test data.</li>
<li>5: Calculate calibration slope with 95% confidence interval on the test data.</li>
</ul>
<p>Hints:</p>
<ul>
<li>
<code>WeightedAUC</code> and <code>WeightedROC</code> are helpful functions in calculating AUC.</li>
<li>The <code>Logit</code> function from the <code>DescTools</code> package is helpful in calculating the logit of predicted probabilities for calculating calibration slope.</li>
<li>Use the <strong>normalized weight</strong> variable to calculate the AUC and calibration slope.</li>
</ul>
<section id="model" class="level4"><h4 class="anchored" data-anchor-id="model">Model</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">library</span>(survey)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">library</span>(WeightedROC)</span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="fu">library</span>(Publish)</span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co"># Design</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>dat.full2<span class="sc">$</span>miss <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>dat.full2<span class="sc">$</span>miss[dat.full2<span class="sc">$</span>SEQN <span class="sc">%in%</span> dat.train<span class="sc">$</span>SEQN] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>svy.design0 <span class="ot">&lt;-</span> <span class="fu">svydesign</span>(<span class="at">strata =</span> <span class="sc">~</span>strata, <span class="at">id =</span> <span class="sc">~</span>psu, <span class="at">weights =</span> <span class="sc">~</span>survey.weight,</span>
<span id="cb12-10"><a href="#cb12-10"></a>                         <span class="at">data =</span> dat.full2, <span class="at">nest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-11"><a href="#cb12-11"></a>svy.design <span class="ot">&lt;-</span> <span class="fu">subset</span>(svy.design0, miss <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb12-12"><a href="#cb12-12"></a></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="co"># Formula</span></span>
<span id="cb12-14"><a href="#cb12-14"></a>Formula <span class="ot">&lt;-</span> <span class="fu">formula</span>(<span class="fu">paste</span>(<span class="st">"obesity ~ "</span>, <span class="fu">paste</span>(predictors, <span class="at">collapse=</span><span class="st">" + "</span>)))</span>
<span id="cb12-15"><a href="#cb12-15"></a></span>
<span id="cb12-16"><a href="#cb12-16"></a><span class="co"># Model</span></span>
<span id="cb12-17"><a href="#cb12-17"></a>fit.glm <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(Formula, <span class="at">design =</span> svy.design, <span class="at">family =</span> binomial)</span>
<span id="cb12-18"><a href="#cb12-18"></a></span>
<span id="cb12-19"><a href="#cb12-19"></a><span class="co"># Prediction on the test set</span></span>
<span id="cb12-20"><a href="#cb12-20"></a>dat.test<span class="sc">$</span>pred.glm <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit.glm, <span class="at">newdata =</span> dat.test, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb12-21"><a href="#cb12-21"></a></span>
<span id="cb12-22"><a href="#cb12-22"></a><span class="co"># AUC on the test set with sampling weights</span></span>
<span id="cb12-23"><a href="#cb12-23"></a>auc.glm <span class="ot">&lt;-</span> <span class="fu">WeightedAUC</span>(<span class="fu">WeightedROC</span>(dat.test<span class="sc">$</span>pred.glm, dat.test<span class="sc">$</span>obesity, </span>
<span id="cb12-24"><a href="#cb12-24"></a>                                   <span class="at">weight =</span> dat.test<span class="sc">$</span>wgt))</span>
<span id="cb12-25"><a href="#cb12-25"></a>auc.glm</span>
<span id="cb12-26"><a href="#cb12-26"></a><span class="co">#&gt; [1] 0.6813118</span></span>
<span id="cb12-27"><a href="#cb12-27"></a></span>
<span id="cb12-28"><a href="#cb12-28"></a><span class="co"># Weighted calibration slope</span></span>
<span id="cb12-29"><a href="#cb12-29"></a>dat.test<span class="sc">$</span>pred.glm.logit <span class="ot">&lt;-</span> DescTools<span class="sc">::</span><span class="fu">Logit</span>(dat.test<span class="sc">$</span>pred.glm)</span>
<span id="cb12-30"><a href="#cb12-30"></a>slope.glm <span class="ot">&lt;-</span> <span class="fu">glm</span>(obesity <span class="sc">~</span> pred.glm.logit, <span class="at">data =</span> dat.test, <span class="at">family =</span> quasibinomial,</span>
<span id="cb12-31"><a href="#cb12-31"></a>                 <span class="at">weights =</span> wgt)</span>
<span id="cb12-32"><a href="#cb12-32"></a><span class="fu">publish</span>(slope.glm)</span>
<span id="cb12-33"><a href="#cb12-33"></a><span class="co">#&gt;        Variable Units Coefficient       CI.95 p-value </span></span>
<span id="cb12-34"><a href="#cb12-34"></a><span class="co">#&gt;  pred.glm.logit              0.74 [0.56;0.92] &lt; 1e-04</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="interpretation-optional" class="level4"><h4 class="anchored" data-anchor-id="interpretation-optional">Interpretation [optional]</h4>
<p>Interpret the AUC and calibration slope based on the following criteria:</p>
<table class="caption-top table">
<thead><tr class="header">
<th>AUC</th>
<th>Interpretation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0.50</td>
<td>No better than a random chance</td>
</tr>
<tr class="even">
<td>0.51-0.70</td>
<td>Poor discrimination ability</td>
</tr>
<tr class="odd">
<td>0.71-0.80</td>
<td>Acceptable discrimination ability</td>
</tr>
<tr class="even">
<td>0.81-0.90</td>
<td>Excellent discrimination ability</td>
</tr>
<tr class="odd">
<td>0.90-1.00</td>
<td>Outstanding discrimination ability</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead><tr class="header">
<th>Calibration slope</th>
<th>Interpretation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1 and 95% CI includes 1</td>
<td>Well-calibration</td>
</tr>
<tr class="even">
<td>Significantly less than 1</td>
<td>Overfitting</td>
</tr>
<tr class="odd">
<td>Significantly greater than 1</td>
<td>Underfitting</td>
</tr>
</tbody>
</table></section></section><section id="c-prediction-with-lasso" class="level3"><h3 class="anchored" data-anchor-id="c-prediction-with-lasso">3(c) Prediction with LASSO</h3>
<p>Now we will use the LASSO method to predict obesity. We will incorporate sampling weights in the model to account for survey data (no psu or strata). Note that we are not interested in the statistical significance of the beta coefficients. Hence, not utilizing psu and strata should not be an issue in this prediction problem.</p>
<p>Instructions:</p>
<ul>
<li>1: Use the training data with normalized weight to fit the model.</li>
<li>2: Find the optimum lambda using 5-fold cross-validation. Consider the lambda value that gives the minimum prediction error.</li>
<li>3: Predict the probability of obesity on the test set</li>
<li>3: Calculate AUC on the test data.</li>
<li>4: Calculate calibration slope with 95% confidence interval on the test data.</li>
</ul>
<section id="model-1" class="level4"><h4 class="anchored" data-anchor-id="model-1">Model</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">library</span>(glmnet)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">library</span>(WeightedROC)</span>
<span id="cb13-4"><a href="#cb13-4"></a></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co"># Training data - X: predictor, y: outcome</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>X.train <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(Formula, dat.train)[,<span class="sc">-</span><span class="dv">1</span>] </span>
<span id="cb13-7"><a href="#cb13-7"></a>y.train <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(dat.train<span class="sc">$</span>obesity) </span>
<span id="cb13-8"><a href="#cb13-8"></a></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co"># Test data - X: predictor, y: outcome</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>X.test <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(Formula, dat.test)[,<span class="sc">-</span><span class="dv">1</span>] </span>
<span id="cb13-11"><a href="#cb13-11"></a>y.test <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(dat.test<span class="sc">$</span>obesity)</span>
<span id="cb13-12"><a href="#cb13-12"></a></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co"># Find the best lambda using 5-fold CV</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>fit.cv.lasso <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(<span class="at">x =</span> X.train, <span class="at">y =</span> y.train, <span class="at">nfolds =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="dv">1</span>, </span>
<span id="cb13-15"><a href="#cb13-15"></a>                          <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">weights =</span> dat.train<span class="sc">$</span>wgt)</span>
<span id="cb13-16"><a href="#cb13-16"></a></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="co"># Prediction on the test set</span></span>
<span id="cb13-18"><a href="#cb13-18"></a>dat.test<span class="sc">$</span>pred.lasso <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit.cv.lasso, <span class="at">newx =</span> X.test, <span class="at">type =</span> <span class="st">"response"</span>, </span>
<span id="cb13-19"><a href="#cb13-19"></a>                               <span class="at">s =</span> fit.cv.lasso<span class="sc">$</span>lambda.min)</span>
<span id="cb13-20"><a href="#cb13-20"></a></span>
<span id="cb13-21"><a href="#cb13-21"></a><span class="co"># AUC on the test set with sampling weights</span></span>
<span id="cb13-22"><a href="#cb13-22"></a>auc.lasso <span class="ot">&lt;-</span> <span class="fu">WeightedAUC</span>(<span class="fu">WeightedROC</span>(dat.test<span class="sc">$</span>pred.lasso, dat.test<span class="sc">$</span>obesity, </span>
<span id="cb13-23"><a href="#cb13-23"></a>                                     <span class="at">weight =</span> dat.test<span class="sc">$</span>wgt))</span>
<span id="cb13-24"><a href="#cb13-24"></a>auc.lasso</span>
<span id="cb13-25"><a href="#cb13-25"></a><span class="co">#&gt; [1] 0.6875668</span></span>
<span id="cb13-26"><a href="#cb13-26"></a></span>
<span id="cb13-27"><a href="#cb13-27"></a><span class="co"># Weighted calibration slope</span></span>
<span id="cb13-28"><a href="#cb13-28"></a>dat.test<span class="sc">$</span>pred.lasso.logit <span class="ot">&lt;-</span> DescTools<span class="sc">::</span><span class="fu">Logit</span>(dat.test<span class="sc">$</span>pred.lasso)</span>
<span id="cb13-29"><a href="#cb13-29"></a>slope.lasso <span class="ot">&lt;-</span> <span class="fu">glm</span>(obesity <span class="sc">~</span> pred.lasso.logit, <span class="at">data =</span> dat.test, </span>
<span id="cb13-30"><a href="#cb13-30"></a>                   <span class="at">family =</span> quasibinomial, <span class="at">weights =</span> wgt)</span>
<span id="cb13-31"><a href="#cb13-31"></a><span class="fu">publish</span>(slope.lasso)</span>
<span id="cb13-32"><a href="#cb13-32"></a><span class="co">#&gt;          Variable Units Coefficient       CI.95 p-value </span></span>
<span id="cb13-33"><a href="#cb13-33"></a><span class="co">#&gt;  pred.lasso.logit              0.88 [0.67;1.08] &lt; 1e-04</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="interpretation-optional-1" class="level4"><h4 class="anchored" data-anchor-id="interpretation-optional-1">Interpretation [optional]</h4>
<p>Interpret the AUC and calibration slope based on the following criteria:</p>
<table class="caption-top table">
<thead><tr class="header">
<th>AUC</th>
<th>Interpretation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0.50</td>
<td>No better than a random chance</td>
</tr>
<tr class="even">
<td>0.51-0.70</td>
<td>Poor discrimination ability</td>
</tr>
<tr class="odd">
<td>0.71-0.80</td>
<td>Acceptable discrimination ability</td>
</tr>
<tr class="even">
<td>0.81-0.90</td>
<td>Excellent discrimination ability</td>
</tr>
<tr class="odd">
<td>0.90-1.00</td>
<td>Outstanding discrimination ability</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead><tr class="header">
<th>Calibration slope</th>
<th>Interpretation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1 and 95% CI includes 1</td>
<td>Well-calibration</td>
</tr>
<tr class="even">
<td>Significantly less than 1</td>
<td>Overfitting</td>
</tr>
<tr class="odd">
<td>Significantly greater than 1</td>
<td>Underfitting</td>
</tr>
</tbody>
</table></section></section></section><section id="question-4-prediction-using-croos-validation-approach-optional" class="level2"><h2 class="anchored" data-anchor-id="question-4-prediction-using-croos-validation-approach-optional">Question 4: Prediction using croos-validation approach [optional]</h2>
<p>Use LASSO with 5-fold cross-validation to predict obesity with the same set of predictors used in Question 2. Report the average AUC and average calibration slope with 95% confidence interval over 5 folds.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">library</span>(glmnet)</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="fu">library</span>(WeightedROC)</span>
<span id="cb14-4"><a href="#cb14-4"></a></span>
<span id="cb14-5"><a href="#cb14-5"></a>k <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="fu">set.seed</span>(<span class="dv">604</span>)</span>
<span id="cb14-7"><a href="#cb14-7"></a>nfolds <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span>k, <span class="at">size =</span> <span class="fu">nrow</span>(dat.complete), <span class="at">replace =</span> T)</span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="fu">table</span>(nfolds)</span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="co">#&gt; nfolds</span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co">#&gt;    1    2    3    4    5 </span></span>
<span id="cb14-11"><a href="#cb14-11"></a><span class="co">#&gt; 1090 1074 1130 1083 1056</span></span>
<span id="cb14-12"><a href="#cb14-12"></a></span>
<span id="cb14-13"><a href="#cb14-13"></a>auc.lasso <span class="ot">&lt;-</span> cal.slope.lasso <span class="ot">&lt;-</span> cal.slope.se.lasso <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb14-14"><a href="#cb14-14"></a><span class="cf">for</span> (fold <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k) {</span>
<span id="cb14-15"><a href="#cb14-15"></a>  <span class="co"># Training data</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>  dat.train <span class="ot">&lt;-</span> dat.complete[nfolds <span class="sc">!=</span> fold, ]</span>
<span id="cb14-17"><a href="#cb14-17"></a>  X.train <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(Formula, dat.train)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb14-18"><a href="#cb14-18"></a>  y.train <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(dat.train<span class="sc">$</span>obesity)</span>
<span id="cb14-19"><a href="#cb14-19"></a>  </span>
<span id="cb14-20"><a href="#cb14-20"></a>  <span class="co"># Test data</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>  dat.test <span class="ot">&lt;-</span> dat.complete[nfolds <span class="sc">==</span> fold, ]</span>
<span id="cb14-22"><a href="#cb14-22"></a>  X.test <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(Formula, dat.test)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb14-23"><a href="#cb14-23"></a>  y.test <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(dat.test<span class="sc">$</span>obesity)</span>
<span id="cb14-24"><a href="#cb14-24"></a>  </span>
<span id="cb14-25"><a href="#cb14-25"></a>  <span class="co"># Find the optimum lambda using 5-fold CV</span></span>
<span id="cb14-26"><a href="#cb14-26"></a>  fit.cv.lasso <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(<span class="at">x =</span> X.train, <span class="at">y =</span> y.train, <span class="at">nfolds =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="dv">1</span>, </span>
<span id="cb14-27"><a href="#cb14-27"></a>                            <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">weights =</span> dat.train<span class="sc">$</span>wgt)</span>
<span id="cb14-28"><a href="#cb14-28"></a></span>
<span id="cb14-29"><a href="#cb14-29"></a>  <span class="co"># Prediction on the test set</span></span>
<span id="cb14-30"><a href="#cb14-30"></a>  dat.test<span class="sc">$</span>pred.lasso <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit.cv.lasso, <span class="at">newx =</span> X.test, <span class="at">type =</span> <span class="st">"response"</span>, </span>
<span id="cb14-31"><a href="#cb14-31"></a>                                 <span class="at">s =</span> fit.cv.lasso<span class="sc">$</span>lambda.min)</span>
<span id="cb14-32"><a href="#cb14-32"></a>  </span>
<span id="cb14-33"><a href="#cb14-33"></a>  <span class="co"># AUC on the test set with sampling weights</span></span>
<span id="cb14-34"><a href="#cb14-34"></a>  auc.lasso[fold] <span class="ot">&lt;-</span> <span class="fu">WeightedAUC</span>(<span class="fu">WeightedROC</span>(dat.test<span class="sc">$</span>pred.lasso,dat.test<span class="sc">$</span>obesity, </span>
<span id="cb14-35"><a href="#cb14-35"></a>                                             <span class="at">weight =</span> dat.test<span class="sc">$</span>wgt))</span>
<span id="cb14-36"><a href="#cb14-36"></a>  </span>
<span id="cb14-37"><a href="#cb14-37"></a>  <span class="co"># Weighted calibration slope</span></span>
<span id="cb14-38"><a href="#cb14-38"></a>  dat.test<span class="sc">$</span>pred.lasso.logit <span class="ot">&lt;-</span> DescTools<span class="sc">::</span><span class="fu">Logit</span>(dat.test<span class="sc">$</span>pred.lasso)</span>
<span id="cb14-39"><a href="#cb14-39"></a>  mod.cal <span class="ot">&lt;-</span> <span class="fu">glm</span>(obesity <span class="sc">~</span> pred.lasso.logit, <span class="at">data =</span> dat.test, <span class="at">family =</span> binomial, </span>
<span id="cb14-40"><a href="#cb14-40"></a>                 <span class="at">weights =</span> wgt)</span>
<span id="cb14-41"><a href="#cb14-41"></a>  cal.slope.lasso[fold] <span class="ot">&lt;-</span> <span class="fu">summary</span>(mod.cal)<span class="sc">$</span>coef[<span class="dv">2</span>,<span class="dv">1</span>]</span>
<span id="cb14-42"><a href="#cb14-42"></a>  cal.slope.se.lasso[fold] <span class="ot">&lt;-</span> <span class="fu">summary</span>(mod.cal)<span class="sc">$</span>coef[<span class="dv">2</span>,<span class="dv">2</span>]</span>
<span id="cb14-43"><a href="#cb14-43"></a>}</span>
<span id="cb14-44"><a href="#cb14-44"></a></span>
<span id="cb14-45"><a href="#cb14-45"></a><span class="co"># Average AUC</span></span>
<span id="cb14-46"><a href="#cb14-46"></a><span class="fu">mean</span>(auc.lasso)</span>
<span id="cb14-47"><a href="#cb14-47"></a><span class="co">#&gt; [1] 0.7055226</span></span>
<span id="cb14-48"><a href="#cb14-48"></a></span>
<span id="cb14-49"><a href="#cb14-49"></a><span class="co"># Average calibration slope</span></span>
<span id="cb14-50"><a href="#cb14-50"></a><span class="fu">mean</span>(cal.slope.lasso)</span>
<span id="cb14-51"><a href="#cb14-51"></a><span class="co">#&gt; [1] 0.9994</span></span>
<span id="cb14-52"><a href="#cb14-52"></a></span>
<span id="cb14-53"><a href="#cb14-53"></a><span class="co"># 95% CI for calibration slope</span></span>
<span id="cb14-54"><a href="#cb14-54"></a><span class="fu">cbind</span>(<span class="fu">mean</span>(cal.slope.lasso) <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">mean</span>(cal.slope.se.lasso), </span>
<span id="cb14-55"><a href="#cb14-55"></a>      <span class="fu">mean</span>(cal.slope.lasso) <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">mean</span>(cal.slope.se.lasso))</span>
<span id="cb14-56"><a href="#cb14-56"></a><span class="co">#&gt;           [,1]     [,2]</span></span>
<span id="cb14-57"><a href="#cb14-57"></a><span class="co">#&gt; [1,] 0.7299176 1.268882</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./machinelearningE.html" class="pagination-link" aria-label="Exercise 1 (L)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Exercise 1 (L)</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./machinelearningCausal.html" class="pagination-link" aria-label="ML in causal inference">
        <span class="nav-page-text">ML in causal inference</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>