<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>OER: Advanced Epidemiological Methods - Predictive question-2b</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./researchquestion3.html" rel="next">
<link href="./researchquestion2a.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CVBPG0RQMY"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CVBPG0RQMY', { 'anonymize_ip': true});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="OER: Advanced Epidemiological Methods - Predictive question-2b">
<meta name="twitter:description" content="Part 2: Analysis of downloaded data:">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar docked slimcontent">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Predictive question-2b</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">OER: Advanced Epidemiological Methods</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">The Project</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./wrangling.html" class="sidebar-item-text sidebar-link">Data wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1a.html" class="sidebar-item-text sidebar-link">R basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1b.html" class="sidebar-item-text sidebar-link">Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling1c.html" class="sidebar-item-text sidebar-link">Automating tasks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling2.html" class="sidebar-item-text sidebar-link">Importing dataset</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling3.html" class="sidebar-item-text sidebar-link">Data manipulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling4.html" class="sidebar-item-text sidebar-link">Import external data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling5.html" class="sidebar-item-text sidebar-link">Summary tables</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling6.html" class="sidebar-item-text sidebar-link">R Markdown</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingF.html" class="sidebar-item-text sidebar-link">R Functions (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingQ.html" class="sidebar-item-text sidebar-link">Quiz (W)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wranglingE.html" class="sidebar-item-text sidebar-link">Exercise (W)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./accessing.html" class="sidebar-item-text sidebar-link">Data accessing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing1.html" class="sidebar-item-text sidebar-link">Survey data sources</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing2.html" class="sidebar-item-text sidebar-link">Importing CCHS to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing3.html" class="sidebar-item-text sidebar-link">Importing NHANES to R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing4.html" class="sidebar-item-text sidebar-link">Reproducing results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingF.html" class="sidebar-item-text sidebar-link">R Functions (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingQ.html" class="sidebar-item-text sidebar-link">Quiz (A)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessingE.html" class="sidebar-item-text sidebar-link">Exercise (A)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./researchquestion.html" class="sidebar-item-text sidebar-link">Research questions</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion1.html" class="sidebar-item-text sidebar-link">Predictive question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2a.html" class="sidebar-item-text sidebar-link">Predictive question-2a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion2b.html" class="sidebar-item-text sidebar-link active">Predictive question-2b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion3.html" class="sidebar-item-text sidebar-link">Causal question-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestion4.html" class="sidebar-item-text sidebar-link">Causal question-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionF.html" class="sidebar-item-text sidebar-link">R functions (Q)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./researchquestionQ.html" class="sidebar-item-text sidebar-link">Quiz (Q)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./confounding.html" class="sidebar-item-text sidebar-link">Causal roles</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding1.html" class="sidebar-item-text sidebar-link">Confounding</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding2.html" class="sidebar-item-text sidebar-link">Mediator</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding3.html" class="sidebar-item-text sidebar-link">Collider</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding4.html" class="sidebar-item-text sidebar-link">Z-bias</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding5.html" class="sidebar-item-text sidebar-link">Collapsibility</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confounding6.html" class="sidebar-item-text sidebar-link">Change-in-estimate</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingF.html" class="sidebar-item-text sidebar-link">R functions (R)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confoundingQ.html" class="sidebar-item-text sidebar-link">Quiz (R)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./predictivefactors.html" class="sidebar-item-text sidebar-link">Prediction ideas</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors1.html" class="sidebar-item-text sidebar-link">Collinear predictors</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors2.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors3.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors4.html" class="sidebar-item-text sidebar-link">Overfitting and performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors5.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors6.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactors7.html" class="sidebar-item-text sidebar-link">Bootstrap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsF.html" class="sidebar-item-text sidebar-link">R functions (P)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictivefactorsQ.html" class="sidebar-item-text sidebar-link">Quiz (P)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./surveydata.html" class="sidebar-item-text sidebar-link">Survey data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata1.html" class="sidebar-item-text sidebar-link">CCHS: Revisiting PICOT</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata2.html" class="sidebar-item-text sidebar-link">CCHS: Assessing data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata3.html" class="sidebar-item-text sidebar-link">CCHS: Bivariate analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata4.html" class="sidebar-item-text sidebar-link">CCHS: Regression</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata5.html" class="sidebar-item-text sidebar-link">CCHS: Performance</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata6.html" class="sidebar-item-text sidebar-link">NHANES: Blood Pressure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata7.html" class="sidebar-item-text sidebar-link">NHANES: Cholesterol</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydata8.html" class="sidebar-item-text sidebar-link">NHANES: Subsetting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataF.html" class="sidebar-item-text sidebar-link">R functions (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataQ.html" class="sidebar-item-text sidebar-link">Quiz (D)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveydataE.html" class="sidebar-item-text sidebar-link">Exercise (D)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./missingdata.html" class="sidebar-item-text sidebar-link">Missing data analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata1.html" class="sidebar-item-text sidebar-link">Imputation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata2.html" class="sidebar-item-text sidebar-link">Imputation in NHANES</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata3.html" class="sidebar-item-text sidebar-link">Missing in outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata4.html" class="sidebar-item-text sidebar-link">Performance with NA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata5.html" class="sidebar-item-text sidebar-link">Subpopulations</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata6.html" class="sidebar-item-text sidebar-link">MCAR tests</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdata7.html" class="sidebar-item-text sidebar-link">Effect modification</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataF.html" class="sidebar-item-text sidebar-link">R functions (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataQ.html" class="sidebar-item-text sidebar-link">Quiz (M)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missingdataE.html" class="sidebar-item-text sidebar-link">Exercise (M)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./propensityscore.html" class="sidebar-item-text sidebar-link">Propensity score</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore1.html" class="sidebar-item-text sidebar-link">Exact Matching (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore2.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (CCHS)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore3.html" class="sidebar-item-text sidebar-link">PSM in OA-CVD (US)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore4.html" class="sidebar-item-text sidebar-link">PSM in BMI-diabetes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscore5.html" class="sidebar-item-text sidebar-link">PSM with MI</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreF.html" class="sidebar-item-text sidebar-link">R functions (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreQ.html" class="sidebar-item-text sidebar-link">Quiz (S)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./propensityscoreE.html" class="sidebar-item-text sidebar-link">Exercise (S)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearning.html" class="sidebar-item-text sidebar-link">Machine learning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning1.html" class="sidebar-item-text sidebar-link">Continuous outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning2.html" class="sidebar-item-text sidebar-link">Data spliting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning3.html" class="sidebar-item-text sidebar-link">Cross-validation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning4.html" class="sidebar-item-text sidebar-link">Binary outcome</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning5.html" class="sidebar-item-text sidebar-link">Supervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearning6.html" class="sidebar-item-text sidebar-link">Unsupervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningF.html" class="sidebar-item-text sidebar-link">R functions (L)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./machinelearningCausal.html" class="sidebar-item-text sidebar-link">Causal learning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machinelearningCausalF.html" class="sidebar-item-text sidebar-link">R functions (C)</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reporting.html" class="sidebar-item-text sidebar-link">Writing Tools</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting1.html" class="sidebar-item-text sidebar-link">Collaborative Writing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reporting2.html" class="sidebar-item-text sidebar-link">Formatting Tools</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#working-with-a-predictive-question-using-nhanes" id="toc-working-with-a-predictive-question-using-nhanes" class="nav-link active" data-scroll-target="#working-with-a-predictive-question-using-nhanes">Working with a Predictive question using NHANES</a></li>
  <li><a href="#example-article" id="toc-example-article" class="nav-link" data-scroll-target="#example-article">Example article</a></li>
  <li><a href="#video-content-optional" id="toc-video-content-optional" class="nav-link" data-scroll-target="#video-content-optional">Video content (optional)</a></li>
  <li><a href="#loading-saved-data" id="toc-loading-saved-data" class="nav-link" data-scroll-target="#loading-saved-data">Loading saved data</a></li>
  <li><a href="#target" id="toc-target" class="nav-link" data-scroll-target="#target">Target</a></li>
  <li><a href="#recode-and-univariate-summary" id="toc-recode-and-univariate-summary" class="nav-link" data-scroll-target="#recode-and-univariate-summary">Recode and Univariate summary</a></li>
  <li><a href="#renaming" id="toc-renaming" class="nav-link" data-scroll-target="#renaming">Renaming</a></li>
  <li><a href="#subsetting-to-avoid-zero-cells" id="toc-subsetting-to-avoid-zero-cells" class="nav-link" data-scroll-target="#subsetting-to-avoid-zero-cells">Subsetting to avoid zero-cells</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#saving-for-further-use" id="toc-saving-for-further-use" class="nav-link" data-scroll-target="#saving-for-further-use">Saving for further use</a></li>
  <li>
<a href="#regression-summary-optional" id="toc-regression-summary-optional" class="nav-link" data-scroll-target="#regression-summary-optional">Regression summary (Optional)</a>
  <ul class="collapse">
<li><a href="#bivariate-regression-summary-missing-values-included" id="toc-bivariate-regression-summary-missing-values-included" class="nav-link" data-scroll-target="#bivariate-regression-summary-missing-values-included">Bivariate Regression summary (missing values included)</a></li>
  </ul>
</li>
  <li>
<a href="#check-missingness-optional" id="toc-check-missingness-optional" class="nav-link" data-scroll-target="#check-missingness-optional">Check missingness (optional)</a>
  <ul class="collapse">
<li><a href="#setting-correct-variable-types" id="toc-setting-correct-variable-types" class="nav-link" data-scroll-target="#setting-correct-variable-types">Setting correct variable types</a></li>
  <li><a href="#complete-case-analysis" id="toc-complete-case-analysis" class="nav-link" data-scroll-target="#complete-case-analysis">Complete case analysis</a></li>
  <li><a href="#imputed-data" id="toc-imputed-data" class="nav-link" data-scroll-target="#imputed-data">Imputed data</a></li>
  </ul>
</li>
  <li><a href="#exercise-try-yourself" id="toc-exercise-try-yourself" class="nav-link" data-scroll-target="#exercise-try-yourself">Exercise (try yourself)</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Predictive question-2b</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><section id="working-with-a-predictive-question-using-nhanes" class="level3"><h3 class="anchored" data-anchor-id="working-with-a-predictive-question-using-nhanes">Working with a Predictive question using NHANES</h3>
<p><strong>Part 2: Analysis of downloaded data</strong>:</p>
<p>This tutorial provides a comprehensive guide to NHANES data preparation and initial analysis using R. The tutorial covers topics such as loading dataset, variable recoding, data summary statistics, and various types of regression analyses, including bivariate and multivariate models. It also delves into dealing with missing data, first by omitting NA values for a complete case analysis and then using a simple imputation method. The guide is designed to walk the reader through each step of data manipulation and analysis, with a focus on avoiding common pitfalls in statistical analysis.</p>
</section><section id="example-article" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="example-article">Example article</h3>
<p>We are continuing to use the article by <span class="citation" data-cites="li2020association">Li et al. (<a href="#ref-li2020association" role="doc-biblioref">2020</a>)</span> as our reference. <a href="https://www.nature.com/articles/s41371-019-0224-9.pdf">DOI:10.1038/s41371-019-0224-9</a>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="citation" data-cites="li2020association">(<a href="#ref-li2020association" role="doc-biblioref">Li et al. 2020</a>)</span></p>
</div></div></section><section id="video-content-optional" class="level3"><h3 class="anchored" data-anchor-id="video-content-optional">Video content (optional)</h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For those who prefer a video walkthrough, feel free to watch the video below, which offers a description of an earlier version of the content.</p>
</div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
<iframe src="https://www.youtube.com/embed/U5vGa6wF50M" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen="">
</iframe>
</div>
</section><section id="loading-saved-data" class="level3"><h3 class="anchored" data-anchor-id="loading-saved-data">Loading saved data</h3>
<p>The following code chunk loads an RData file named that was saved in the previous step. The RData file typically contains saved R objects like data frames, lists, etc.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-1_edb47ce8cd6d1754a87860e38f37c853">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">load</span>(<span class="st">"Data/researchquestion/Analytic2013.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The following code lists all the objects in the current workspace.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-2_8e76354b1880d75fdfcb7295095068f2">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">ls</span>()</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">#&gt; [1] "analytic.data"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The following shows the column names of the <code>analytic.data</code> data frame.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-3_6557ef2a68bd0118e748a3521d8a0593">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">names</span>(analytic.data)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt;  [1] "SEQN"     "RIAGENDR" "RIDAGEYR" "RIDRETH3" "DMDMARTL" "WTINT2YR"</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt;  [7] "WTMEC2YR" "SDMVPSU"  "SDMVSTRA" "BPXDI1"   "BPXSY1"   "SMQ040"  </span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt; [13] "ALQ130"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The following provides summary statistics for the column <code>BPXDI1</code> in the <code>analytic.data</code> data frame.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-4_e7e917741902587607e401bfee04c59c">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>BPXDI1)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt;    0.00   58.00   66.00   65.77   76.00  122.00    3003</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="target" class="level3"><h3 class="anchored" data-anchor-id="target">Target</h3>
<p>First, we need to understand the data well. What is the common support in all of the population?</p>
<table class="table">
<thead><tr class="header">
<th>Variable</th>
<th>Target</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>SEQN</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="even">
<td>RIAGENDR</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="odd">
<td>RIDAGEYR</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="even">
<td>RIDRETH3</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="odd">
<td>DMDMARTL</td>
<td>Both males and females 20 YEARS - 150 YEARS</td>
</tr>
<tr class="even">
<td>WTINT2YR</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="odd">
<td>WTMEC2YR</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="even">
<td>SDMVPSU</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="odd">
<td>SDMVSTRA</td>
<td>Both males and females 0 YEARS - 150 YEARS</td>
</tr>
<tr class="even">
<td>BPXDI1</td>
<td>Both males and females 8 YEARS - 150 YEARS</td>
</tr>
<tr class="odd">
<td>BPXSY1</td>
<td>Both males and females 8 YEARS - 150 YEARS</td>
</tr>
<tr class="even">
<td>SMQ040</td>
<td>Both males and females 18 YEARS - 150 YEARS</td>
</tr>
<tr class="odd">
<td>ALQ130</td>
<td>Both males and females 18 YEARS - 150 YEARS</td>
</tr>
<tr class="even">
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>Both males and females 20 YEARS - 150 YEARS. The study should be restricted to age 20 and +.</p>
</section><section id="recode-and-univariate-summary" class="level3"><h3 class="anchored" data-anchor-id="recode-and-univariate-summary">Recode and Univariate summary</h3>
<section id="blood-pressure" class="level4"><h4 class="anchored" data-anchor-id="blood-pressure">Blood pressure</h4>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-5_618eee7a0942aec38e70c8d8e8490bae">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">require</span>(car)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>BPXSY1)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt;    66.0   106.0   116.0   118.1   128.0   228.0    3003</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>BPXDI1)</span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt;    0.00   58.00   66.00   65.77   76.00  122.00    3003</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co"># what is 0 blood pressure?</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co"># change all 0 to NA</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>analytic.data<span class="sc">$</span>BPXDI1 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data<span class="sc">$</span>BPXDI1, <span class="st">"0=NA"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-6_ab5583379a67c32c053dcfb7266c9a90">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">#create a new variable</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>analytic.data<span class="sc">$</span>blood.pressure <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>BPXDI1 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-7_fd65103049a7f133c2c50804e26a83cc">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># delete old variable</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>analytic.data<span class="sc">$</span>BPXDI1 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-8_e565c9dacf11c69fa8767eb441724dc8">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># check summary</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>blood.pressure)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">#&gt;    4.00   58.00   68.00   66.54   76.00  122.00    3086</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="race" class="level4"><h4 class="anchored" data-anchor-id="race">Race</h4>
<p>The <code>RIDRETH3</code> column is recoded to simplify racial categories.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-9_12408a67e7acb125d708af09b5a55342">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>analytic.data<span class="sc">$</span>RIDRETH3 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data<span class="sc">$</span>RIDRETH3, </span>
<span id="cb9-2"><a href="#cb9-2"></a>                                 <span class="st">"c('Non-Hispanic Asian','Other Race - Including Multi-Rac')='Other race'"</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a>analytic.data<span class="sc">$</span>race <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIDRETH3</span>
<span id="cb9-4"><a href="#cb9-4"></a>analytic.data<span class="sc">$</span>RIDRETH3 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>race,<span class="at">useNA=</span><span class="st">"always"</span>)</span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt; </span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt;   Mexican American Non-Hispanic Black Non-Hispanic White     Other Hispanic </span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">#&gt;               1730               2267               3674                960 </span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt;         Other race               &lt;NA&gt; </span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt;               1544                  0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="age-centering" class="level4"><h4 class="anchored" data-anchor-id="age-centering">Age (centering)</h4>
<p>Age values are centered around the mean age for those who are 20 years or older.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-10_f966b645217364f41f0f676ba254f47a">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>RIDAGEYR)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#&gt;    0.00   10.00   26.00   31.48   52.00   80.00</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>centre.adult <span class="ot">&lt;-</span> <span class="fu">mean</span>(analytic.data<span class="sc">$</span>RIDAGEYR[analytic.data<span class="sc">$</span>RIDAGEYR <span class="sc">&gt;=</span> <span class="dv">20</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-5"><a href="#cb10-5"></a>centre.adult</span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co">#&gt; [1] 49.11111</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co"># This is actually not the correct mean age. Guess why?</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co"># Hint: see the NHANES data dictionary for age variable.</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>analytic.data<span class="sc">$</span>RIDAGEYRc <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIDAGEYR <span class="sc">-</span> centre.adult</span>
<span id="cb10-10"><a href="#cb10-10"></a>analytic.data<span class="sc">$</span>age.centred <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIDAGEYRc</span>
<span id="cb10-11"><a href="#cb10-11"></a>analytic.data<span class="sc">$</span>RIDAGEYRc <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>age.centred)</span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="co">#&gt; -49.111 -39.111 -23.111 -17.627   2.889  30.889</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="gender" class="level4"><h4 class="anchored" data-anchor-id="gender">Gender</h4>
<p>A new column <code>gender</code> is created for gender details.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-11_8119ae05c91023197d44fe2576e9c258">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>analytic.data<span class="sc">$</span>gender <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIAGENDR</span>
<span id="cb11-2"><a href="#cb11-2"></a>analytic.data<span class="sc">$</span>RIAGENDR <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>gender, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt; </span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt;   Male Female   &lt;NA&gt; </span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt;   5003   5172      0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="marital-status" class="level4"><h4 class="anchored" data-anchor-id="marital-status">Marital status</h4>
<p>The marital status is simplified.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-12_785a3cb735a73df48dcc4764f7f6df61">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>DMDMARTL)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#&gt;             Married             Widowed            Divorced           Separated </span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#&gt;                2965                 436                 659                 177 </span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt;       Never married Living with partner             Refused          Don't Know </span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt;                1112                 417                   2                   1 </span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">#&gt;                NA's </span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">#&gt;                4406</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>analytic.data<span class="sc">$</span>DMDMARTL <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data<span class="sc">$</span>DMDMARTL, </span>
<span id="cb12-9"><a href="#cb12-9"></a>                                 <span class="st">"c('Widowed','Divorced','Separated')='Previously married';</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="st">                                 c('Living with partner','Married')='Married'; </span></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="st">                                 'Never married' = 'Never married';</span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="st">                                 else=NA"</span>)</span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="co"># what happened to 77 and 99? Hint: else</span></span>
<span id="cb12-14"><a href="#cb12-14"></a>analytic.data<span class="sc">$</span>marital <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>DMDMARTL </span>
<span id="cb12-15"><a href="#cb12-15"></a>analytic.data<span class="sc">$</span>DMDMARTL <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb12-16"><a href="#cb12-16"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>marital, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb12-17"><a href="#cb12-17"></a><span class="co">#&gt; </span></span>
<span id="cb12-18"><a href="#cb12-18"></a><span class="co">#&gt;            Married      Never married Previously married               &lt;NA&gt; </span></span>
<span id="cb12-19"><a href="#cb12-19"></a><span class="co">#&gt;               3382               1112               1272               4409</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="alcohol" class="level4"><h4 class="anchored" data-anchor-id="alcohol">Alcohol</h4>
<p>For Alcohol, codes like 777 and 999 are converted to <code>NA</code>.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-13_7c94ea2409f1c2b0af92b0014f2a444f">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>ALQ130)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co">#&gt;   1.000   1.000   2.000   3.511   3.000 999.000    6579</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co"># what is  777 and 999? See NHANES data dictionary.</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co"># Refused and Don't know</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>analytic.data<span class="sc">$</span>ALQ130[analytic.data<span class="sc">$</span>ALQ130 <span class="sc">==</span> <span class="dv">999</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>analytic.data<span class="sc">$</span>ALQ130[analytic.data<span class="sc">$</span>ALQ130 <span class="sc">==</span> <span class="dv">777</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>analytic.data<span class="sc">$</span>alcohol <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>ALQ130</span>
<span id="cb13-9"><a href="#cb13-9"></a>analytic.data<span class="sc">$</span>ALQ130 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>alcohol, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="co">#&gt; </span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="co">#&gt;    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 </span></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co">#&gt; 1280 1002  536  283  154  156   23   54    4   28    4   43    5    2    6    4 </span></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="co">#&gt;   18   20   24   25 &lt;NA&gt; </span></span>
<span id="cb13-15"><a href="#cb13-15"></a><span class="co">#&gt;    3    4    1    1 6582</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="smoking" class="level4"><h4 class="anchored" data-anchor-id="smoking">Smoking</h4>
<p>Similar to alcohol, unusual codes are converted to <code>NA</code>.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-14_bd2c814fa7ce25fdef2656ecffed7c87">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>SMQ040)</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co">#&gt;  Every day  Some days Not at all       NA's </span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co">#&gt;        992        240       1347       7596</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co"># what is  7 and 9? See NHANES data dictionary.</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="co"># Refused and Don't know</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>analytic.data<span class="sc">$</span>SMQ040[analytic.data<span class="sc">$</span>SMQ040 <span class="sc">==</span> <span class="dv">9</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>analytic.data<span class="sc">$</span>SMQ040[analytic.data<span class="sc">$</span>SMQ040 <span class="sc">==</span> <span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>analytic.data<span class="sc">$</span>smoke <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>SMQ040</span>
<span id="cb14-9"><a href="#cb14-9"></a>analytic.data<span class="sc">$</span>SMQ040 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>smoke, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb14-11"><a href="#cb14-11"></a><span class="co">#&gt; </span></span>
<span id="cb14-12"><a href="#cb14-12"></a><span class="co">#&gt;  Every day  Some days Not at all       &lt;NA&gt; </span></span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="co">#&gt;        992        240       1347       7596</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="renaming" class="level3"><h3 class="anchored" data-anchor-id="renaming">Renaming</h3>
<p>Columns in the data frame are renamed for better readability.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-15_55fa0f5c06f8758befef83a82eb92090">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">names</span>(analytic.data)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">#&gt;  [1] "SEQN"           "RIDAGEYR"       "WTINT2YR"       "WTMEC2YR"      </span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">#&gt;  [5] "SDMVPSU"        "SDMVSTRA"       "BPXSY1"         "blood.pressure"</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">#&gt;  [9] "race"           "age.centred"    "gender"         "marital"       </span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co">#&gt; [13] "alcohol"        "smoke"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Order is important.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-16_2ad9b907eee68f8954c88ca41c75940c">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">names</span>(analytic.data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"age"</span>, <span class="st">"w.all"</span>, <span class="st">"w.MEC"</span>, <span class="st">"PSU"</span>, <span class="st">"STRATA"</span>, </span>
<span id="cb16-2"><a href="#cb16-2"></a>                          <span class="st">"systolic"</span>, <span class="st">"diastolic"</span>, <span class="st">"race"</span>, <span class="st">"age.centred"</span>, </span>
<span id="cb16-3"><a href="#cb16-3"></a>                          <span class="st">"gender"</span>, <span class="st">"marital"</span>, <span class="st">"alcohol"</span>, <span class="st">"smoke"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-17_461d70f816356613bb032fbfb7dcab05">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">names</span>(analytic.data)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co">#&gt;  [1] "id"          "age"         "w.all"       "w.MEC"       "PSU"        </span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co">#&gt;  [6] "STRATA"      "systolic"    "diastolic"   "race"        "age.centred"</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co">#&gt; [11] "gender"      "marital"     "alcohol"     "smoke"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="subsetting-to-avoid-zero-cells" class="level3"><h3 class="anchored" data-anchor-id="subsetting-to-avoid-zero-cells">Subsetting to avoid zero-cells</h3>
<p>A new age category (<code>age.cat</code>) is created to segregate the data. Remember that, the target for marital status component was <code>20 YEARS - 150 YEARS</code>.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-18_05dda4c098df74e614a11d290ffee4e8">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>age)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co">#&gt;    0.00   10.00   26.00   31.48   52.00   80.00</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-19_704720d7ad7ab727d1c7c05f33075fe7">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>analytic.data<span class="sc">$</span>age.cat <span class="ot">&lt;-</span> <span class="fu">cut</span>(analytic.data<span class="sc">$</span>age, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">20</span>,<span class="dv">50</span>,<span class="sc">+</span><span class="cn">Inf</span>), <span class="at">right =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-20_8f0362d23bfae11f2d0f82fc11c13c7f">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>age.cat)</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="co">#&gt; </span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="co">#&gt; [-Inf,20)   [20,50) [50, Inf) </span></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="co">#&gt;      4406      2989      2780</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-21_e90802151a7ead301f3810defe1f321a">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>alcohol)</span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co">#&gt;    1.00    1.00    2.00    2.68    3.00   25.00    6582</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-22_bd79a7833ead8df1bcaa130be1816c5b">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>age.cat, analytic.data<span class="sc">$</span>marital)</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co">#&gt;            </span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co">#&gt;             Married Never married Previously married</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co">#&gt;   [-Inf,20)       0             0                  0</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="co">#&gt;   [20,50)      1771           890                327</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="co">#&gt;   [50, Inf)    1611           222                945</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-23_e909f88f02b119b16a8d483ac3560226">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">dim</span>(analytic.data)</span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="co">#&gt; [1] 10175    15</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>analytic.data1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(analytic.data , <span class="sc">!</span><span class="fu">is.na</span>(age) <span class="sc">&amp;</span> age <span class="sc">&gt;=</span> <span class="dv">20</span>)</span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="fu">dim</span>(analytic.data1)</span>
<span id="cb23-5"><a href="#cb23-5"></a><span class="co">#&gt; [1] 5769   15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Note</strong>: This subsetting is problematic for further survey data analysis. We will learn to work with this subsetting correctly later.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-24_e904e2fd76b13b1c4b53b21202f60930">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>analytic.data1<span class="sc">$</span>age <span class="ot">&lt;-</span><span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="summary" class="level3"><h3 class="anchored" data-anchor-id="summary">Summary</h3>
<p>This part provides various summary statistics for the processed data.</p>
<section id="univariate-summary-for-the-complete-case" class="level4"><h4 class="anchored" data-anchor-id="univariate-summary-for-the-complete-case">Univariate summary for the complete case</h4>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-25_fcefe3346bdf994c77df019a0c713a51">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">summary</span>(analytic.data1<span class="sc">$</span>diastolic)</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="co">#&gt;     4.0    62.0    70.0    70.3    78.0   122.0     686</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-26_da759c99d831202ae8a63dcf9c27fd94">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">table</span>(analytic.data1<span class="sc">$</span>race,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="co">#&gt; </span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="co">#&gt;   Mexican American Non-Hispanic Black Non-Hispanic White     Other Hispanic </span></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="co">#&gt;                767               1177               2472                508 </span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="co">#&gt;         Other race               &lt;NA&gt; </span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="co">#&gt;                845                  0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-27_b83befa6114c7454f9c6511a19618dd7">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">summary</span>(analytic.data1<span class="sc">$</span>age.centred)</span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="co">#&gt; -29.111 -15.111  -1.111   0.000  13.889  30.889</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-28_ad57f4fba160f806c2c5d1c65df9e482">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">table</span>(analytic.data1<span class="sc">$</span>gender,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="co">#&gt; </span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="co">#&gt;   Male Female   &lt;NA&gt; </span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="co">#&gt;   2758   3011      0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-29_e9840876c19ae10d8b7a5e258c4684ef">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">table</span>(analytic.data1<span class="sc">$</span>marital,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="co">#&gt; </span></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="co">#&gt;            Married      Never married Previously married               &lt;NA&gt; </span></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="co">#&gt;               3382               1112               1272                  3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="saving-for-further-use" class="level2"><h2 class="anchored" data-anchor-id="saving-for-further-use">Saving for further use</h2>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-30_bff743e37d2f41f551acf95cb706ac76">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">save</span>(analytic.data1, <span class="at">file =</span> <span class="st">"Data/researchquestion/NHANESanalytic.Rdata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="regression-summary-optional" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="regression-summary-optional">Regression summary (Optional)</h2>

<div class="no-row-height column-margin column-container"><div class="">
<p>This is optional content for this chapter. Later in <a href="confounding.html">confounding</a> and <a href="predictivefactors.html">predictive factor</a> chapters, we will learn more about adjustment.</p>
</div></div><p>Different General Linear Models (GLMs) are fit for diastolic blood pressure using variables like gender, marital status, etc.</p>
<section id="bivariate-regression-summary-missing-values-included" class="level3"><h3 class="anchored" data-anchor-id="bivariate-regression-summary-missing-values-included">Bivariate Regression summary (missing values included)</h3>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-31_5cc037c74adad11b35f7012bd43f068f">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>fit1g <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender, <span class="at">data=</span>analytic.data1)</span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">summary</span>(fit1g)</span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="co">#&gt; </span></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co">#&gt; Call:</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="co">#&gt; glm(formula = diastolic ~ gender, data = analytic.data1)</span></span>
<span id="cb31-6"><a href="#cb31-6"></a><span class="co">#&gt; </span></span>
<span id="cb31-7"><a href="#cb31-7"></a><span class="co">#&gt; Deviance Residuals: </span></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span id="cb31-9"><a href="#cb31-9"></a><span class="co">#&gt; -67.579   -7.091    0.421    6.909   50.421  </span></span>
<span id="cb31-10"><a href="#cb31-10"></a><span class="co">#&gt; </span></span>
<span id="cb31-11"><a href="#cb31-11"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb31-12"><a href="#cb31-12"></a><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb31-13"><a href="#cb31-13"></a><span class="co">#&gt; (Intercept)   71.5789     0.2352 304.299  &lt; 2e-16 ***</span></span>
<span id="cb31-14"><a href="#cb31-14"></a><span class="co">#&gt; genderFemale  -2.4880     0.3278  -7.591 3.76e-14 ***</span></span>
<span id="cb31-15"><a href="#cb31-15"></a><span class="co">#&gt; ---</span></span>
<span id="cb31-16"><a href="#cb31-16"></a><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb31-17"><a href="#cb31-17"></a><span class="co">#&gt; </span></span>
<span id="cb31-18"><a href="#cb31-18"></a><span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 136.3911)</span></span>
<span id="cb31-19"><a href="#cb31-19"></a><span class="co">#&gt; </span></span>
<span id="cb31-20"><a href="#cb31-20"></a><span class="co">#&gt;     Null deviance: 700862  on 5082  degrees of freedom</span></span>
<span id="cb31-21"><a href="#cb31-21"></a><span class="co">#&gt; Residual deviance: 693003  on 5081  degrees of freedom</span></span>
<span id="cb31-22"><a href="#cb31-22"></a><span class="co">#&gt;   (686 observations deleted due to missingness)</span></span>
<span id="cb31-23"><a href="#cb31-23"></a><span class="co">#&gt; AIC: 39415</span></span>
<span id="cb31-24"><a href="#cb31-24"></a><span class="co">#&gt; </span></span>
<span id="cb31-25"><a href="#cb31-25"></a><span class="co">#&gt; Number of Fisher Scoring iterations: 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-32_e7d99b18ffb8377db7192997ad065f7e">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>fit1m <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> marital, <span class="at">data=</span>analytic.data1)</span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="fu">summary</span>(fit1m)</span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="co">#&gt; </span></span>
<span id="cb32-4"><a href="#cb32-4"></a><span class="co">#&gt; Call:</span></span>
<span id="cb32-5"><a href="#cb32-5"></a><span class="co">#&gt; glm(formula = diastolic ~ marital, data = analytic.data1)</span></span>
<span id="cb32-6"><a href="#cb32-6"></a><span class="co">#&gt; </span></span>
<span id="cb32-7"><a href="#cb32-7"></a><span class="co">#&gt; Deviance Residuals: </span></span>
<span id="cb32-8"><a href="#cb32-8"></a><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span id="cb32-9"><a href="#cb32-9"></a><span class="co">#&gt; -66.750   -6.838    1.162    7.250   51.250  </span></span>
<span id="cb32-10"><a href="#cb32-10"></a><span class="co">#&gt; </span></span>
<span id="cb32-11"><a href="#cb32-11"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb32-12"><a href="#cb32-12"></a><span class="co">#&gt;                           Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb32-13"><a href="#cb32-13"></a><span class="co">#&gt; (Intercept)                70.7500     0.2138 330.901  &lt; 2e-16 ***</span></span>
<span id="cb32-14"><a href="#cb32-14"></a><span class="co">#&gt; maritalNever married       -1.9116     0.4316  -4.429 9.69e-06 ***</span></span>
<span id="cb32-15"><a href="#cb32-15"></a><span class="co">#&gt; maritalPreviously married  -0.3953     0.4140  -0.955     0.34    </span></span>
<span id="cb32-16"><a href="#cb32-16"></a><span class="co">#&gt; ---</span></span>
<span id="cb32-17"><a href="#cb32-17"></a><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb32-18"><a href="#cb32-18"></a><span class="co">#&gt; </span></span>
<span id="cb32-19"><a href="#cb32-19"></a><span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 137.5101)</span></span>
<span id="cb32-20"><a href="#cb32-20"></a><span class="co">#&gt; </span></span>
<span id="cb32-21"><a href="#cb32-21"></a><span class="co">#&gt;     Null deviance: 700840  on 5079  degrees of freedom</span></span>
<span id="cb32-22"><a href="#cb32-22"></a><span class="co">#&gt; Residual deviance: 698139  on 5077  degrees of freedom</span></span>
<span id="cb32-23"><a href="#cb32-23"></a><span class="co">#&gt;   (689 observations deleted due to missingness)</span></span>
<span id="cb32-24"><a href="#cb32-24"></a><span class="co">#&gt; AIC: 39434</span></span>
<span id="cb32-25"><a href="#cb32-25"></a><span class="co">#&gt; </span></span>
<span id="cb32-26"><a href="#cb32-26"></a><span class="co">#&gt; Number of Fisher Scoring iterations: 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-33_2331419f9594eb4a4d2008de204d23f3">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">str</span>(analytic.data1)</span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="co">#&gt; 'data.frame':    5769 obs. of  14 variables:</span></span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="co">#&gt;  $ id         : num  73557 73558 73559 73561 73562 ...</span></span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="co">#&gt;  $ w.all      : num  13281 23682 57215 63710 24978 ...</span></span>
<span id="cb33-5"><a href="#cb33-5"></a><span class="co">#&gt;  $ w.MEC      : num  13481 24472 57193 65542 25345 ...</span></span>
<span id="cb33-6"><a href="#cb33-6"></a><span class="co">#&gt;  $ PSU        : num  1 1 1 2 1 1 2 1 2 2 ...</span></span>
<span id="cb33-7"><a href="#cb33-7"></a><span class="co">#&gt;  $ STRATA     : num  112 108 109 116 111 114 106 112 112 113 ...</span></span>
<span id="cb33-8"><a href="#cb33-8"></a><span class="co">#&gt;  $ systolic   : num  122 156 140 136 160 118 NA 128 140 106 ...</span></span>
<span id="cb33-9"><a href="#cb33-9"></a><span class="co">#&gt;  $ diastolic  : num  72 62 90 86 84 80 NA 74 78 60 ...</span></span>
<span id="cb33-10"><a href="#cb33-10"></a><span class="co">#&gt;  $ race       : Factor w/ 5 levels "Mexican American",..: 2 3 3 3 1 3 4 3 3 3 ...</span></span>
<span id="cb33-11"><a href="#cb33-11"></a><span class="co">#&gt;  $ age.centred: num  19.89 4.89 22.89 23.89 6.89 ...</span></span>
<span id="cb33-12"><a href="#cb33-12"></a><span class="co">#&gt;  $ gender     : Factor w/ 2 levels "Male","Female": 1 1 1 2 1 2 1 2 1 2 ...</span></span>
<span id="cb33-13"><a href="#cb33-13"></a><span class="co">#&gt;  $ marital    : Factor w/ 3 levels "Married","Never married",..: 3 1 1 1 3 3 1 3 3 2 ...</span></span>
<span id="cb33-14"><a href="#cb33-14"></a><span class="co">#&gt;  $ alcohol    : num  1 4 NA NA 1 1 NA 1 3 2 ...</span></span>
<span id="cb33-15"><a href="#cb33-15"></a><span class="co">#&gt;  $ smoke      : Factor w/ 3 levels "Every day","Some days",..: 3 2 3 NA 3 NA 3 1 1 NA ...</span></span>
<span id="cb33-16"><a href="#cb33-16"></a><span class="co">#&gt;  $ age.cat    : Factor w/ 3 levels "[-Inf,20)","[20,50)",..: 3 3 3 3 3 3 2 3 3 2 ...</span></span>
<span id="cb33-17"><a href="#cb33-17"></a>fit13 <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender<span class="sc">+</span>age.centred<span class="sc">+</span>race<span class="sc">+</span>marital<span class="sc">+</span>systolic<span class="sc">+</span>smoke<span class="sc">+</span>alcohol, <span class="at">data=</span>analytic.data1)</span>
<span id="cb33-18"><a href="#cb33-18"></a><span class="fu">summary</span>(fit13)</span>
<span id="cb33-19"><a href="#cb33-19"></a><span class="co">#&gt; </span></span>
<span id="cb33-20"><a href="#cb33-20"></a><span class="co">#&gt; Call:</span></span>
<span id="cb33-21"><a href="#cb33-21"></a><span class="co">#&gt; glm(formula = diastolic ~ gender + age.centred + race + marital + </span></span>
<span id="cb33-22"><a href="#cb33-22"></a><span class="co">#&gt;     systolic + smoke + alcohol, data = analytic.data1)</span></span>
<span id="cb33-23"><a href="#cb33-23"></a><span class="co">#&gt; </span></span>
<span id="cb33-24"><a href="#cb33-24"></a><span class="co">#&gt; Deviance Residuals: </span></span>
<span id="cb33-25"><a href="#cb33-25"></a><span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span></span>
<span id="cb33-26"><a href="#cb33-26"></a><span class="co">#&gt; -75.142   -6.090    0.811    7.074   33.512  </span></span>
<span id="cb33-27"><a href="#cb33-27"></a><span class="co">#&gt; </span></span>
<span id="cb33-28"><a href="#cb33-28"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb33-29"><a href="#cb33-29"></a><span class="co">#&gt;                           Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb33-30"><a href="#cb33-30"></a><span class="co">#&gt; (Intercept)               30.92372    2.44895  12.627  &lt; 2e-16 ***</span></span>
<span id="cb33-31"><a href="#cb33-31"></a><span class="co">#&gt; genderFemale              -0.34850    0.59830  -0.582 0.560325    </span></span>
<span id="cb33-32"><a href="#cb33-32"></a><span class="co">#&gt; age.centred               -0.13638    0.02142  -6.367 2.56e-10 ***</span></span>
<span id="cb33-33"><a href="#cb33-33"></a><span class="co">#&gt; raceNon-Hispanic Black     1.44736    1.11246   1.301 0.193443    </span></span>
<span id="cb33-34"><a href="#cb33-34"></a><span class="co">#&gt; raceNon-Hispanic White     0.59565    0.96117   0.620 0.535540    </span></span>
<span id="cb33-35"><a href="#cb33-35"></a><span class="co">#&gt; raceOther Hispanic         1.07369    1.29793   0.827 0.408234    </span></span>
<span id="cb33-36"><a href="#cb33-36"></a><span class="co">#&gt; raceOther race             2.02908    1.22998   1.650 0.099216 .  </span></span>
<span id="cb33-37"><a href="#cb33-37"></a><span class="co">#&gt; maritalNever married      -2.92801    0.79123  -3.701 0.000223 ***</span></span>
<span id="cb33-38"><a href="#cb33-38"></a><span class="co">#&gt; maritalPreviously married  0.44754    0.71911   0.622 0.533804    </span></span>
<span id="cb33-39"><a href="#cb33-39"></a><span class="co">#&gt; systolic                   0.31071    0.01763  17.624  &lt; 2e-16 ***</span></span>
<span id="cb33-40"><a href="#cb33-40"></a><span class="co">#&gt; smokeSome days            -0.42177    0.97853  -0.431 0.666513    </span></span>
<span id="cb33-41"><a href="#cb33-41"></a><span class="co">#&gt; smokeNot at all            0.01796    0.65159   0.028 0.978008    </span></span>
<span id="cb33-42"><a href="#cb33-42"></a><span class="co">#&gt; alcohol                    0.17287    0.10994   1.572 0.116060    </span></span>
<span id="cb33-43"><a href="#cb33-43"></a><span class="co">#&gt; ---</span></span>
<span id="cb33-44"><a href="#cb33-44"></a><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb33-45"><a href="#cb33-45"></a><span class="co">#&gt; </span></span>
<span id="cb33-46"><a href="#cb33-46"></a><span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 117.7142)</span></span>
<span id="cb33-47"><a href="#cb33-47"></a><span class="co">#&gt; </span></span>
<span id="cb33-48"><a href="#cb33-48"></a><span class="co">#&gt;     Null deviance: 219477  on 1515  degrees of freedom</span></span>
<span id="cb33-49"><a href="#cb33-49"></a><span class="co">#&gt; Residual deviance: 176924  on 1503  degrees of freedom</span></span>
<span id="cb33-50"><a href="#cb33-50"></a><span class="co">#&gt;   (4253 observations deleted due to missingness)</span></span>
<span id="cb33-51"><a href="#cb33-51"></a><span class="co">#&gt; AIC: 11546</span></span>
<span id="cb33-52"><a href="#cb33-52"></a><span class="co">#&gt; </span></span>
<span id="cb33-53"><a href="#cb33-53"></a><span class="co">#&gt; Number of Fisher Scoring iterations: 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="check-missingness-optional" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="check-missingness-optional">Check missingness (optional)</h2>

<div class="no-row-height column-margin column-container"><div class="">
<p>A subsequent <a href="missingdata.html">chapter</a> will delve into the additional factors that impact how we handle missing data.</p>
</div></div><p>The <code>plot_missing()</code> function from the <code>DataExplorer</code> package is used to plot missing data.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-34_1b44565c8178b677488e5d2c1996a4a5">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">require</span>(DataExplorer)</span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="fu">plot_missing</span>(analytic.data1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="researchquestion2b_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-35_fe3fa156118d5af4d6814a75c597b40e">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">require</span>(<span class="st">"tableone"</span>)</span>
<span id="cb35-2"><a href="#cb35-2"></a>vars <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"systolic"</span>, <span class="st">"smoke"</span>, <span class="st">"diastolic"</span>, <span class="st">"race"</span>, </span>
<span id="cb35-3"><a href="#cb35-3"></a>                       <span class="st">"age.centred"</span>, <span class="st">"gender"</span>, <span class="st">"marital"</span>, <span class="st">"alcohol"</span>)</span>
<span id="cb35-4"><a href="#cb35-4"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data1, <span class="at">includeNA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb35-5"><a href="#cb35-5"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb35-6"><a href="#cb35-6"></a><span class="co">#&gt;                          </span></span>
<span id="cb35-7"><a href="#cb35-7"></a><span class="co">#&gt;                           Overall       </span></span>
<span id="cb35-8"><a href="#cb35-8"></a><span class="co">#&gt;   n                         5769        </span></span>
<span id="cb35-9"><a href="#cb35-9"></a><span class="co">#&gt;   systolic (mean (SD))    123.16 (18.12)</span></span>
<span id="cb35-10"><a href="#cb35-10"></a><span class="co">#&gt;   smoke (%)                             </span></span>
<span id="cb35-11"><a href="#cb35-11"></a><span class="co">#&gt;      Every day               965 (16.7) </span></span>
<span id="cb35-12"><a href="#cb35-12"></a><span class="co">#&gt;      Some days               229 ( 4.0) </span></span>
<span id="cb35-13"><a href="#cb35-13"></a><span class="co">#&gt;      Not at all             1336 (23.2) </span></span>
<span id="cb35-14"><a href="#cb35-14"></a><span class="co">#&gt;      NA                     3239 (56.1) </span></span>
<span id="cb35-15"><a href="#cb35-15"></a><span class="co">#&gt;   diastolic (mean (SD))    70.30 (11.74)</span></span>
<span id="cb35-16"><a href="#cb35-16"></a><span class="co">#&gt;   race (%)                              </span></span>
<span id="cb35-17"><a href="#cb35-17"></a><span class="co">#&gt;      Mexican American        767 (13.3) </span></span>
<span id="cb35-18"><a href="#cb35-18"></a><span class="co">#&gt;      Non-Hispanic Black     1177 (20.4) </span></span>
<span id="cb35-19"><a href="#cb35-19"></a><span class="co">#&gt;      Non-Hispanic White     2472 (42.8) </span></span>
<span id="cb35-20"><a href="#cb35-20"></a><span class="co">#&gt;      Other Hispanic          508 ( 8.8) </span></span>
<span id="cb35-21"><a href="#cb35-21"></a><span class="co">#&gt;      Other race              845 (14.6) </span></span>
<span id="cb35-22"><a href="#cb35-22"></a><span class="co">#&gt;   age.centred (mean (SD))   0.00 (17.56)</span></span>
<span id="cb35-23"><a href="#cb35-23"></a><span class="co">#&gt;   gender = Female (%)       3011 (52.2) </span></span>
<span id="cb35-24"><a href="#cb35-24"></a><span class="co">#&gt;   marital (%)                           </span></span>
<span id="cb35-25"><a href="#cb35-25"></a><span class="co">#&gt;      Married                3382 (58.6) </span></span>
<span id="cb35-26"><a href="#cb35-26"></a><span class="co">#&gt;      Never married          1112 (19.3) </span></span>
<span id="cb35-27"><a href="#cb35-27"></a><span class="co">#&gt;      Previously married     1272 (22.0) </span></span>
<span id="cb35-28"><a href="#cb35-28"></a><span class="co">#&gt;      NA                        3 ( 0.1) </span></span>
<span id="cb35-29"><a href="#cb35-29"></a><span class="co">#&gt;   alcohol (mean (SD))       2.65 (2.34)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="setting-correct-variable-types" class="level3"><h3 class="anchored" data-anchor-id="setting-correct-variable-types">Setting correct variable types</h3>
<p>The variables are explicitly set to either numeric or factor types.</p>
<p><strong>Note</strong>: In case any of the variables types are wrong, your table 1 output will be wrong. Better to be sure about what type of variable you want them to be (numeric or factor). For example, <code>systolic</code> should be numeric. Is it defined that way?</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-36_55781b86ae935b76c2e93538ddfddbea">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">mode</span>(analytic.data1<span class="sc">$</span>systolic)</span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="co">#&gt; [1] "numeric"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In case it wasn’t (often they can get converted to character), then here is the solution:</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-37_c75813aeb0a2b3a6a0263aa756fdb7e7">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># solution 1: one-by-one</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>analytic.data1<span class="sc">$</span>systolic <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(analytic.data1<span class="sc">$</span>systolic))</span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="fu">summary</span>(analytic.data1<span class="sc">$</span>systolic)</span>
<span id="cb37-4"><a href="#cb37-4"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span></span>
<span id="cb37-5"><a href="#cb37-5"></a><span class="co">#&gt;    66.0   110.0   120.0   123.2   134.0   228.0     658</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-38_9a7554fc7fa151512678a393c45a75fe">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="co"># solution 2: fixing all variable types at once</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>numeric.names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"systolic"</span>, <span class="st">"diastolic"</span>, <span class="st">"age.centred"</span>, <span class="st">"alcohol"</span>)</span>
<span id="cb38-3"><a href="#cb38-3"></a>factor.names <span class="ot">&lt;-</span> vars[<span class="sc">!</span>vars <span class="sc">%in%</span> numeric.names]</span>
<span id="cb38-4"><a href="#cb38-4"></a>factor.names</span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="co">#&gt; [1] "smoke"   "race"    "gender"  "marital"</span></span>
<span id="cb38-6"><a href="#cb38-6"></a>analytic.data1[,factor.names] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(analytic.data1[,factor.names] , factor)</span>
<span id="cb38-7"><a href="#cb38-7"></a>analytic.data1[numeric.names] <span class="ot">&lt;-</span> <span class="fu">apply</span>(<span class="at">X =</span> analytic.data1[numeric.names],</span>
<span id="cb38-8"><a href="#cb38-8"></a>                                       <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span><span class="cf">function</span> (x) </span>
<span id="cb38-9"><a href="#cb38-9"></a>                                         <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(x)))</span>
<span id="cb38-10"><a href="#cb38-10"></a><span class="fu">levels</span>(analytic.data1<span class="sc">$</span>marital)</span>
<span id="cb38-11"><a href="#cb38-11"></a><span class="co">#&gt; [1] "Married"            "Never married"      "Previously married"</span></span>
<span id="cb38-12"><a href="#cb38-12"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data1, <span class="at">includeNA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb38-13"><a href="#cb38-13"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb38-14"><a href="#cb38-14"></a><span class="co">#&gt;                          </span></span>
<span id="cb38-15"><a href="#cb38-15"></a><span class="co">#&gt;                           Overall       </span></span>
<span id="cb38-16"><a href="#cb38-16"></a><span class="co">#&gt;   n                         5769        </span></span>
<span id="cb38-17"><a href="#cb38-17"></a><span class="co">#&gt;   systolic (mean (SD))    123.16 (18.12)</span></span>
<span id="cb38-18"><a href="#cb38-18"></a><span class="co">#&gt;   smoke (%)                             </span></span>
<span id="cb38-19"><a href="#cb38-19"></a><span class="co">#&gt;      Every day               965 (16.7) </span></span>
<span id="cb38-20"><a href="#cb38-20"></a><span class="co">#&gt;      Some days               229 ( 4.0) </span></span>
<span id="cb38-21"><a href="#cb38-21"></a><span class="co">#&gt;      Not at all             1336 (23.2) </span></span>
<span id="cb38-22"><a href="#cb38-22"></a><span class="co">#&gt;      NA                     3239 (56.1) </span></span>
<span id="cb38-23"><a href="#cb38-23"></a><span class="co">#&gt;   diastolic (mean (SD))    70.30 (11.74)</span></span>
<span id="cb38-24"><a href="#cb38-24"></a><span class="co">#&gt;   race (%)                              </span></span>
<span id="cb38-25"><a href="#cb38-25"></a><span class="co">#&gt;      Mexican American        767 (13.3) </span></span>
<span id="cb38-26"><a href="#cb38-26"></a><span class="co">#&gt;      Non-Hispanic Black     1177 (20.4) </span></span>
<span id="cb38-27"><a href="#cb38-27"></a><span class="co">#&gt;      Non-Hispanic White     2472 (42.8) </span></span>
<span id="cb38-28"><a href="#cb38-28"></a><span class="co">#&gt;      Other Hispanic          508 ( 8.8) </span></span>
<span id="cb38-29"><a href="#cb38-29"></a><span class="co">#&gt;      Other race              845 (14.6) </span></span>
<span id="cb38-30"><a href="#cb38-30"></a><span class="co">#&gt;   age.centred (mean (SD))   0.00 (17.56)</span></span>
<span id="cb38-31"><a href="#cb38-31"></a><span class="co">#&gt;   gender = Female (%)       3011 (52.2) </span></span>
<span id="cb38-32"><a href="#cb38-32"></a><span class="co">#&gt;   marital (%)                           </span></span>
<span id="cb38-33"><a href="#cb38-33"></a><span class="co">#&gt;      Married                3382 (58.6) </span></span>
<span id="cb38-34"><a href="#cb38-34"></a><span class="co">#&gt;      Never married          1112 (19.3) </span></span>
<span id="cb38-35"><a href="#cb38-35"></a><span class="co">#&gt;      Previously married     1272 (22.0) </span></span>
<span id="cb38-36"><a href="#cb38-36"></a><span class="co">#&gt;      NA                        3 ( 0.1) </span></span>
<span id="cb38-37"><a href="#cb38-37"></a><span class="co">#&gt;   alcohol (mean (SD))       2.65 (2.34)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="complete-case-analysis" class="level3"><h3 class="anchored" data-anchor-id="complete-case-analysis">Complete case analysis</h3>
<p>Removes all rows containing <code>NA</code>.</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-39_219a3f712a8200f04cac434b78c0b683">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">dim</span>(analytic.data1)</span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="co">#&gt; [1] 5769   14</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>analytic.data2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">na.omit</span>(analytic.data1))</span>
<span id="cb39-4"><a href="#cb39-4"></a><span class="fu">dim</span>(analytic.data2)</span>
<span id="cb39-5"><a href="#cb39-5"></a><span class="co">#&gt; [1] 1516   14</span></span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="fu">plot_missing</span>(analytic.data2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="researchquestion2b_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-40_a68ae6213fa9ec9ea829cde5f8e3440e">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data2, <span class="at">includeNA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb40-2"><a href="#cb40-2"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb40-3"><a href="#cb40-3"></a><span class="co">#&gt;                          </span></span>
<span id="cb40-4"><a href="#cb40-4"></a><span class="co">#&gt;                           Overall       </span></span>
<span id="cb40-5"><a href="#cb40-5"></a><span class="co">#&gt;   n                         1516        </span></span>
<span id="cb40-6"><a href="#cb40-6"></a><span class="co">#&gt;   systolic (mean (SD))    123.29 (17.58)</span></span>
<span id="cb40-7"><a href="#cb40-7"></a><span class="co">#&gt;   smoke (%)                             </span></span>
<span id="cb40-8"><a href="#cb40-8"></a><span class="co">#&gt;      Every day               590 (38.9) </span></span>
<span id="cb40-9"><a href="#cb40-9"></a><span class="co">#&gt;      Some days               159 (10.5) </span></span>
<span id="cb40-10"><a href="#cb40-10"></a><span class="co">#&gt;      Not at all              767 (50.6) </span></span>
<span id="cb40-11"><a href="#cb40-11"></a><span class="co">#&gt;   diastolic (mean (SD))    70.11 (12.04)</span></span>
<span id="cb40-12"><a href="#cb40-12"></a><span class="co">#&gt;   race (%)                              </span></span>
<span id="cb40-13"><a href="#cb40-13"></a><span class="co">#&gt;      Mexican American        162 (10.7) </span></span>
<span id="cb40-14"><a href="#cb40-14"></a><span class="co">#&gt;      Non-Hispanic Black      292 (19.3) </span></span>
<span id="cb40-15"><a href="#cb40-15"></a><span class="co">#&gt;      Non-Hispanic White      778 (51.3) </span></span>
<span id="cb40-16"><a href="#cb40-16"></a><span class="co">#&gt;      Other Hispanic          126 ( 8.3) </span></span>
<span id="cb40-17"><a href="#cb40-17"></a><span class="co">#&gt;      Other race              158 (10.4) </span></span>
<span id="cb40-18"><a href="#cb40-18"></a><span class="co">#&gt;   age.centred (mean (SD))  -0.76 (16.71)</span></span>
<span id="cb40-19"><a href="#cb40-19"></a><span class="co">#&gt;   gender = Female (%)        626 (41.3) </span></span>
<span id="cb40-20"><a href="#cb40-20"></a><span class="co">#&gt;   marital (%)                           </span></span>
<span id="cb40-21"><a href="#cb40-21"></a><span class="co">#&gt;      Married                 858 (56.6) </span></span>
<span id="cb40-22"><a href="#cb40-22"></a><span class="co">#&gt;      Never married           300 (19.8) </span></span>
<span id="cb40-23"><a href="#cb40-23"></a><span class="co">#&gt;      Previously married      358 (23.6) </span></span>
<span id="cb40-24"><a href="#cb40-24"></a><span class="co">#&gt;   alcohol (mean (SD))       3.15 (2.76)</span></span>
<span id="cb40-25"><a href="#cb40-25"></a><span class="co"># For categorical variables, try to see if </span></span>
<span id="cb40-26"><a href="#cb40-26"></a><span class="co"># any categories have 0% or 100% frequency.</span></span>
<span id="cb40-27"><a href="#cb40-27"></a><span class="co"># If yes, those may create problem in further analysis.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-41_e2338aa8fed17eee8d14c6831d784ccb">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>fit23 <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender<span class="sc">+</span>age.centred<span class="sc">+</span>race<span class="sc">+</span>marital<span class="sc">+</span>systolic<span class="sc">+</span>smoke<span class="sc">+</span>alcohol, <span class="at">data=</span>analytic.data2)</span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">require</span>(Publish)</span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="fu">publish</span>(fit23)</span>
<span id="cb41-4"><a href="#cb41-4"></a><span class="co">#&gt;     Variable              Units Coefficient         CI.95     p-value </span></span>
<span id="cb41-5"><a href="#cb41-5"></a><span class="co">#&gt;  (Intercept)                          30.92 [26.12;35.72]     &lt; 1e-04 </span></span>
<span id="cb41-6"><a href="#cb41-6"></a><span class="co">#&gt;       gender               Male         Ref                           </span></span>
<span id="cb41-7"><a href="#cb41-7"></a><span class="co">#&gt;                          Female       -0.35  [-1.52;0.82]   0.5603254 </span></span>
<span id="cb41-8"><a href="#cb41-8"></a><span class="co">#&gt;  age.centred                          -0.14 [-0.18;-0.09]     &lt; 1e-04 </span></span>
<span id="cb41-9"><a href="#cb41-9"></a><span class="co">#&gt;         race   Mexican American         Ref                           </span></span>
<span id="cb41-10"><a href="#cb41-10"></a><span class="co">#&gt;              Non-Hispanic Black        1.45  [-0.73;3.63]   0.1934428 </span></span>
<span id="cb41-11"><a href="#cb41-11"></a><span class="co">#&gt;              Non-Hispanic White        0.60  [-1.29;2.48]   0.5355396 </span></span>
<span id="cb41-12"><a href="#cb41-12"></a><span class="co">#&gt;                  Other Hispanic        1.07  [-1.47;3.62]   0.4082336 </span></span>
<span id="cb41-13"><a href="#cb41-13"></a><span class="co">#&gt;                      Other race        2.03  [-0.38;4.44]   0.0992165 </span></span>
<span id="cb41-14"><a href="#cb41-14"></a><span class="co">#&gt;      marital            Married         Ref                           </span></span>
<span id="cb41-15"><a href="#cb41-15"></a><span class="co">#&gt;                   Never married       -2.93 [-4.48;-1.38]   0.0002229 </span></span>
<span id="cb41-16"><a href="#cb41-16"></a><span class="co">#&gt;              Previously married        0.45  [-0.96;1.86]   0.5338035 </span></span>
<span id="cb41-17"><a href="#cb41-17"></a><span class="co">#&gt;     systolic                           0.31   [0.28;0.35]     &lt; 1e-04 </span></span>
<span id="cb41-18"><a href="#cb41-18"></a><span class="co">#&gt;        smoke          Every day         Ref                           </span></span>
<span id="cb41-19"><a href="#cb41-19"></a><span class="co">#&gt;                       Some days       -0.42  [-2.34;1.50]   0.6665127 </span></span>
<span id="cb41-20"><a href="#cb41-20"></a><span class="co">#&gt;                      Not at all        0.02  [-1.26;1.30]   0.9780080 </span></span>
<span id="cb41-21"><a href="#cb41-21"></a><span class="co">#&gt;      alcohol                           0.17  [-0.04;0.39]   0.1160603</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="imputed-data" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="imputed-data">Imputed data</h3>
<p>We will learn about proper missing data analysis at a latter class. Currently, we will do a simple (but rather controversial) single imputation. In here we are simply using a random sampling to impute (probably the worst method, but we are just filling in some gaps for now).</p>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-42_8afd6d32cc3abb0210f9409d68d18f73">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">require</span>(mice)</span>
<span id="cb42-2"><a href="#cb42-2"></a>imputation1 <span class="ot">&lt;-</span> <span class="fu">mice</span>(analytic.data1,</span>
<span id="cb42-3"><a href="#cb42-3"></a>                   <span class="at">method =</span> <span class="st">"sample"</span>,  </span>
<span id="cb42-4"><a href="#cb42-4"></a>                   <span class="at">m =</span> <span class="dv">1</span>, <span class="co"># Number of multiple imputations. </span></span>
<span id="cb42-5"><a href="#cb42-5"></a>                   <span class="at">maxit =</span> <span class="dv">1</span> <span class="co"># Number of iteration; mostly useful for convergence</span></span>
<span id="cb42-6"><a href="#cb42-6"></a>                   )</span>
<span id="cb42-7"><a href="#cb42-7"></a><span class="co">#&gt; </span></span>
<span id="cb42-8"><a href="#cb42-8"></a><span class="co">#&gt;  iter imp variable</span></span>
<span id="cb42-9"><a href="#cb42-9"></a><span class="co">#&gt;   1   1  systolic  diastolic  marital  alcohol  smoke</span></span>
<span id="cb42-10"><a href="#cb42-10"></a><span class="co">#&gt; Warning: Number of logged events: 5</span></span>
<span id="cb42-11"><a href="#cb42-11"></a>analytic.data.imputation1 <span class="ot">&lt;-</span> <span class="fu">complete</span>(imputation1)</span>
<span id="cb42-12"><a href="#cb42-12"></a><span class="fu">dim</span>(analytic.data.imputation1)</span>
<span id="cb42-13"><a href="#cb42-13"></a><span class="co">#&gt; [1] 5769   14</span></span>
<span id="cb42-14"><a href="#cb42-14"></a><span class="fu">str</span>(analytic.data.imputation1)</span>
<span id="cb42-15"><a href="#cb42-15"></a><span class="co">#&gt; 'data.frame':    5769 obs. of  14 variables:</span></span>
<span id="cb42-16"><a href="#cb42-16"></a><span class="co">#&gt;  $ id         : num  73557 73558 73559 73561 73562 ...</span></span>
<span id="cb42-17"><a href="#cb42-17"></a><span class="co">#&gt;  $ w.all      : num  13281 23682 57215 63710 24978 ...</span></span>
<span id="cb42-18"><a href="#cb42-18"></a><span class="co">#&gt;  $ w.MEC      : num  13481 24472 57193 65542 25345 ...</span></span>
<span id="cb42-19"><a href="#cb42-19"></a><span class="co">#&gt;  $ PSU        : num  1 1 1 2 1 1 2 1 2 2 ...</span></span>
<span id="cb42-20"><a href="#cb42-20"></a><span class="co">#&gt;  $ STRATA     : num  112 108 109 116 111 114 106 112 112 113 ...</span></span>
<span id="cb42-21"><a href="#cb42-21"></a><span class="co">#&gt;  $ systolic   : num  122 156 140 136 160 118 100 128 140 106 ...</span></span>
<span id="cb42-22"><a href="#cb42-22"></a><span class="co">#&gt;  $ diastolic  : num  72 62 90 86 84 80 66 74 78 60 ...</span></span>
<span id="cb42-23"><a href="#cb42-23"></a><span class="co">#&gt;  $ race       : Factor w/ 5 levels "Mexican American",..: 2 3 3 3 1 3 4 3 3 3 ...</span></span>
<span id="cb42-24"><a href="#cb42-24"></a><span class="co">#&gt;  $ age.centred: num  19.89 4.89 22.89 23.89 6.89 ...</span></span>
<span id="cb42-25"><a href="#cb42-25"></a><span class="co">#&gt;  $ gender     : Factor w/ 2 levels "Male","Female": 1 1 1 2 1 2 1 2 1 2 ...</span></span>
<span id="cb42-26"><a href="#cb42-26"></a><span class="co">#&gt;  $ marital    : Factor w/ 3 levels "Married","Never married",..: 3 1 1 1 3 3 1 3 3 2 ...</span></span>
<span id="cb42-27"><a href="#cb42-27"></a><span class="co">#&gt;  $ alcohol    : num  1 4 1 2 1 1 4 1 3 2 ...</span></span>
<span id="cb42-28"><a href="#cb42-28"></a><span class="co">#&gt;  $ smoke      : Factor w/ 3 levels "Every day","Some days",..: 3 2 3 3 3 3 3 1 1 3 ...</span></span>
<span id="cb42-29"><a href="#cb42-29"></a><span class="co">#&gt;  $ age.cat    : Factor w/ 3 levels "[-Inf,20)","[20,50)",..: 3 3 3 3 3 3 2 3 3 2 ...</span></span>
<span id="cb42-30"><a href="#cb42-30"></a><span class="fu">plot_missing</span>(analytic.data.imputation1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="researchquestion2b_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-43_dc7621d86b1475ea9983fb3410ea7b7b">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data.imputation1, <span class="at">includeNA =</span> <span class="cn">TRUE</span>,</span>
<span id="cb43-2"><a href="#cb43-2"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="co">#&gt;                          </span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="co">#&gt;                           Overall       </span></span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="co">#&gt;   n                         5769        </span></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="co">#&gt;   systolic (mean (SD))    122.98 (18.06)</span></span>
<span id="cb43-7"><a href="#cb43-7"></a><span class="co">#&gt;   smoke (%)                             </span></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="co">#&gt;      Every day              2187 (37.9) </span></span>
<span id="cb43-9"><a href="#cb43-9"></a><span class="co">#&gt;      Some days               517 ( 9.0) </span></span>
<span id="cb43-10"><a href="#cb43-10"></a><span class="co">#&gt;      Not at all             3065 (53.1) </span></span>
<span id="cb43-11"><a href="#cb43-11"></a><span class="co">#&gt;   diastolic (mean (SD))    70.25 (11.80)</span></span>
<span id="cb43-12"><a href="#cb43-12"></a><span class="co">#&gt;   race (%)                              </span></span>
<span id="cb43-13"><a href="#cb43-13"></a><span class="co">#&gt;      Mexican American        767 (13.3) </span></span>
<span id="cb43-14"><a href="#cb43-14"></a><span class="co">#&gt;      Non-Hispanic Black     1177 (20.4) </span></span>
<span id="cb43-15"><a href="#cb43-15"></a><span class="co">#&gt;      Non-Hispanic White     2472 (42.8) </span></span>
<span id="cb43-16"><a href="#cb43-16"></a><span class="co">#&gt;      Other Hispanic          508 ( 8.8) </span></span>
<span id="cb43-17"><a href="#cb43-17"></a><span class="co">#&gt;      Other race              845 (14.6) </span></span>
<span id="cb43-18"><a href="#cb43-18"></a><span class="co">#&gt;   age.centred (mean (SD))   0.00 (17.56)</span></span>
<span id="cb43-19"><a href="#cb43-19"></a><span class="co">#&gt;   gender = Female (%)       3011 (52.2) </span></span>
<span id="cb43-20"><a href="#cb43-20"></a><span class="co">#&gt;   marital (%)                           </span></span>
<span id="cb43-21"><a href="#cb43-21"></a><span class="co">#&gt;      Married                3383 (58.6) </span></span>
<span id="cb43-22"><a href="#cb43-22"></a><span class="co">#&gt;      Never married          1113 (19.3) </span></span>
<span id="cb43-23"><a href="#cb43-23"></a><span class="co">#&gt;      Previously married     1273 (22.1) </span></span>
<span id="cb43-24"><a href="#cb43-24"></a><span class="co">#&gt;   alcohol (mean (SD))       2.62 (2.28)</span></span>
<span id="cb43-25"><a href="#cb43-25"></a><span class="co"># For categorical variables, try to see if </span></span>
<span id="cb43-26"><a href="#cb43-26"></a><span class="co"># any categories have 0% or 100% frequency.</span></span>
<span id="cb43-27"><a href="#cb43-27"></a><span class="co"># If yes, those may create problem in further analysis.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-44_45d064920c8cffd3ce732ecf84bff852">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>fit23i <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender<span class="sc">+</span>age.centred<span class="sc">+</span>race<span class="sc">+</span>marital<span class="sc">+</span>systolic<span class="sc">+</span>smoke<span class="sc">+</span>alcohol, <span class="at">data=</span>analytic.data.imputation1)</span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">publish</span>(fit23i)</span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="co">#&gt;     Variable              Units Coefficient         CI.95     p-value </span></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="co">#&gt;  (Intercept)                          38.74 [36.37;41.11]     &lt; 1e-04 </span></span>
<span id="cb44-5"><a href="#cb44-5"></a><span class="co">#&gt;       gender               Male         Ref                           </span></span>
<span id="cb44-6"><a href="#cb44-6"></a><span class="co">#&gt;                          Female       -1.30 [-1.88;-0.72]     &lt; 1e-04 </span></span>
<span id="cb44-7"><a href="#cb44-7"></a><span class="co">#&gt;  age.centred                          -0.12 [-0.14;-0.10]     &lt; 1e-04 </span></span>
<span id="cb44-8"><a href="#cb44-8"></a><span class="co">#&gt;         race   Mexican American         Ref                           </span></span>
<span id="cb44-9"><a href="#cb44-9"></a><span class="co">#&gt;              Non-Hispanic Black        0.97  [-0.04;1.98]   0.0606987 </span></span>
<span id="cb44-10"><a href="#cb44-10"></a><span class="co">#&gt;              Non-Hispanic White        0.68  [-0.21;1.57]   0.1337626 </span></span>
<span id="cb44-11"><a href="#cb44-11"></a><span class="co">#&gt;                  Other Hispanic        0.91  [-0.32;2.13]   0.1471629 </span></span>
<span id="cb44-12"><a href="#cb44-12"></a><span class="co">#&gt;                      Other race        2.00   [0.93;3.08]   0.0002535 </span></span>
<span id="cb44-13"><a href="#cb44-13"></a><span class="co">#&gt;      marital            Married         Ref                           </span></span>
<span id="cb44-14"><a href="#cb44-14"></a><span class="co">#&gt;                   Never married       -2.43 [-3.24;-1.63]     &lt; 1e-04 </span></span>
<span id="cb44-15"><a href="#cb44-15"></a><span class="co">#&gt;              Previously married       -0.12  [-0.87;0.62]   0.7450923 </span></span>
<span id="cb44-16"><a href="#cb44-16"></a><span class="co">#&gt;     systolic                           0.26   [0.24;0.28]     &lt; 1e-04 </span></span>
<span id="cb44-17"><a href="#cb44-17"></a><span class="co">#&gt;        smoke          Every day         Ref                           </span></span>
<span id="cb44-18"><a href="#cb44-18"></a><span class="co">#&gt;                       Some days       -0.17  [-1.21;0.88]   0.7572027 </span></span>
<span id="cb44-19"><a href="#cb44-19"></a><span class="co">#&gt;                      Not at all       -0.19  [-0.80;0.42]   0.5387956 </span></span>
<span id="cb44-20"><a href="#cb44-20"></a><span class="co">#&gt;      alcohol                          -0.02  [-0.15;0.10]   0.7070437</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We see some changes in the estimates. After imputing compared to complete case analysis, any changes dramatic (e.g., changing conclusion)?</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Additional factors come into play when dealing with complex survey datasets; these will be explored in a subsequent <a href="surveydata.html">chapter</a>.</p>
</div></div><div class="cell" data-hash="researchquestion2b_cache/html/unnamed-chunk-45_0cfa401c6ae7bf0e3d08ae5d09c6e2c1">
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">require</span>(jtools)</span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="fu">require</span>(ggstance)</span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="fu">require</span>(broom.mixed)</span>
<span id="cb45-4"><a href="#cb45-4"></a><span class="fu">require</span>(huxtable)</span>
<span id="cb45-5"><a href="#cb45-5"></a><span class="fu">export_summs</span>(fit23, fit23i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  " id="tab:unnamed-chunk-45">
<colgroup><col>
<col>
<col>
</colgroup><tbody><tr>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Model 1</th>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Model 2</th>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(Intercept)</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">30.92 ***</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">38.74 ***</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.45)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.21)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">genderFemale</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.35&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.30 ***</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.60)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.30)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">age.centred</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.14 ***</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.12 ***</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.02)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">raceNon-Hispanic Black</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.45&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.97&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.11)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.52)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">raceNon-Hispanic White</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.60&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.68&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.96)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.45)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">raceOther Hispanic</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.07&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.91&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.30)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.63)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">raceOther race</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.03&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.00 ***</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.23)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.55)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">maritalNever married</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.93 ***</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.43 ***</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.79)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.41)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">maritalPreviously married</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.45&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.12&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.72)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.38)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">systolic</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.31 ***</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.26 ***</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.02)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">smokeSome days</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.42&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.17&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.98)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.53)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">smokeNot at all</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.02&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.19&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.65)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.31)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">alcohol</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.17&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.02&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.11)&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.07)&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">N</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1516&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">5769&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AIC</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11545.85&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">43965.77&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">BIC</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11620.38&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">44059.01&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Pseudo R2</th>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.19&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.15&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr><th colspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"> *** p &lt; 0.001;  ** p &lt; 0.01;  * p &lt; 0.05.</th></tr>
</tbody></table>
</div>
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">plot_summs</span>(fit23, fit23i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="researchquestion2b_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="672"></p>
</div>
<details><summary>Show the code</summary><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co"># plot_summs(fit23, fit23i, plot.distributions = TRUE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="exercise-try-yourself" class="level2"><h2 class="anchored" data-anchor-id="exercise-try-yourself">Exercise (try yourself)</h2>
<p>In this lab, we have done multiple steps that could be improved. One of them was single imputation by random sampling. What other ad hoc method you could use to impute the factor variables?</p>
</section><section id="references" class="level2"><h2 class="anchored" data-anchor-id="references">References</h2>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-li2020association" class="csl-entry" role="doc-biblioentry">
Li, Meng, Shoumeng Yan, Xing Li, Shan Jiang, Xiaoyu Ma, Hantong Zhao, Jiagen Li, et al. 2020. <span>“Association Between Blood Pressure and Dietary Intakes of Sodium and Potassium Among US Adults Using Quantile Regression Analysis NHANES 2007–2014.”</span> <em>Journal of Human Hypertension</em> 34 (5): 346–54.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./researchquestion2a.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Predictive question-2a</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./researchquestion3.html" class="pagination-link">
        <span class="nav-page-text">Causal question-1</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb48" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">## Predictive question-2b {.unnumbered}</span></span>
<span id="cb48-2"><a href="#cb48-2"></a></span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="fu">### Working with a Predictive question using NHANES</span></span>
<span id="cb48-4"><a href="#cb48-4"></a></span>
<span id="cb48-5"><a href="#cb48-5"></a>**Part 2: Analysis of downloaded data**:</span>
<span id="cb48-6"><a href="#cb48-6"></a></span>
<span id="cb48-7"><a href="#cb48-7"></a>This tutorial provides a comprehensive guide to NHANES data preparation and initial analysis using R. The tutorial covers topics such as loading dataset, variable recoding, data summary statistics, and various types of regression analyses, including bivariate and multivariate models. It also delves into dealing with missing data, first by omitting NA values for a complete case analysis and then using a simple imputation method. The guide is designed to walk the reader through each step of data manipulation and analysis, with a focus on avoiding common pitfalls in statistical analysis.</span>
<span id="cb48-8"><a href="#cb48-8"></a></span>
<span id="cb48-9"><a href="#cb48-9"></a><span class="in">```{r chunkSetup, include=FALSE}</span></span>
<span id="cb48-10"><a href="#cb48-10"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-11"><a href="#cb48-11"></a><span class="fu">require</span>(car)</span>
<span id="cb48-12"><a href="#cb48-12"></a><span class="fu">require</span>(DataExplorer)</span>
<span id="cb48-13"><a href="#cb48-13"></a><span class="fu">require</span>(<span class="st">"tableone"</span>)</span>
<span id="cb48-14"><a href="#cb48-14"></a><span class="fu">require</span>(Publish)</span>
<span id="cb48-15"><a href="#cb48-15"></a><span class="fu">require</span>(mice)</span>
<span id="cb48-16"><a href="#cb48-16"></a><span class="fu">require</span>(jtools)</span>
<span id="cb48-17"><a href="#cb48-17"></a><span class="fu">require</span>(ggstance)</span>
<span id="cb48-18"><a href="#cb48-18"></a><span class="fu">require</span>(broom.mixed)</span>
<span id="cb48-19"><a href="#cb48-19"></a><span class="fu">require</span>(huxtable)</span>
<span id="cb48-20"><a href="#cb48-20"></a><span class="in">```</span></span>
<span id="cb48-21"><a href="#cb48-21"></a></span>
<span id="cb48-22"><a href="#cb48-22"></a><span class="fu">### Example article</span></span>
<span id="cb48-23"><a href="#cb48-23"></a></span>
<span id="cb48-24"><a href="#cb48-24"></a>We are continuing to use the article by @li2020association as our reference. <span class="co">[</span><span class="ot">DOI:10.1038/s41371-019-0224-9</span><span class="co">](https://www.nature.com/articles/s41371-019-0224-9.pdf)</span>.</span>
<span id="cb48-25"><a href="#cb48-25"></a></span>
<span id="cb48-26"><a href="#cb48-26"></a>::: column-margin</span>
<span id="cb48-27"><a href="#cb48-27"></a><span class="co">[</span><span class="ot">@li2020association</span><span class="co">]</span></span>
<span id="cb48-28"><a href="#cb48-28"></a>:::</span>
<span id="cb48-29"><a href="#cb48-29"></a></span>
<span id="cb48-30"><a href="#cb48-30"></a><span class="fu">### Video content (optional)</span></span>
<span id="cb48-31"><a href="#cb48-31"></a></span>
<span id="cb48-32"><a href="#cb48-32"></a>::: callout-tip</span>
<span id="cb48-33"><a href="#cb48-33"></a>For those who prefer a video walkthrough, feel free to watch the video below, which offers a description of an earlier version of the content.</span>
<span id="cb48-34"><a href="#cb48-34"></a>:::</span>
<span id="cb48-35"><a href="#cb48-35"></a></span>
<span id="cb48-36"><a href="#cb48-36"></a>::: {style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"}</span>
<span id="cb48-37"><a href="#cb48-37"></a><span class="kw">&lt;iframe</span> <span class="er">src</span><span class="ot">=</span><span class="st">"https://www.youtube.com/embed/U5vGa6wF50M"</span> <span class="er">style</span><span class="ot">=</span><span class="st">"position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"</span> <span class="er">allowfullscreen</span><span class="kw">&gt;</span></span>
<span id="cb48-38"><a href="#cb48-38"></a></span>
<span id="cb48-39"><a href="#cb48-39"></a><span class="kw">&lt;/iframe&gt;</span></span>
<span id="cb48-40"><a href="#cb48-40"></a>:::</span>
<span id="cb48-41"><a href="#cb48-41"></a></span>
<span id="cb48-42"><a href="#cb48-42"></a><span class="fu">### Loading saved data</span></span>
<span id="cb48-43"><a href="#cb48-43"></a></span>
<span id="cb48-44"><a href="#cb48-44"></a>The following code chunk loads an RData file named that was saved in the previous step. The RData file typically contains saved R objects like data frames, lists, etc.</span>
<span id="cb48-45"><a href="#cb48-45"></a></span>
<span id="cb48-46"><a href="#cb48-46"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-47"><a href="#cb48-47"></a><span class="fu">load</span>(<span class="st">"Data/researchquestion/Analytic2013.RData"</span>)</span>
<span id="cb48-48"><a href="#cb48-48"></a><span class="in">```</span></span>
<span id="cb48-49"><a href="#cb48-49"></a></span>
<span id="cb48-50"><a href="#cb48-50"></a>The following code lists all the objects in the current workspace.</span>
<span id="cb48-51"><a href="#cb48-51"></a></span>
<span id="cb48-52"><a href="#cb48-52"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-53"><a href="#cb48-53"></a><span class="fu">ls</span>()</span>
<span id="cb48-54"><a href="#cb48-54"></a><span class="in">```</span></span>
<span id="cb48-55"><a href="#cb48-55"></a></span>
<span id="cb48-56"><a href="#cb48-56"></a>The following shows the column names of the <span class="in">`analytic.data`</span> data frame.</span>
<span id="cb48-57"><a href="#cb48-57"></a></span>
<span id="cb48-58"><a href="#cb48-58"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-59"><a href="#cb48-59"></a><span class="fu">names</span>(analytic.data)</span>
<span id="cb48-60"><a href="#cb48-60"></a><span class="in">```</span></span>
<span id="cb48-61"><a href="#cb48-61"></a></span>
<span id="cb48-62"><a href="#cb48-62"></a>The following provides summary statistics for the column <span class="in">`BPXDI1`</span> in the <span class="in">`analytic.data`</span> data frame.</span>
<span id="cb48-63"><a href="#cb48-63"></a></span>
<span id="cb48-64"><a href="#cb48-64"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-65"><a href="#cb48-65"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>BPXDI1)</span>
<span id="cb48-66"><a href="#cb48-66"></a><span class="in">```</span></span>
<span id="cb48-67"><a href="#cb48-67"></a></span>
<span id="cb48-68"><a href="#cb48-68"></a><span class="fu">### Target</span></span>
<span id="cb48-69"><a href="#cb48-69"></a></span>
<span id="cb48-70"><a href="#cb48-70"></a>First, we need to understand the data well. What is the common support in all of the population?</span>
<span id="cb48-71"><a href="#cb48-71"></a></span>
<span id="cb48-72"><a href="#cb48-72"></a>| Variable | Target                                      |</span>
<span id="cb48-73"><a href="#cb48-73"></a>|----------|---------------------------------------------|</span>
<span id="cb48-74"><a href="#cb48-74"></a>| SEQN     | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-75"><a href="#cb48-75"></a>| RIAGENDR | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-76"><a href="#cb48-76"></a>| RIDAGEYR | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-77"><a href="#cb48-77"></a>| RIDRETH3 | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-78"><a href="#cb48-78"></a>| DMDMARTL | Both males and females 20 YEARS - 150 YEARS |</span>
<span id="cb48-79"><a href="#cb48-79"></a>| WTINT2YR | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-80"><a href="#cb48-80"></a>| WTMEC2YR | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-81"><a href="#cb48-81"></a>| SDMVPSU  | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-82"><a href="#cb48-82"></a>| SDMVSTRA | Both males and females 0 YEARS - 150 YEARS  |</span>
<span id="cb48-83"><a href="#cb48-83"></a>| BPXDI1   | Both males and females 8 YEARS - 150 YEARS  |</span>
<span id="cb48-84"><a href="#cb48-84"></a>| BPXSY1   | Both males and females 8 YEARS - 150 YEARS  |</span>
<span id="cb48-85"><a href="#cb48-85"></a>| SMQ040   | Both males and females 18 YEARS - 150 YEARS |</span>
<span id="cb48-86"><a href="#cb48-86"></a>| ALQ130   | Both males and females 18 YEARS - 150 YEARS |</span>
<span id="cb48-87"><a href="#cb48-87"></a>| <span class="sc">\-</span>       | <span class="sc">\-</span>                                          |</span>
<span id="cb48-88"><a href="#cb48-88"></a></span>
<span id="cb48-89"><a href="#cb48-89"></a>Both males and females 20 YEARS - 150 YEARS. The study should be restricted to age 20 and +.</span>
<span id="cb48-90"><a href="#cb48-90"></a></span>
<span id="cb48-91"><a href="#cb48-91"></a><span class="fu">### Recode and Univariate summary</span></span>
<span id="cb48-92"><a href="#cb48-92"></a></span>
<span id="cb48-93"><a href="#cb48-93"></a><span class="fu">#### Blood pressure</span></span>
<span id="cb48-94"><a href="#cb48-94"></a></span>
<span id="cb48-95"><a href="#cb48-95"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-96"><a href="#cb48-96"></a><span class="fu">require</span>(car)</span>
<span id="cb48-97"><a href="#cb48-97"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>BPXSY1)</span>
<span id="cb48-98"><a href="#cb48-98"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>BPXDI1)</span>
<span id="cb48-99"><a href="#cb48-99"></a><span class="co"># what is 0 blood pressure?</span></span>
<span id="cb48-100"><a href="#cb48-100"></a><span class="co"># change all 0 to NA</span></span>
<span id="cb48-101"><a href="#cb48-101"></a>analytic.data<span class="sc">$</span>BPXDI1 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data<span class="sc">$</span>BPXDI1, <span class="st">"0=NA"</span>) </span>
<span id="cb48-102"><a href="#cb48-102"></a><span class="in">```</span></span>
<span id="cb48-103"><a href="#cb48-103"></a></span>
<span id="cb48-104"><a href="#cb48-104"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-105"><a href="#cb48-105"></a><span class="co">#create a new variable</span></span>
<span id="cb48-106"><a href="#cb48-106"></a>analytic.data<span class="sc">$</span>blood.pressure <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>BPXDI1 </span>
<span id="cb48-107"><a href="#cb48-107"></a><span class="in">```</span></span>
<span id="cb48-108"><a href="#cb48-108"></a></span>
<span id="cb48-109"><a href="#cb48-109"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-110"><a href="#cb48-110"></a><span class="co"># delete old variable</span></span>
<span id="cb48-111"><a href="#cb48-111"></a>analytic.data<span class="sc">$</span>BPXDI1 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb48-112"><a href="#cb48-112"></a><span class="in">```</span></span>
<span id="cb48-113"><a href="#cb48-113"></a></span>
<span id="cb48-114"><a href="#cb48-114"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-115"><a href="#cb48-115"></a><span class="co"># check summary</span></span>
<span id="cb48-116"><a href="#cb48-116"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>blood.pressure)</span>
<span id="cb48-117"><a href="#cb48-117"></a><span class="in">```</span></span>
<span id="cb48-118"><a href="#cb48-118"></a></span>
<span id="cb48-119"><a href="#cb48-119"></a><span class="fu">#### Race</span></span>
<span id="cb48-120"><a href="#cb48-120"></a></span>
<span id="cb48-121"><a href="#cb48-121"></a>The <span class="in">`RIDRETH3`</span> column is recoded to simplify racial categories.</span>
<span id="cb48-122"><a href="#cb48-122"></a></span>
<span id="cb48-123"><a href="#cb48-123"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-124"><a href="#cb48-124"></a>analytic.data<span class="sc">$</span>RIDRETH3 <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data<span class="sc">$</span>RIDRETH3, </span>
<span id="cb48-125"><a href="#cb48-125"></a>                                 <span class="st">"c('Non-Hispanic Asian','Other Race - Including Multi-Rac')='Other race'"</span>)</span>
<span id="cb48-126"><a href="#cb48-126"></a>analytic.data<span class="sc">$</span>race <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIDRETH3</span>
<span id="cb48-127"><a href="#cb48-127"></a>analytic.data<span class="sc">$</span>RIDRETH3 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb48-128"><a href="#cb48-128"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>race,<span class="at">useNA=</span><span class="st">"always"</span>)</span>
<span id="cb48-129"><a href="#cb48-129"></a><span class="in">```</span></span>
<span id="cb48-130"><a href="#cb48-130"></a></span>
<span id="cb48-131"><a href="#cb48-131"></a><span class="fu">#### Age (centering)</span></span>
<span id="cb48-132"><a href="#cb48-132"></a></span>
<span id="cb48-133"><a href="#cb48-133"></a>Age values are centered around the mean age for those who are 20 years or older.</span>
<span id="cb48-134"><a href="#cb48-134"></a></span>
<span id="cb48-135"><a href="#cb48-135"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-136"><a href="#cb48-136"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>RIDAGEYR)</span>
<span id="cb48-137"><a href="#cb48-137"></a>centre.adult <span class="ot">&lt;-</span> <span class="fu">mean</span>(analytic.data<span class="sc">$</span>RIDAGEYR[analytic.data<span class="sc">$</span>RIDAGEYR <span class="sc">&gt;=</span> <span class="dv">20</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-138"><a href="#cb48-138"></a>centre.adult</span>
<span id="cb48-139"><a href="#cb48-139"></a><span class="co"># This is actually not the correct mean age. Guess why?</span></span>
<span id="cb48-140"><a href="#cb48-140"></a><span class="co"># Hint: see the NHANES data dictionary for age variable.</span></span>
<span id="cb48-141"><a href="#cb48-141"></a>analytic.data<span class="sc">$</span>RIDAGEYRc <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIDAGEYR <span class="sc">-</span> centre.adult</span>
<span id="cb48-142"><a href="#cb48-142"></a>analytic.data<span class="sc">$</span>age.centred <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIDAGEYRc</span>
<span id="cb48-143"><a href="#cb48-143"></a>analytic.data<span class="sc">$</span>RIDAGEYRc <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb48-144"><a href="#cb48-144"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>age.centred)</span>
<span id="cb48-145"><a href="#cb48-145"></a><span class="in">```</span></span>
<span id="cb48-146"><a href="#cb48-146"></a></span>
<span id="cb48-147"><a href="#cb48-147"></a><span class="fu">#### Gender</span></span>
<span id="cb48-148"><a href="#cb48-148"></a></span>
<span id="cb48-149"><a href="#cb48-149"></a>A new column <span class="in">`gender`</span> is created for gender details.</span>
<span id="cb48-150"><a href="#cb48-150"></a></span>
<span id="cb48-151"><a href="#cb48-151"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-152"><a href="#cb48-152"></a>analytic.data<span class="sc">$</span>gender <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>RIAGENDR</span>
<span id="cb48-153"><a href="#cb48-153"></a>analytic.data<span class="sc">$</span>RIAGENDR <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb48-154"><a href="#cb48-154"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>gender, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb48-155"><a href="#cb48-155"></a><span class="in">```</span></span>
<span id="cb48-156"><a href="#cb48-156"></a></span>
<span id="cb48-157"><a href="#cb48-157"></a><span class="fu">#### Marital status</span></span>
<span id="cb48-158"><a href="#cb48-158"></a></span>
<span id="cb48-159"><a href="#cb48-159"></a>The marital status is simplified.</span>
<span id="cb48-160"><a href="#cb48-160"></a></span>
<span id="cb48-161"><a href="#cb48-161"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-162"><a href="#cb48-162"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>DMDMARTL)</span>
<span id="cb48-163"><a href="#cb48-163"></a>analytic.data<span class="sc">$</span>DMDMARTL <span class="ot">&lt;-</span> <span class="fu">recode</span>(analytic.data<span class="sc">$</span>DMDMARTL, </span>
<span id="cb48-164"><a href="#cb48-164"></a>                                 <span class="st">"c('Widowed','Divorced','Separated')='Previously married';</span></span>
<span id="cb48-165"><a href="#cb48-165"></a><span class="st">                                 c('Living with partner','Married')='Married'; </span></span>
<span id="cb48-166"><a href="#cb48-166"></a><span class="st">                                 'Never married' = 'Never married';</span></span>
<span id="cb48-167"><a href="#cb48-167"></a><span class="st">                                 else=NA"</span>)</span>
<span id="cb48-168"><a href="#cb48-168"></a><span class="co"># what happened to 77 and 99? Hint: else</span></span>
<span id="cb48-169"><a href="#cb48-169"></a>analytic.data<span class="sc">$</span>marital <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>DMDMARTL </span>
<span id="cb48-170"><a href="#cb48-170"></a>analytic.data<span class="sc">$</span>DMDMARTL <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb48-171"><a href="#cb48-171"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>marital, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb48-172"><a href="#cb48-172"></a><span class="in">```</span></span>
<span id="cb48-173"><a href="#cb48-173"></a></span>
<span id="cb48-174"><a href="#cb48-174"></a><span class="fu">#### Alcohol</span></span>
<span id="cb48-175"><a href="#cb48-175"></a></span>
<span id="cb48-176"><a href="#cb48-176"></a>For Alcohol, codes like 777 and 999 are converted to <span class="in">`NA`</span>.</span>
<span id="cb48-177"><a href="#cb48-177"></a></span>
<span id="cb48-178"><a href="#cb48-178"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-179"><a href="#cb48-179"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>ALQ130)</span>
<span id="cb48-180"><a href="#cb48-180"></a><span class="co"># what is  777 and 999? See NHANES data dictionary.</span></span>
<span id="cb48-181"><a href="#cb48-181"></a><span class="co"># Refused and Don't know</span></span>
<span id="cb48-182"><a href="#cb48-182"></a>analytic.data<span class="sc">$</span>ALQ130[analytic.data<span class="sc">$</span>ALQ130 <span class="sc">==</span> <span class="dv">999</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb48-183"><a href="#cb48-183"></a>analytic.data<span class="sc">$</span>ALQ130[analytic.data<span class="sc">$</span>ALQ130 <span class="sc">==</span> <span class="dv">777</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb48-184"><a href="#cb48-184"></a>analytic.data<span class="sc">$</span>alcohol <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>ALQ130</span>
<span id="cb48-185"><a href="#cb48-185"></a>analytic.data<span class="sc">$</span>ALQ130 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb48-186"><a href="#cb48-186"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>alcohol, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb48-187"><a href="#cb48-187"></a><span class="in">```</span></span>
<span id="cb48-188"><a href="#cb48-188"></a></span>
<span id="cb48-189"><a href="#cb48-189"></a><span class="fu">#### Smoking</span></span>
<span id="cb48-190"><a href="#cb48-190"></a></span>
<span id="cb48-191"><a href="#cb48-191"></a>Similar to alcohol, unusual codes are converted to <span class="in">`NA`</span>.</span>
<span id="cb48-192"><a href="#cb48-192"></a></span>
<span id="cb48-193"><a href="#cb48-193"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-194"><a href="#cb48-194"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>SMQ040)</span>
<span id="cb48-195"><a href="#cb48-195"></a><span class="co"># what is  7 and 9? See NHANES data dictionary.</span></span>
<span id="cb48-196"><a href="#cb48-196"></a><span class="co"># Refused and Don't know</span></span>
<span id="cb48-197"><a href="#cb48-197"></a>analytic.data<span class="sc">$</span>SMQ040[analytic.data<span class="sc">$</span>SMQ040 <span class="sc">==</span> <span class="dv">9</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb48-198"><a href="#cb48-198"></a>analytic.data<span class="sc">$</span>SMQ040[analytic.data<span class="sc">$</span>SMQ040 <span class="sc">==</span> <span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb48-199"><a href="#cb48-199"></a>analytic.data<span class="sc">$</span>smoke <span class="ot">&lt;-</span> analytic.data<span class="sc">$</span>SMQ040</span>
<span id="cb48-200"><a href="#cb48-200"></a>analytic.data<span class="sc">$</span>SMQ040 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb48-201"><a href="#cb48-201"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>smoke, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb48-202"><a href="#cb48-202"></a><span class="in">```</span></span>
<span id="cb48-203"><a href="#cb48-203"></a></span>
<span id="cb48-204"><a href="#cb48-204"></a><span class="fu">### Renaming</span></span>
<span id="cb48-205"><a href="#cb48-205"></a></span>
<span id="cb48-206"><a href="#cb48-206"></a>Columns in the data frame are renamed for better readability.</span>
<span id="cb48-207"><a href="#cb48-207"></a></span>
<span id="cb48-208"><a href="#cb48-208"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-209"><a href="#cb48-209"></a><span class="fu">names</span>(analytic.data)</span>
<span id="cb48-210"><a href="#cb48-210"></a><span class="in">```</span></span>
<span id="cb48-211"><a href="#cb48-211"></a></span>
<span id="cb48-212"><a href="#cb48-212"></a>Order is important.</span>
<span id="cb48-213"><a href="#cb48-213"></a></span>
<span id="cb48-214"><a href="#cb48-214"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-215"><a href="#cb48-215"></a><span class="fu">names</span>(analytic.data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"age"</span>, <span class="st">"w.all"</span>, <span class="st">"w.MEC"</span>, <span class="st">"PSU"</span>, <span class="st">"STRATA"</span>, </span>
<span id="cb48-216"><a href="#cb48-216"></a>                          <span class="st">"systolic"</span>, <span class="st">"diastolic"</span>, <span class="st">"race"</span>, <span class="st">"age.centred"</span>, </span>
<span id="cb48-217"><a href="#cb48-217"></a>                          <span class="st">"gender"</span>, <span class="st">"marital"</span>, <span class="st">"alcohol"</span>, <span class="st">"smoke"</span>)</span>
<span id="cb48-218"><a href="#cb48-218"></a><span class="in">```</span></span>
<span id="cb48-219"><a href="#cb48-219"></a></span>
<span id="cb48-220"><a href="#cb48-220"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-221"><a href="#cb48-221"></a><span class="fu">names</span>(analytic.data)</span>
<span id="cb48-222"><a href="#cb48-222"></a><span class="in">```</span></span>
<span id="cb48-223"><a href="#cb48-223"></a></span>
<span id="cb48-224"><a href="#cb48-224"></a><span class="fu">### Subsetting to avoid zero-cells</span></span>
<span id="cb48-225"><a href="#cb48-225"></a></span>
<span id="cb48-226"><a href="#cb48-226"></a>A new age category (<span class="in">`age.cat`</span>) is created to segregate the data. Remember that, the target for marital status component was <span class="in">`20 YEARS - 150 YEARS`</span>.</span>
<span id="cb48-227"><a href="#cb48-227"></a></span>
<span id="cb48-228"><a href="#cb48-228"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-229"><a href="#cb48-229"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>age)</span>
<span id="cb48-230"><a href="#cb48-230"></a><span class="in">```</span></span>
<span id="cb48-231"><a href="#cb48-231"></a></span>
<span id="cb48-232"><a href="#cb48-232"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-233"><a href="#cb48-233"></a>analytic.data<span class="sc">$</span>age.cat <span class="ot">&lt;-</span> <span class="fu">cut</span>(analytic.data<span class="sc">$</span>age, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">20</span>,<span class="dv">50</span>,<span class="sc">+</span><span class="cn">Inf</span>), <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb48-234"><a href="#cb48-234"></a><span class="in">```</span></span>
<span id="cb48-235"><a href="#cb48-235"></a></span>
<span id="cb48-236"><a href="#cb48-236"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-237"><a href="#cb48-237"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>age.cat)</span>
<span id="cb48-238"><a href="#cb48-238"></a><span class="in">```</span></span>
<span id="cb48-239"><a href="#cb48-239"></a></span>
<span id="cb48-240"><a href="#cb48-240"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-241"><a href="#cb48-241"></a><span class="fu">summary</span>(analytic.data<span class="sc">$</span>alcohol)</span>
<span id="cb48-242"><a href="#cb48-242"></a><span class="in">```</span></span>
<span id="cb48-243"><a href="#cb48-243"></a></span>
<span id="cb48-244"><a href="#cb48-244"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-245"><a href="#cb48-245"></a><span class="fu">table</span>(analytic.data<span class="sc">$</span>age.cat, analytic.data<span class="sc">$</span>marital)</span>
<span id="cb48-246"><a href="#cb48-246"></a><span class="in">```</span></span>
<span id="cb48-247"><a href="#cb48-247"></a></span>
<span id="cb48-248"><a href="#cb48-248"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-249"><a href="#cb48-249"></a><span class="fu">dim</span>(analytic.data)</span>
<span id="cb48-250"><a href="#cb48-250"></a>analytic.data1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(analytic.data , <span class="sc">!</span><span class="fu">is.na</span>(age) <span class="sc">&amp;</span> age <span class="sc">&gt;=</span> <span class="dv">20</span>)</span>
<span id="cb48-251"><a href="#cb48-251"></a><span class="fu">dim</span>(analytic.data1)</span>
<span id="cb48-252"><a href="#cb48-252"></a><span class="in">```</span></span>
<span id="cb48-253"><a href="#cb48-253"></a></span>
<span id="cb48-254"><a href="#cb48-254"></a>**Note**: This subsetting is problematic for further survey data analysis. We will learn to work with this subsetting correctly later.</span>
<span id="cb48-255"><a href="#cb48-255"></a></span>
<span id="cb48-256"><a href="#cb48-256"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-257"><a href="#cb48-257"></a>analytic.data1<span class="sc">$</span>age <span class="ot">&lt;-</span><span class="cn">NULL</span></span>
<span id="cb48-258"><a href="#cb48-258"></a><span class="in">```</span></span>
<span id="cb48-259"><a href="#cb48-259"></a></span>
<span id="cb48-260"><a href="#cb48-260"></a><span class="fu">### Summary</span></span>
<span id="cb48-261"><a href="#cb48-261"></a></span>
<span id="cb48-262"><a href="#cb48-262"></a>This part provides various summary statistics for the processed data.</span>
<span id="cb48-263"><a href="#cb48-263"></a></span>
<span id="cb48-264"><a href="#cb48-264"></a><span class="fu">#### Univariate summary for the complete case</span></span>
<span id="cb48-265"><a href="#cb48-265"></a></span>
<span id="cb48-266"><a href="#cb48-266"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-267"><a href="#cb48-267"></a><span class="fu">summary</span>(analytic.data1<span class="sc">$</span>diastolic)</span>
<span id="cb48-268"><a href="#cb48-268"></a><span class="in">```</span></span>
<span id="cb48-269"><a href="#cb48-269"></a></span>
<span id="cb48-270"><a href="#cb48-270"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-271"><a href="#cb48-271"></a><span class="fu">table</span>(analytic.data1<span class="sc">$</span>race,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb48-272"><a href="#cb48-272"></a><span class="in">```</span></span>
<span id="cb48-273"><a href="#cb48-273"></a></span>
<span id="cb48-274"><a href="#cb48-274"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-275"><a href="#cb48-275"></a><span class="fu">summary</span>(analytic.data1<span class="sc">$</span>age.centred)</span>
<span id="cb48-276"><a href="#cb48-276"></a><span class="in">```</span></span>
<span id="cb48-277"><a href="#cb48-277"></a></span>
<span id="cb48-278"><a href="#cb48-278"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-279"><a href="#cb48-279"></a><span class="fu">table</span>(analytic.data1<span class="sc">$</span>gender,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb48-280"><a href="#cb48-280"></a><span class="in">```</span></span>
<span id="cb48-281"><a href="#cb48-281"></a></span>
<span id="cb48-282"><a href="#cb48-282"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-283"><a href="#cb48-283"></a><span class="fu">table</span>(analytic.data1<span class="sc">$</span>marital,<span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb48-284"><a href="#cb48-284"></a><span class="in">```</span></span>
<span id="cb48-285"><a href="#cb48-285"></a></span>
<span id="cb48-286"><a href="#cb48-286"></a><span class="fu">## Saving for further use</span></span>
<span id="cb48-287"><a href="#cb48-287"></a></span>
<span id="cb48-288"><a href="#cb48-288"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-289"><a href="#cb48-289"></a><span class="fu">save</span>(analytic.data1, <span class="at">file =</span> <span class="st">"Data/researchquestion/NHANESanalytic.Rdata"</span>)</span>
<span id="cb48-290"><a href="#cb48-290"></a><span class="in">```</span></span>
<span id="cb48-291"><a href="#cb48-291"></a></span>
<span id="cb48-292"><a href="#cb48-292"></a><span class="fu">## Regression summary (Optional)</span></span>
<span id="cb48-293"><a href="#cb48-293"></a></span>
<span id="cb48-294"><a href="#cb48-294"></a>::: column-margin</span>
<span id="cb48-295"><a href="#cb48-295"></a>This is optional content for this chapter. Later in <span class="co">[</span><span class="ot">confounding</span><span class="co">](confounding.html)</span> and <span class="co">[</span><span class="ot">predictive factor</span><span class="co">](predictivefactors.html)</span> chapters, we will learn more about adjustment.</span>
<span id="cb48-296"><a href="#cb48-296"></a>:::</span>
<span id="cb48-297"><a href="#cb48-297"></a></span>
<span id="cb48-298"><a href="#cb48-298"></a>Different General Linear Models (GLMs) are fit for diastolic blood pressure using variables like gender, marital status, etc.</span>
<span id="cb48-299"><a href="#cb48-299"></a></span>
<span id="cb48-300"><a href="#cb48-300"></a><span class="fu">### Bivariate Regression summary (missing values included)</span></span>
<span id="cb48-301"><a href="#cb48-301"></a></span>
<span id="cb48-302"><a href="#cb48-302"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-303"><a href="#cb48-303"></a>fit1g <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender, <span class="at">data=</span>analytic.data1)</span>
<span id="cb48-304"><a href="#cb48-304"></a><span class="fu">summary</span>(fit1g)</span>
<span id="cb48-305"><a href="#cb48-305"></a><span class="in">```</span></span>
<span id="cb48-306"><a href="#cb48-306"></a></span>
<span id="cb48-307"><a href="#cb48-307"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-308"><a href="#cb48-308"></a>fit1m <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> marital, <span class="at">data=</span>analytic.data1)</span>
<span id="cb48-309"><a href="#cb48-309"></a><span class="fu">summary</span>(fit1m)</span>
<span id="cb48-310"><a href="#cb48-310"></a><span class="in">```</span></span>
<span id="cb48-311"><a href="#cb48-311"></a></span>
<span id="cb48-312"><a href="#cb48-312"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-313"><a href="#cb48-313"></a><span class="fu">str</span>(analytic.data1)</span>
<span id="cb48-314"><a href="#cb48-314"></a>fit13 <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender<span class="sc">+</span>age.centred<span class="sc">+</span>race<span class="sc">+</span>marital<span class="sc">+</span>systolic<span class="sc">+</span>smoke<span class="sc">+</span>alcohol, <span class="at">data=</span>analytic.data1)</span>
<span id="cb48-315"><a href="#cb48-315"></a><span class="fu">summary</span>(fit13)</span>
<span id="cb48-316"><a href="#cb48-316"></a><span class="in">```</span></span>
<span id="cb48-317"><a href="#cb48-317"></a></span>
<span id="cb48-318"><a href="#cb48-318"></a><span class="fu">## Check missingness (optional)</span></span>
<span id="cb48-319"><a href="#cb48-319"></a></span>
<span id="cb48-320"><a href="#cb48-320"></a>::: column-margin</span>
<span id="cb48-321"><a href="#cb48-321"></a>A subsequent <span class="co">[</span><span class="ot">chapter</span><span class="co">](missingdata.html)</span> will delve into the additional factors that impact how we handle missing data.</span>
<span id="cb48-322"><a href="#cb48-322"></a>:::</span>
<span id="cb48-323"><a href="#cb48-323"></a></span>
<span id="cb48-324"><a href="#cb48-324"></a>The <span class="in">`plot_missing()`</span> function from the <span class="in">`DataExplorer`</span> package is used to plot missing data.</span>
<span id="cb48-325"><a href="#cb48-325"></a></span>
<span id="cb48-326"><a href="#cb48-326"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-327"><a href="#cb48-327"></a><span class="fu">require</span>(DataExplorer)</span>
<span id="cb48-328"><a href="#cb48-328"></a><span class="fu">plot_missing</span>(analytic.data1)</span>
<span id="cb48-329"><a href="#cb48-329"></a><span class="in">```</span></span>
<span id="cb48-330"><a href="#cb48-330"></a></span>
<span id="cb48-331"><a href="#cb48-331"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-332"><a href="#cb48-332"></a><span class="fu">require</span>(<span class="st">"tableone"</span>)</span>
<span id="cb48-333"><a href="#cb48-333"></a>vars <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"systolic"</span>, <span class="st">"smoke"</span>, <span class="st">"diastolic"</span>, <span class="st">"race"</span>, </span>
<span id="cb48-334"><a href="#cb48-334"></a>                       <span class="st">"age.centred"</span>, <span class="st">"gender"</span>, <span class="st">"marital"</span>, <span class="st">"alcohol"</span>)</span>
<span id="cb48-335"><a href="#cb48-335"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data1, <span class="at">includeNA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-336"><a href="#cb48-336"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb48-337"><a href="#cb48-337"></a><span class="in">```</span></span>
<span id="cb48-338"><a href="#cb48-338"></a></span>
<span id="cb48-339"><a href="#cb48-339"></a><span class="fu">### Setting correct variable types</span></span>
<span id="cb48-340"><a href="#cb48-340"></a></span>
<span id="cb48-341"><a href="#cb48-341"></a>The variables are explicitly set to either numeric or factor types.</span>
<span id="cb48-342"><a href="#cb48-342"></a></span>
<span id="cb48-343"><a href="#cb48-343"></a>**Note**: In case any of the variables types are wrong, your table 1 output will be wrong. Better to be sure about what type of variable you want them to be (numeric or factor). For example, <span class="in">`systolic`</span> should be numeric. Is it defined that way?</span>
<span id="cb48-344"><a href="#cb48-344"></a></span>
<span id="cb48-345"><a href="#cb48-345"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-346"><a href="#cb48-346"></a><span class="fu">mode</span>(analytic.data1<span class="sc">$</span>systolic)</span>
<span id="cb48-347"><a href="#cb48-347"></a><span class="in">```</span></span>
<span id="cb48-348"><a href="#cb48-348"></a></span>
<span id="cb48-349"><a href="#cb48-349"></a>In case it wasn't (often they can get converted to character), then here is the solution:</span>
<span id="cb48-350"><a href="#cb48-350"></a></span>
<span id="cb48-351"><a href="#cb48-351"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-352"><a href="#cb48-352"></a><span class="co"># solution 1: one-by-one</span></span>
<span id="cb48-353"><a href="#cb48-353"></a>analytic.data1<span class="sc">$</span>systolic <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(analytic.data1<span class="sc">$</span>systolic))</span>
<span id="cb48-354"><a href="#cb48-354"></a><span class="fu">summary</span>(analytic.data1<span class="sc">$</span>systolic)</span>
<span id="cb48-355"><a href="#cb48-355"></a><span class="in">```</span></span>
<span id="cb48-356"><a href="#cb48-356"></a></span>
<span id="cb48-357"><a href="#cb48-357"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-358"><a href="#cb48-358"></a><span class="co"># solution 2: fixing all variable types at once</span></span>
<span id="cb48-359"><a href="#cb48-359"></a>numeric.names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"systolic"</span>, <span class="st">"diastolic"</span>, <span class="st">"age.centred"</span>, <span class="st">"alcohol"</span>)</span>
<span id="cb48-360"><a href="#cb48-360"></a>factor.names <span class="ot">&lt;-</span> vars[<span class="sc">!</span>vars <span class="sc">%in%</span> numeric.names]</span>
<span id="cb48-361"><a href="#cb48-361"></a>factor.names</span>
<span id="cb48-362"><a href="#cb48-362"></a>analytic.data1[,factor.names] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(analytic.data1[,factor.names] , factor)</span>
<span id="cb48-363"><a href="#cb48-363"></a>analytic.data1[numeric.names] <span class="ot">&lt;-</span> <span class="fu">apply</span>(<span class="at">X =</span> analytic.data1[numeric.names],</span>
<span id="cb48-364"><a href="#cb48-364"></a>                                       <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span><span class="cf">function</span> (x) </span>
<span id="cb48-365"><a href="#cb48-365"></a>                                         <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(x)))</span>
<span id="cb48-366"><a href="#cb48-366"></a><span class="fu">levels</span>(analytic.data1<span class="sc">$</span>marital)</span>
<span id="cb48-367"><a href="#cb48-367"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data1, <span class="at">includeNA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-368"><a href="#cb48-368"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb48-369"><a href="#cb48-369"></a><span class="in">```</span></span>
<span id="cb48-370"><a href="#cb48-370"></a></span>
<span id="cb48-371"><a href="#cb48-371"></a><span class="fu">### Complete case analysis</span></span>
<span id="cb48-372"><a href="#cb48-372"></a></span>
<span id="cb48-373"><a href="#cb48-373"></a>Removes all rows containing <span class="in">`NA`</span>.</span>
<span id="cb48-374"><a href="#cb48-374"></a></span>
<span id="cb48-375"><a href="#cb48-375"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-376"><a href="#cb48-376"></a><span class="fu">dim</span>(analytic.data1)</span>
<span id="cb48-377"><a href="#cb48-377"></a>analytic.data2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">na.omit</span>(analytic.data1))</span>
<span id="cb48-378"><a href="#cb48-378"></a><span class="fu">dim</span>(analytic.data2)</span>
<span id="cb48-379"><a href="#cb48-379"></a><span class="fu">plot_missing</span>(analytic.data2)</span>
<span id="cb48-380"><a href="#cb48-380"></a><span class="in">```</span></span>
<span id="cb48-381"><a href="#cb48-381"></a></span>
<span id="cb48-382"><a href="#cb48-382"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-383"><a href="#cb48-383"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data2, <span class="at">includeNA =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-384"><a href="#cb48-384"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb48-385"><a href="#cb48-385"></a><span class="co"># For categorical variables, try to see if </span></span>
<span id="cb48-386"><a href="#cb48-386"></a><span class="co"># any categories have 0% or 100% frequency.</span></span>
<span id="cb48-387"><a href="#cb48-387"></a><span class="co"># If yes, those may create problem in further analysis.</span></span>
<span id="cb48-388"><a href="#cb48-388"></a><span class="in">```</span></span>
<span id="cb48-389"><a href="#cb48-389"></a></span>
<span id="cb48-390"><a href="#cb48-390"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-391"><a href="#cb48-391"></a>fit23 <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender<span class="sc">+</span>age.centred<span class="sc">+</span>race<span class="sc">+</span>marital<span class="sc">+</span>systolic<span class="sc">+</span>smoke<span class="sc">+</span>alcohol, <span class="at">data=</span>analytic.data2)</span>
<span id="cb48-392"><a href="#cb48-392"></a><span class="fu">require</span>(Publish)</span>
<span id="cb48-393"><a href="#cb48-393"></a><span class="fu">publish</span>(fit23)</span>
<span id="cb48-394"><a href="#cb48-394"></a><span class="in">```</span></span>
<span id="cb48-395"><a href="#cb48-395"></a></span>
<span id="cb48-396"><a href="#cb48-396"></a><span class="fu">### Imputed data</span></span>
<span id="cb48-397"><a href="#cb48-397"></a></span>
<span id="cb48-398"><a href="#cb48-398"></a>We will learn about proper missing data analysis at a latter class. Currently, we will do a simple (but rather controversial) single imputation. In here we are simply using a random sampling to impute (probably the worst method, but we are just filling in some gaps for now).</span>
<span id="cb48-399"><a href="#cb48-399"></a></span>
<span id="cb48-400"><a href="#cb48-400"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-401"><a href="#cb48-401"></a><span class="fu">require</span>(mice)</span>
<span id="cb48-402"><a href="#cb48-402"></a>imputation1 <span class="ot">&lt;-</span> <span class="fu">mice</span>(analytic.data1,</span>
<span id="cb48-403"><a href="#cb48-403"></a>                   <span class="at">method =</span> <span class="st">"sample"</span>,  </span>
<span id="cb48-404"><a href="#cb48-404"></a>                   <span class="at">m =</span> <span class="dv">1</span>, <span class="co"># Number of multiple imputations. </span></span>
<span id="cb48-405"><a href="#cb48-405"></a>                   <span class="at">maxit =</span> <span class="dv">1</span> <span class="co"># Number of iteration; mostly useful for convergence</span></span>
<span id="cb48-406"><a href="#cb48-406"></a>                   )</span>
<span id="cb48-407"><a href="#cb48-407"></a>analytic.data.imputation1 <span class="ot">&lt;-</span> <span class="fu">complete</span>(imputation1)</span>
<span id="cb48-408"><a href="#cb48-408"></a><span class="fu">dim</span>(analytic.data.imputation1)</span>
<span id="cb48-409"><a href="#cb48-409"></a><span class="fu">str</span>(analytic.data.imputation1)</span>
<span id="cb48-410"><a href="#cb48-410"></a><span class="fu">plot_missing</span>(analytic.data.imputation1)</span>
<span id="cb48-411"><a href="#cb48-411"></a><span class="in">```</span></span>
<span id="cb48-412"><a href="#cb48-412"></a></span>
<span id="cb48-413"><a href="#cb48-413"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-414"><a href="#cb48-414"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> analytic.data.imputation1, <span class="at">includeNA =</span> <span class="cn">TRUE</span>,</span>
<span id="cb48-415"><a href="#cb48-415"></a>               <span class="at">vars =</span> vars)</span>
<span id="cb48-416"><a href="#cb48-416"></a><span class="co"># For categorical variables, try to see if </span></span>
<span id="cb48-417"><a href="#cb48-417"></a><span class="co"># any categories have 0% or 100% frequency.</span></span>
<span id="cb48-418"><a href="#cb48-418"></a><span class="co"># If yes, those may create problem in further analysis.</span></span>
<span id="cb48-419"><a href="#cb48-419"></a><span class="in">```</span></span>
<span id="cb48-420"><a href="#cb48-420"></a></span>
<span id="cb48-421"><a href="#cb48-421"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-422"><a href="#cb48-422"></a>fit23i <span class="ot">&lt;-</span> <span class="fu">glm</span>(diastolic <span class="sc">~</span> gender<span class="sc">+</span>age.centred<span class="sc">+</span>race<span class="sc">+</span>marital<span class="sc">+</span>systolic<span class="sc">+</span>smoke<span class="sc">+</span>alcohol, <span class="at">data=</span>analytic.data.imputation1)</span>
<span id="cb48-423"><a href="#cb48-423"></a><span class="fu">publish</span>(fit23i)</span>
<span id="cb48-424"><a href="#cb48-424"></a><span class="in">```</span></span>
<span id="cb48-425"><a href="#cb48-425"></a></span>
<span id="cb48-426"><a href="#cb48-426"></a>We see some changes in the estimates. After imputing compared to complete case analysis, any changes dramatic (e.g., changing conclusion)?</span>
<span id="cb48-427"><a href="#cb48-427"></a></span>
<span id="cb48-428"><a href="#cb48-428"></a>::: column-margin</span>
<span id="cb48-429"><a href="#cb48-429"></a>Additional factors come into play when dealing with complex survey datasets; these will be explored in a subsequent <span class="co">[</span><span class="ot">chapter</span><span class="co">](surveydata.html)</span>.</span>
<span id="cb48-430"><a href="#cb48-430"></a>:::</span>
<span id="cb48-431"><a href="#cb48-431"></a></span>
<span id="cb48-432"><a href="#cb48-432"></a><span class="in">```{r, cache=TRUE}</span></span>
<span id="cb48-433"><a href="#cb48-433"></a><span class="fu">require</span>(jtools)</span>
<span id="cb48-434"><a href="#cb48-434"></a><span class="fu">require</span>(ggstance)</span>
<span id="cb48-435"><a href="#cb48-435"></a><span class="fu">require</span>(broom.mixed)</span>
<span id="cb48-436"><a href="#cb48-436"></a><span class="fu">require</span>(huxtable)</span>
<span id="cb48-437"><a href="#cb48-437"></a><span class="fu">export_summs</span>(fit23, fit23i)</span>
<span id="cb48-438"><a href="#cb48-438"></a><span class="fu">plot_summs</span>(fit23, fit23i)</span>
<span id="cb48-439"><a href="#cb48-439"></a><span class="co"># plot_summs(fit23, fit23i, plot.distributions = TRUE)</span></span>
<span id="cb48-440"><a href="#cb48-440"></a><span class="in">```</span></span>
<span id="cb48-441"><a href="#cb48-441"></a></span>
<span id="cb48-442"><a href="#cb48-442"></a><span class="fu">## Exercise (try yourself)</span></span>
<span id="cb48-443"><a href="#cb48-443"></a></span>
<span id="cb48-444"><a href="#cb48-444"></a>In this lab, we have done multiple steps that could be improved. One of them was single imputation by random sampling. What other ad hoc method you could use to impute the factor variables?</span>
<span id="cb48-445"><a href="#cb48-445"></a></span>
<span id="cb48-446"><a href="#cb48-446"></a><span class="fu">## References</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>