{
  "hash": "940b93155f3bca86704889034da62cda",
  "result": {
    "markdown": "## Predictive question-2b {.unnumbered}\n\n### Working with a Predictive question using NHANES\n\n**Part 2: Analysis of downloaded data**:\n\nThis tutorial provides a comprehensive guide to NHANES data preparation and initial analysis using R. The tutorial covers topics such as loading dataset, variable recoding, data summary statistics, and various types of regression analyses, including bivariate and multivariate models. It also delves into dealing with missing data, first by omitting NA values for a complete case analysis and then using a simple imputation method. The guide is designed to walk the reader through each step of data manipulation and analysis, with a focus on avoiding common pitfalls in statistical analysis.\n\n\n\n\n\n### Example article\n\nWe are continuing to use the article by @li2020association as our reference. [DOI:10.1038/s41371-019-0224-9](https://www.nature.com/articles/s41371-019-0224-9.pdf).\n\n::: column-margin\n[@li2020association]\n:::\n\n### Video content (optional)\n\n::: callout-tip\nFor those who prefer a video walkthrough, feel free to watch the video below, which offers a description of an earlier version of the content.\n:::\n\n::: {style=\"position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;\"}\n<iframe src=\"https://www.youtube.com/embed/U5vGa6wF50M\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;\" allowfullscreen>\n\n</iframe>\n:::\n\n### Loading saved data\n\nThe following code chunk loads an RData file named that was saved in the previous step. The RData file typically contains saved R objects like data frames, lists, etc.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-1_edc258445b368f26c5905b81efd96741'}\n\n```{.r .cell-code}\nload(\"Data/researchquestion/Analytic2013.RData\")\n```\n:::\n\n\nThe following code lists all the objects in the current workspace.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-2_484c06a0b09916b5724c4328b0a48385'}\n\n```{.r .cell-code}\nls()\n#> [1] \"analytic.data\"   \"has_annotations\"\n```\n:::\n\n\nThe following shows the column names of the `analytic.data` data frame.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-3_9c4fa30b6baedf792c9b1dfb76546a43'}\n\n```{.r .cell-code}\nnames(analytic.data)\n#>  [1] \"SEQN\"     \"RIAGENDR\" \"RIDAGEYR\" \"RIDRETH3\" \"DMDMARTL\" \"WTINT2YR\"\n#>  [7] \"WTMEC2YR\" \"SDMVPSU\"  \"SDMVSTRA\" \"BPXDI1\"   \"BPXSY1\"   \"SMQ040\"  \n#> [13] \"ALQ130\"\n```\n:::\n\n\nThe following provides summary statistics for the column `BPXDI1` in the `analytic.data` data frame.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-4_1ba6dddbe9294b0b00dba5c9e2612c46'}\n\n```{.r .cell-code}\nsummary(analytic.data$BPXDI1)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>    0.00   58.00   66.00   65.77   76.00  122.00    3003\n```\n:::\n\n\n### Target\n\nFirst, we need to understand the data well. What is the common support in all of the population?\n\n| Variable | Target                                      |\n|----------|---------------------------------------------|\n| SEQN     | Both males and females 0 YEARS - 150 YEARS  |\n| RIAGENDR | Both males and females 0 YEARS - 150 YEARS  |\n| RIDAGEYR | Both males and females 0 YEARS - 150 YEARS  |\n| RIDRETH3 | Both males and females 0 YEARS - 150 YEARS  |\n| DMDMARTL | Both males and females 20 YEARS - 150 YEARS |\n| WTINT2YR | Both males and females 0 YEARS - 150 YEARS  |\n| WTMEC2YR | Both males and females 0 YEARS - 150 YEARS  |\n| SDMVPSU  | Both males and females 0 YEARS - 150 YEARS  |\n| SDMVSTRA | Both males and females 0 YEARS - 150 YEARS  |\n| BPXDI1   | Both males and females 8 YEARS - 150 YEARS  |\n| BPXSY1   | Both males and females 8 YEARS - 150 YEARS  |\n| SMQ040   | Both males and females 18 YEARS - 150 YEARS |\n| ALQ130   | Both males and females 18 YEARS - 150 YEARS |\n| \\-       | \\-                                          |\n\nBoth males and females 20 YEARS - 150 YEARS. The study should be restricted to age 20 and +.\n\n### Recode and Univariate summary\n\n#### Blood pressure\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-5_2ee82e415ef05711fde32c6d82e5a5ba'}\n\n```{.r .cell-code}\nrequire(car)\nsummary(analytic.data$BPXSY1)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>    66.0   106.0   116.0   118.1   128.0   228.0    3003\nsummary(analytic.data$BPXDI1)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>    0.00   58.00   66.00   65.77   76.00  122.00    3003\n# what is 0 blood pressure?\n# change all 0 to NA\nanalytic.data$BPXDI1 <- recode(analytic.data$BPXDI1, \"0=NA\") \n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-6_a1232641c59eb6bed62714798bf6f47b'}\n\n```{.r .cell-code}\n#create a new variable\nanalytic.data$blood.pressure <- analytic.data$BPXDI1 \n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-7_135a247662f561e80b0d68f1ef7cf1df'}\n\n```{.r .cell-code}\n# delete old variable\nanalytic.data$BPXDI1 <- NULL\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-8_2d17f2bfed370943778f68f01914c662'}\n\n```{.r .cell-code}\n# check summary\nsummary(analytic.data$blood.pressure)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>    4.00   58.00   68.00   66.54   76.00  122.00    3086\n```\n:::\n\n\n#### Race\n\nThe `RIDRETH3` column is recoded to simplify racial categories.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-9_7fd1e2443b005980a37ed0dd84ff06cb'}\n\n```{.r .cell-code}\nanalytic.data$RIDRETH3 <- \n  recode(analytic.data$RIDRETH3,\n         \"c('Non-Hispanic Asian',\n         'Other Race - Including Multi-Rac')='Other race'\")\nanalytic.data$race <- analytic.data$RIDRETH3\nanalytic.data$RIDRETH3 <- NULL\ntable(analytic.data$race,useNA=\"always\")\n#> \n#>   Mexican American Non-Hispanic Black Non-Hispanic White     Other Hispanic \n#>               1730               2267               3674                960 \n#>         Other race               <NA> \n#>               1544                  0\n```\n:::\n\n\n#### Age (centering)\n\nAge values are centered around the mean age for those who are 20 years or older.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-10_52c539aa98ba97a57ef8a2c744ffb808'}\n\n```{.r .cell-code}\nsummary(analytic.data$RIDAGEYR)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n#>    0.00   10.00   26.00   31.48   52.00   80.00\ncentre.adult <- mean(analytic.data$RIDAGEYR[analytic.data$RIDAGEYR \n                                            >= 20], na.rm = TRUE)\ncentre.adult\n#> [1] 49.11111\n# This is actually not the correct mean age. Guess why?\n# Hint: see the NHANES data dictionary for age variable.\nanalytic.data$RIDAGEYRc <- analytic.data$RIDAGEYR - centre.adult\nanalytic.data$age.centred <- analytic.data$RIDAGEYRc\nanalytic.data$RIDAGEYRc <- NULL\nsummary(analytic.data$age.centred)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n#> -49.111 -39.111 -23.111 -17.627   2.889  30.889\n```\n:::\n\n\n#### Gender\n\nA new column `gender` is created for gender details.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-11_509162c337a92ca8ebd3fa0a17a8863e'}\n\n```{.r .cell-code}\nanalytic.data$gender <- analytic.data$RIAGENDR\nanalytic.data$RIAGENDR <- NULL\ntable(analytic.data$gender, useNA = \"always\")\n#> \n#>   Male Female   <NA> \n#>   5003   5172      0\n```\n:::\n\n\n#### Marital status\n\nThe marital status is simplified.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-12_374b0efe286334338e4b6de0450e9602'}\n\n```{.r .cell-code}\nsummary(analytic.data$DMDMARTL)\n#>             Married             Widowed            Divorced           Separated \n#>                2965                 436                 659                 177 \n#>       Never married Living with partner             Refused          Don't Know \n#>                1112                 417                   2                   1 \n#>                NA's \n#>                4406\nanalytic.data$DMDMARTL <- \n  recode(analytic.data$DMDMARTL, \n  \"c('Widowed','Divorced','Separated')='Previously married';\n  c('Living with partner','Married')='Married'; \n  'Never married' = 'Never married';\n  else=NA\")\n\n# what happened to 77 and 99? Hint: else\nanalytic.data$marital <- analytic.data$DMDMARTL \nanalytic.data$DMDMARTL <- NULL\ntable(analytic.data$marital, useNA = \"always\")\n#> \n#>            Married      Never married Previously married               <NA> \n#>               3382               1112               1272               4409\n```\n:::\n\n\n#### Alcohol\n\nFor Alcohol, codes like 777 and 999 are converted to `NA`.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-13_76fc5d72a5630382be7b8936158df880'}\n\n```{.r .cell-code}\nsummary(analytic.data$ALQ130)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>   1.000   1.000   2.000   3.511   3.000 999.000    6579\n# what is  777 and 999? See NHANES data dictionary.\n# Refused and Don't know\nanalytic.data$ALQ130[analytic.data$ALQ130 == 999] <- NA\nanalytic.data$ALQ130[analytic.data$ALQ130 == 777] <- NA\nanalytic.data$alcohol <- analytic.data$ALQ130\nanalytic.data$ALQ130 <- NULL\ntable(analytic.data$alcohol, useNA = \"always\")\n#> \n#>    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 \n#> 1280 1002  536  283  154  156   23   54    4   28    4   43    5    2    6    4 \n#>   18   20   24   25 <NA> \n#>    3    4    1    1 6582\n```\n:::\n\n\n#### Smoking\n\nSimilar to alcohol, unusual codes are converted to `NA`.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-14_2fa71bbda3f064a57a534cf327aba767'}\n\n```{.r .cell-code}\nsummary(analytic.data$SMQ040)\n#>  Every day  Some days Not at all       NA's \n#>        992        240       1347       7596\n# what is  7 and 9? See NHANES data dictionary.\n# Refused and Don't know\nanalytic.data$SMQ040[analytic.data$SMQ040 == 9] <- NA\nanalytic.data$SMQ040[analytic.data$SMQ040 == 7] <- NA\nanalytic.data$smoke <- analytic.data$SMQ040\nanalytic.data$SMQ040 <- NULL\ntable(analytic.data$smoke, useNA = \"always\")\n#> \n#>  Every day  Some days Not at all       <NA> \n#>        992        240       1347       7596\n```\n:::\n\n\n### Renaming\n\nColumns in the data frame are renamed for better readability.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-15_f6df80c579cd59891fd0429f4cff85e8'}\n\n```{.r .cell-code}\nnames(analytic.data)\n#>  [1] \"SEQN\"           \"RIDAGEYR\"       \"WTINT2YR\"       \"WTMEC2YR\"      \n#>  [5] \"SDMVPSU\"        \"SDMVSTRA\"       \"BPXSY1\"         \"blood.pressure\"\n#>  [9] \"race\"           \"age.centred\"    \"gender\"         \"marital\"       \n#> [13] \"alcohol\"        \"smoke\"\n```\n:::\n\n\nOrder is important.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-16_37f649f00e1e3af522cb1dba7ca1af8d'}\n\n```{.r .cell-code}\nnames(analytic.data) <- c(\"id\", \"age\", \"w.all\", \"w.MEC\", \n                          \"PSU\", \"STRATA\", \"systolic\", \n                          \"diastolic\", \"race\", \"age.centred\", \n                          \"gender\", \"marital\", \"alcohol\", \n                          \"smoke\")\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-17_2fcc3e529785cd0b8fabb2b648a876be'}\n\n```{.r .cell-code}\nnames(analytic.data)\n#>  [1] \"id\"          \"age\"         \"w.all\"       \"w.MEC\"       \"PSU\"        \n#>  [6] \"STRATA\"      \"systolic\"    \"diastolic\"   \"race\"        \"age.centred\"\n#> [11] \"gender\"      \"marital\"     \"alcohol\"     \"smoke\"\n```\n:::\n\n\n### Subsetting to avoid zero-cells\n\nA new age category (`age.cat`) is created to segregate the data. Remember that, the target for marital status component was `20 YEARS - 150 YEARS`.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-18_4042c119243754daedebec4556d3425d'}\n\n```{.r .cell-code}\nsummary(analytic.data$age)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n#>    0.00   10.00   26.00   31.48   52.00   80.00\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-19_aa054f9af6ebe3b96272d8a0f31e8c62'}\n\n```{.r .cell-code}\nanalytic.data$age.cat <- cut(analytic.data$age, \n                             breaks = c(-Inf, 20,50,+Inf), \n                             right = FALSE)\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-20_4535dcac525b5550b038026328e02305'}\n\n```{.r .cell-code}\ntable(analytic.data$age.cat)\n#> \n#> [-Inf,20)   [20,50) [50, Inf) \n#>      4406      2989      2780\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-21_163f18d6c51314937a75477a5cdd26ac'}\n\n```{.r .cell-code}\nsummary(analytic.data$alcohol)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>    1.00    1.00    2.00    2.68    3.00   25.00    6582\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-22_248bf255ff90654833e2b488ef97e20c'}\n\n```{.r .cell-code}\ntable(analytic.data$age.cat, analytic.data$marital)\n#>            \n#>             Married Never married Previously married\n#>   [-Inf,20)       0             0                  0\n#>   [20,50)      1771           890                327\n#>   [50, Inf)    1611           222                945\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-23_53bcc3f4fcd6f12e650e5b75688a13c2'}\n\n```{.r .cell-code}\ndim(analytic.data)\n#> [1] 10175    15\nanalytic.data1 <- subset(analytic.data , \n                         !is.na(age) & age >= 20)\ndim(analytic.data1)\n#> [1] 5769   15\n```\n:::\n\n\n**Note**: This subsetting is problematic for further survey data analysis. We will learn to work with this subsetting correctly later.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-24_f374ddd59be7b920005c4032adcb57ae'}\n\n```{.r .cell-code}\nanalytic.data1$age <-NULL\n```\n:::\n\n\n### Summary\n\nThis part provides various summary statistics for the processed data.\n\n#### Univariate summary for the complete case\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-25_59701fea34e34f5bf9e56cda526b8736'}\n\n```{.r .cell-code}\nsummary(analytic.data1$diastolic)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>     4.0    62.0    70.0    70.3    78.0   122.0     686\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-26_747129fa1084d621913efca5073fb507'}\n\n```{.r .cell-code}\ntable(analytic.data1$race,useNA = \"always\")\n#> \n#>   Mexican American Non-Hispanic Black Non-Hispanic White     Other Hispanic \n#>                767               1177               2472                508 \n#>         Other race               <NA> \n#>                845                  0\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-27_a10de93944ed6d844c5a68f724e2f724'}\n\n```{.r .cell-code}\nsummary(analytic.data1$age.centred)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n#> -29.111 -15.111  -1.111   0.000  13.889  30.889\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-28_1c76280df6044666d83e17a1a72c05a2'}\n\n```{.r .cell-code}\ntable(analytic.data1$gender,useNA = \"always\")\n#> \n#>   Male Female   <NA> \n#>   2758   3011      0\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-29_0c9c8d9f6e32ad6b83aa709e2cd24de6'}\n\n```{.r .cell-code}\ntable(analytic.data1$marital,useNA = \"always\")\n#> \n#>            Married      Never married Previously married               <NA> \n#>               3382               1112               1272                  3\n```\n:::\n\n\n## Saving for further use\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-30_e0523e513c6650e95c86295fea7a9c85'}\n\n```{.r .cell-code}\nsave(analytic.data1, \n     file = \"Data/researchquestion/NHANESanalytic.Rdata\")\n```\n:::\n\n\n## Regression summary (Optional)\n\n::: column-margin\nThis is optional content for this chapter. Later in [confounding](confounding.html) and [predictive factor](predictivefactors.html) chapters, we will learn more about adjustment.\n:::\n\nDifferent [Generalized Linear Models (GLMs)](https://en.wikipedia.org/wiki/Generalized_linear_model) are fit for diastolic blood pressure using variables like gender, marital status, etc. Below, we used GLMs with the Gaussian family for the continuous outcome diastolic. Note that `gaussian` is the default family for the `glm` function. Some other family options include binomial, poisson, quasibinomial, and so on.\n\n### Bivariate Regression summary (missing values included)\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-31_b1eb9ef7dc4363de6219c16fe9a752b3'}\n\n```{.r .cell-code}\nfit1g <- glm(diastolic ~ gender, data = analytic.data1)\nsummary(fit1g)\n#> \n#> Call:\n#> glm(formula = diastolic ~ gender, data = analytic.data1)\n#> \n#> Deviance Residuals: \n#>     Min       1Q   Median       3Q      Max  \n#> -67.579   -7.091    0.421    6.909   50.421  \n#> \n#> Coefficients:\n#>              Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)   71.5789     0.2352 304.299  < 2e-16 ***\n#> genderFemale  -2.4880     0.3278  -7.591 3.76e-14 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> (Dispersion parameter for gaussian family taken to be 136.3911)\n#> \n#>     Null deviance: 700862  on 5082  degrees of freedom\n#> Residual deviance: 693003  on 5081  degrees of freedom\n#>   (686 observations deleted due to missingness)\n#> AIC: 39415\n#> \n#> Number of Fisher Scoring iterations: 2\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-32_1ecbd9f904e0fbb9bc43a1e22e8367ff'}\n\n```{.r .cell-code}\nfit1m <- glm(diastolic ~ marital, data=analytic.data1)\nsummary(fit1m)\n#> \n#> Call:\n#> glm(formula = diastolic ~ marital, data = analytic.data1)\n#> \n#> Deviance Residuals: \n#>     Min       1Q   Median       3Q      Max  \n#> -66.750   -6.838    1.162    7.250   51.250  \n#> \n#> Coefficients:\n#>                           Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)                70.7500     0.2138 330.901  < 2e-16 ***\n#> maritalNever married       -1.9116     0.4316  -4.429 9.69e-06 ***\n#> maritalPreviously married  -0.3953     0.4140  -0.955     0.34    \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> (Dispersion parameter for gaussian family taken to be 137.5101)\n#> \n#>     Null deviance: 700840  on 5079  degrees of freedom\n#> Residual deviance: 698139  on 5077  degrees of freedom\n#>   (689 observations deleted due to missingness)\n#> AIC: 39434\n#> \n#> Number of Fisher Scoring iterations: 2\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-33_103f5cddba9e9617d7b34483e4338bc1'}\n\n```{.r .cell-code}\nstr(analytic.data1)\n#> 'data.frame':\t5769 obs. of  14 variables:\n#>  $ id         : num  73557 73558 73559 73561 73562 ...\n#>  $ w.all      : num  13281 23682 57215 63710 24978 ...\n#>  $ w.MEC      : num  13481 24472 57193 65542 25345 ...\n#>  $ PSU        : num  1 1 1 2 1 1 2 1 2 2 ...\n#>  $ STRATA     : num  112 108 109 116 111 114 106 112 112 113 ...\n#>  $ systolic   : num  122 156 140 136 160 118 NA 128 140 106 ...\n#>  $ diastolic  : num  72 62 90 86 84 80 NA 74 78 60 ...\n#>  $ race       : Factor w/ 5 levels \"Mexican American\",..: 2 3 3 3 1 3 4 3 3 3 ...\n#>  $ age.centred: num  19.89 4.89 22.89 23.89 6.89 ...\n#>  $ gender     : Factor w/ 2 levels \"Male\",\"Female\": 1 1 1 2 1 2 1 2 1 2 ...\n#>  $ marital    : Factor w/ 3 levels \"Married\",\"Never married\",..: 3 1 1 1 3 3 1 3 3 2 ...\n#>  $ alcohol    : num  1 4 NA NA 1 1 NA 1 3 2 ...\n#>  $ smoke      : Factor w/ 3 levels \"Every day\",\"Some days\",..: 3 2 3 NA 3 NA 3 1 1 NA ...\n#>  $ age.cat    : Factor w/ 3 levels \"[-Inf,20)\",\"[20,50)\",..: 3 3 3 3 3 3 2 3 3 2 ...\nfit13 <- glm(diastolic ~ gender + age.centred + race + \n               marital + systolic + smoke + alcohol, \n             data = analytic.data1)\nsummary(fit13)\n#> \n#> Call:\n#> glm(formula = diastolic ~ gender + age.centred + race + marital + \n#>     systolic + smoke + alcohol, data = analytic.data1)\n#> \n#> Deviance Residuals: \n#>     Min       1Q   Median       3Q      Max  \n#> -75.142   -6.090    0.811    7.074   33.512  \n#> \n#> Coefficients:\n#>                           Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)               30.92372    2.44895  12.627  < 2e-16 ***\n#> genderFemale              -0.34850    0.59830  -0.582 0.560325    \n#> age.centred               -0.13638    0.02142  -6.367 2.56e-10 ***\n#> raceNon-Hispanic Black     1.44736    1.11246   1.301 0.193443    \n#> raceNon-Hispanic White     0.59565    0.96117   0.620 0.535540    \n#> raceOther Hispanic         1.07369    1.29793   0.827 0.408234    \n#> raceOther race             2.02908    1.22998   1.650 0.099216 .  \n#> maritalNever married      -2.92801    0.79123  -3.701 0.000223 ***\n#> maritalPreviously married  0.44754    0.71911   0.622 0.533804    \n#> systolic                   0.31071    0.01763  17.624  < 2e-16 ***\n#> smokeSome days            -0.42177    0.97853  -0.431 0.666513    \n#> smokeNot at all            0.01796    0.65159   0.028 0.978008    \n#> alcohol                    0.17287    0.10994   1.572 0.116060    \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> (Dispersion parameter for gaussian family taken to be 117.7142)\n#> \n#>     Null deviance: 219477  on 1515  degrees of freedom\n#> Residual deviance: 176924  on 1503  degrees of freedom\n#>   (4253 observations deleted due to missingness)\n#> AIC: 11546\n#> \n#> Number of Fisher Scoring iterations: 2\n```\n:::\n\n\n## Check missingness (optional)\n\n::: column-margin\nA subsequent [chapter](missingdata.html) will delve into the additional factors that impact how we handle missing data.\n:::\n\nThe `plot_missing()` function from the `DataExplorer` package is used to plot missing data.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-34_14045427c1eee6b2c8370d54f90d936d'}\n\n```{.r .cell-code}\nrequire(DataExplorer)\nplot_missing(analytic.data1)\n```\n\n::: {.cell-output-display}\n![](researchquestion2b_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-35_f9ba83020a3618a8aa400fd9c7f279a5'}\n\n```{.r .cell-code}\nrequire(\"tableone\")\nvars = c(\"systolic\", \"smoke\", \"diastolic\", \"race\", \n         \"age.centred\", \"gender\", \"marital\", \"alcohol\")\nCreateTableOne(data = analytic.data1, includeNA = TRUE, \n               vars = vars)\n#>                          \n#>                           Overall       \n#>   n                         5769        \n#>   systolic (mean (SD))    123.16 (18.12)\n#>   smoke (%)                             \n#>      Every day               965 (16.7) \n#>      Some days               229 ( 4.0) \n#>      Not at all             1336 (23.2) \n#>      NA                     3239 (56.1) \n#>   diastolic (mean (SD))    70.30 (11.74)\n#>   race (%)                              \n#>      Mexican American        767 (13.3) \n#>      Non-Hispanic Black     1177 (20.4) \n#>      Non-Hispanic White     2472 (42.8) \n#>      Other Hispanic          508 ( 8.8) \n#>      Other race              845 (14.6) \n#>   age.centred (mean (SD))   0.00 (17.56)\n#>   gender = Female (%)       3011 (52.2) \n#>   marital (%)                           \n#>      Married                3382 (58.6) \n#>      Never married          1112 (19.3) \n#>      Previously married     1272 (22.0) \n#>      NA                        3 ( 0.1) \n#>   alcohol (mean (SD))       2.65 (2.34)\n```\n:::\n\n\n### Setting correct variable types\n\nThe variables are explicitly set to either numeric or factor types.\n\n**Note**: In case any of the variables types are wrong, your table 1 output will be wrong. Better to be sure about what type of variable you want them to be (numeric or factor). For example, `systolic` should be numeric. Is it defined that way?\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-36_6d193cbc792f73b7ca8715a91ea754c3'}\n\n```{.r .cell-code}\nmode(analytic.data1$systolic)\n#> [1] \"numeric\"\n```\n:::\n\n\nIn case it wasn't (often they can get converted to character), then here is the solution:\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-37_ea09c49d83e7f4830028373c9339b681'}\n\n```{.r .cell-code}\n# solution 1: one-by-one\nanalytic.data1$systolic <- \n  as.numeric(as.character(analytic.data1$systolic))\nsummary(analytic.data1$systolic)\n#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n#>    66.0   110.0   120.0   123.2   134.0   228.0     658\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-38_6864869f0480bdde718f7c0484330e0b'}\n\n```{.r .cell-code}\n# solution 2: fixing all variable types at once\nnumeric.names <- c(\"systolic\", \"diastolic\", \n                   \"age.centred\", \"alcohol\")\nfactor.names <- vars[!vars %in% numeric.names]\nfactor.names\n#> [1] \"smoke\"   \"race\"    \"gender\"  \"marital\"\nanalytic.data1[,factor.names] <- \n  lapply(analytic.data1[,factor.names] , factor)\nanalytic.data1[numeric.names] <- \n  apply(X = analytic.data1[numeric.names], MARGIN = 2, \n        FUN =function (x) as.numeric(as.character(x)))\nlevels(analytic.data1$marital)\n#> [1] \"Married\"            \"Never married\"      \"Previously married\"\nCreateTableOne(data = analytic.data1, includeNA = TRUE, \n               vars = vars)\n#>                          \n#>                           Overall       \n#>   n                         5769        \n#>   systolic (mean (SD))    123.16 (18.12)\n#>   smoke (%)                             \n#>      Every day               965 (16.7) \n#>      Some days               229 ( 4.0) \n#>      Not at all             1336 (23.2) \n#>      NA                     3239 (56.1) \n#>   diastolic (mean (SD))    70.30 (11.74)\n#>   race (%)                              \n#>      Mexican American        767 (13.3) \n#>      Non-Hispanic Black     1177 (20.4) \n#>      Non-Hispanic White     2472 (42.8) \n#>      Other Hispanic          508 ( 8.8) \n#>      Other race              845 (14.6) \n#>   age.centred (mean (SD))   0.00 (17.56)\n#>   gender = Female (%)       3011 (52.2) \n#>   marital (%)                           \n#>      Married                3382 (58.6) \n#>      Never married          1112 (19.3) \n#>      Previously married     1272 (22.0) \n#>      NA                        3 ( 0.1) \n#>   alcohol (mean (SD))       2.65 (2.34)\n```\n:::\n\n\n### Complete case analysis\n\nRemoves all rows containing `NA`.\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-39_e8efeb372115e769eb21750a2bb7332d'}\n\n```{.r .cell-code}\ndim(analytic.data1)\n#> [1] 5769   14\nanalytic.data2 <- as.data.frame(na.omit(analytic.data1))\ndim(analytic.data2)\n#> [1] 1516   14\nplot_missing(analytic.data2)\n```\n\n::: {.cell-output-display}\n![](researchquestion2b_files/figure-html/unnamed-chunk-39-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-40_4fe9cbb5cd70a220f1c93f450f753e63'}\n\n```{.r .cell-code}\ntab1 <- CreateTableOne(data = analytic.data2, includeNA = TRUE, \n               vars = vars)\nprint(tab1)\n#>                          \n#>                           Overall       \n#>   n                         1516        \n#>   systolic (mean (SD))    123.29 (17.58)\n#>   smoke (%)                             \n#>      Every day               590 (38.9) \n#>      Some days               159 (10.5) \n#>      Not at all              767 (50.6) \n#>   diastolic (mean (SD))    70.11 (12.04)\n#>   race (%)                              \n#>      Mexican American        162 (10.7) \n#>      Non-Hispanic Black      292 (19.3) \n#>      Non-Hispanic White      778 (51.3) \n#>      Other Hispanic          126 ( 8.3) \n#>      Other race              158 (10.4) \n#>   age.centred (mean (SD))  -0.76 (16.71)\n#>   gender = Female (%)        626 (41.3) \n#>   marital (%)                           \n#>      Married                 858 (56.6) \n#>      Never married           300 (19.8) \n#>      Previously married      358 (23.6) \n#>   alcohol (mean (SD))       3.15 (2.76)\n# For categorical variables, try to see if \n# any categories have 0% or 100% frequency.\n# If yes, those may create problem in further analysis.\n```\n:::\n\n\nWe can export the tableone to a csv file as follows:\n\n\n::: {.cell hash='researchquestion2b_cache/html/savetable1_26343d0cdc908985ba71c48a7c47508d'}\n\n```{.r .cell-code}\ntabl1p <- print(tab1)\n#>                          \n#>                           Overall       \n#>   n                         1516        \n#>   systolic (mean (SD))    123.29 (17.58)\n#>   smoke (%)                             \n#>      Every day               590 (38.9) \n#>      Some days               159 (10.5) \n#>      Not at all              767 (50.6) \n#>   diastolic (mean (SD))    70.11 (12.04)\n#>   race (%)                              \n#>      Mexican American        162 (10.7) \n#>      Non-Hispanic Black      292 (19.3) \n#>      Non-Hispanic White      778 (51.3) \n#>      Other Hispanic          126 ( 8.3) \n#>      Other race              158 (10.4) \n#>   age.centred (mean (SD))  -0.76 (16.71)\n#>   gender = Female (%)        626 (41.3) \n#>   marital (%)                           \n#>      Married                 858 (56.6) \n#>      Never married           300 (19.8) \n#>      Previously married      358 (23.6) \n#>   alcohol (mean (SD))       3.15 (2.76)\nwrite.csv(tabl1p, file = \"Data/researchquestion/table1.csv\")\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-41_46e6772dcb16f244ed53f3505b130137'}\n\n```{.r .cell-code}\nfit23 <- glm(diastolic ~ gender + age.centred + race + \n               marital + systolic + smoke + alcohol, \n             data = analytic.data2)\nrequire(Publish)\npublish(fit23)\n#>     Variable              Units Coefficient         CI.95     p-value \n#>  (Intercept)                          30.92 [26.12;35.72]     < 1e-04 \n#>       gender               Male         Ref                           \n#>                          Female       -0.35  [-1.52;0.82]   0.5603254 \n#>  age.centred                          -0.14 [-0.18;-0.09]     < 1e-04 \n#>         race   Mexican American         Ref                           \n#>              Non-Hispanic Black        1.45  [-0.73;3.63]   0.1934428 \n#>              Non-Hispanic White        0.60  [-1.29;2.48]   0.5355396 \n#>                  Other Hispanic        1.07  [-1.47;3.62]   0.4082336 \n#>                      Other race        2.03  [-0.38;4.44]   0.0992165 \n#>      marital            Married         Ref                           \n#>                   Never married       -2.93 [-4.48;-1.38]   0.0002229 \n#>              Previously married        0.45  [-0.96;1.86]   0.5338035 \n#>     systolic                           0.31   [0.28;0.35]     < 1e-04 \n#>        smoke          Every day         Ref                           \n#>                       Some days       -0.42  [-2.34;1.50]   0.6665127 \n#>                      Not at all        0.02  [-1.26;1.30]   0.9780080 \n#>      alcohol                           0.17  [-0.04;0.39]   0.1160603\n```\n:::\n\n\n### Imputed data\n\nWe will learn about proper missing data analysis at a latter class. Currently, we will do a simple (but rather controversial) single imputation. In here we are simply using a random sampling to impute (probably the worst method, but we are just filling in some gaps for now).\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-42_bbea5598dabd1c4d0c20e008d89d850d'}\n\n```{.r .cell-code}\nrequire(mice)\nimputation1 <- mice(analytic.data1,\n                   method = \"sample\",  \n                   m = 1, # Number of multiple imputations\n                   maxit = 1 # #iteration; mostly useful for convergence\n                   )\n#> \n#>  iter imp variable\n#>   1   1  systolic  diastolic  marital  alcohol  smoke\n#> Warning: Number of logged events: 5\nanalytic.data.imputation1 <- complete(imputation1)\ndim(analytic.data.imputation1)\n#> [1] 5769   14\nstr(analytic.data.imputation1)\n#> 'data.frame':\t5769 obs. of  14 variables:\n#>  $ id         : num  73557 73558 73559 73561 73562 ...\n#>  $ w.all      : num  13281 23682 57215 63710 24978 ...\n#>  $ w.MEC      : num  13481 24472 57193 65542 25345 ...\n#>  $ PSU        : num  1 1 1 2 1 1 2 1 2 2 ...\n#>  $ STRATA     : num  112 108 109 116 111 114 106 112 112 113 ...\n#>  $ systolic   : num  122 156 140 136 160 118 180 128 140 106 ...\n#>  $ diastolic  : num  72 62 90 86 84 80 84 74 78 60 ...\n#>  $ race       : Factor w/ 5 levels \"Mexican American\",..: 2 3 3 3 1 3 4 3 3 3 ...\n#>  $ age.centred: num  19.89 4.89 22.89 23.89 6.89 ...\n#>  $ gender     : Factor w/ 2 levels \"Male\",\"Female\": 1 1 1 2 1 2 1 2 1 2 ...\n#>  $ marital    : Factor w/ 3 levels \"Married\",\"Never married\",..: 3 1 1 1 3 3 1 3 3 2 ...\n#>  $ alcohol    : num  1 4 2 1 1 1 2 1 3 2 ...\n#>  $ smoke      : Factor w/ 3 levels \"Every day\",\"Some days\",..: 3 2 3 3 3 3 3 1 1 1 ...\n#>  $ age.cat    : Factor w/ 3 levels \"[-Inf,20)\",\"[20,50)\",..: 3 3 3 3 3 3 2 3 3 2 ...\nplot_missing(analytic.data.imputation1)\n```\n\n::: {.cell-output-display}\n![](researchquestion2b_files/figure-html/unnamed-chunk-42-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-43_cb46fe7c140e629bb77252b937117590'}\n\n```{.r .cell-code}\nCreateTableOne(data = analytic.data.imputation1, includeNA = TRUE,\n               vars = vars)\n#>                          \n#>                           Overall       \n#>   n                         5769        \n#>   systolic (mean (SD))    123.17 (18.14)\n#>   smoke (%)                             \n#>      Every day              2196 (38.1) \n#>      Some days               531 ( 9.2) \n#>      Not at all             3042 (52.7) \n#>   diastolic (mean (SD))    70.33 (11.76)\n#>   race (%)                              \n#>      Mexican American        767 (13.3) \n#>      Non-Hispanic Black     1177 (20.4) \n#>      Non-Hispanic White     2472 (42.8) \n#>      Other Hispanic          508 ( 8.8) \n#>      Other race              845 (14.6) \n#>   age.centred (mean (SD))   0.00 (17.56)\n#>   gender = Female (%)       3011 (52.2) \n#>   marital (%)                           \n#>      Married                3384 (58.7) \n#>      Never married          1112 (19.3) \n#>      Previously married     1273 (22.1) \n#>   alcohol (mean (SD))       2.67 (2.36)\n# For categorical variables, try to see if \n# any categories have 0% or 100% frequency.\n# If yes, those may create problem in further analysis.\n```\n:::\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-44_e86d1b5714552e694986fbcf5b07187f'}\n\n```{.r .cell-code}\nfit23i <- glm(diastolic ~ gender + age.centred + race + \n                marital + systolic + smoke + alcohol, \n              data = analytic.data.imputation1)\npublish(fit23i)\n#>     Variable              Units Coefficient         CI.95    p-value \n#>  (Intercept)                          39.78 [37.44;42.13]    < 1e-04 \n#>       gender               Male         Ref                          \n#>                          Female       -1.41 [-1.99;-0.83]    < 1e-04 \n#>  age.centred                          -0.11 [-0.13;-0.09]    < 1e-04 \n#>         race   Mexican American         Ref                          \n#>              Non-Hispanic Black        0.75  [-0.26;1.76]   0.146424 \n#>              Non-Hispanic White        0.50  [-0.39;1.39]   0.271641 \n#>                  Other Hispanic        0.51  [-0.71;1.73]   0.413715 \n#>                      Other race        1.43   [0.36;2.50]   0.008652 \n#>      marital            Married         Ref                          \n#>                   Never married       -2.73 [-3.53;-1.92]    < 1e-04 \n#>              Previously married       -0.31  [-1.05;0.43]   0.410962 \n#>     systolic                           0.25   [0.24;0.27]    < 1e-04 \n#>        smoke          Every day         Ref                          \n#>                       Some days       -0.32  [-1.35;0.72]   0.550088 \n#>                      Not at all       -0.32  [-0.93;0.28]   0.297969 \n#>      alcohol                           0.10  [-0.02;0.22]   0.101564\n```\n:::\n\n\nWe see some changes in the estimates. After imputing compared to complete case analysis, any changes dramatic (e.g., changing conclusion)?\n\n::: column-margin\nAdditional factors come into play when dealing with complex survey datasets; these will be explored in a subsequent [chapter](surveydata.html).\n:::\n\n\n::: {.cell hash='researchquestion2b_cache/html/unnamed-chunk-45_fb6b0437c80bf0fce4ad2a8842d7e8a3'}\n\n```{.r .cell-code}\nrequire(jtools)\nrequire(ggstance)\nrequire(broom.mixed)\nrequire(huxtable)\nexport_summs(fit23, fit23i)\n```\n\n::: {.cell-output-display}\n```{=html}\n<table class=\"huxtable\" style=\"border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  \" id=\"tab:unnamed-chunk-45\">\n<col><col><col><tr>\n<th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">Model 1</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">Model 2</th></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(Intercept)</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">30.92 ***</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">39.78 ***</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(2.45)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(1.20)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">genderFemale</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.35&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-1.41 ***</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.60)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.29)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">age.centred</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.14 ***</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.11 ***</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.02)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.01)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">raceNon-Hispanic Black</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1.45&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.75&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(1.11)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.51)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">raceNon-Hispanic White</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.60&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.50&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.96)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.45)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">raceOther Hispanic</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1.07&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.51&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(1.30)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.62)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">raceOther race</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">2.03&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1.43 **&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(1.23)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.55)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">maritalNever married</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-2.93 ***</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-2.73 ***</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.79)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.41)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">maritalPreviously married</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.45&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.31&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.72)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.38)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">systolic</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.31 ***</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.25 ***</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.02)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.01)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">smokeSome days</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.42&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.32&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.98)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.53)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">smokeNot at all</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.02&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.32&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.65)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.31)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">alcohol</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.17&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.10&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.11)&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(0.06)&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">N</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1516&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">5769&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">AIC</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">11545.85&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">43937.11&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">BIC</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">11620.38&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">44030.35&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">Pseudo R2</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.19&nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.14&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n<tr>\n<th colspan=\"3\" style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"> *** p &lt; 0.001;  ** p &lt; 0.01;  * p &lt; 0.05.</th></tr>\n</table>\n\n```\n:::\n\n```{.r .cell-code}\nplot_summs(fit23, fit23i)\n```\n\n::: {.cell-output-display}\n![](researchquestion2b_files/figure-html/unnamed-chunk-45-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# plot_summs(fit23, fit23i, plot.distributions = TRUE)\n```\n:::\n\n\n## Exercise (try yourself)\n\nIn this lab, we have done multiple steps that could be improved. One of them was single imputation by random sampling. What other ad hoc method you could use to impute the factor variables?\n\n## References\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}